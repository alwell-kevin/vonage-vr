{"version":3,"sources":["webpack:///js/aframe-app.js","webpack:///webpack/bootstrap 0ae2f09814f661969b74","webpack:///./src/aframe/aframe-app.js","webpack:///./src/aframe/components/index.js","webpack:///./src/aframe/components/aframe-teleport-controls.js","webpack:///./src/aframe/components/look-at.js","webpack:///./src/aframe/components/aframe-gif-shader.js","webpack:///./src/aframe/components/aframe-animation-component.js","webpack:///./src/aframe/components/aframe-animation-timeline-component.js","webpack:///./src/aframe/components/teleport-extras.js","webpack:///./src/aframe/components/toggle-on-event.js","webpack:///./src/aframe/components/lookatlabel.js","webpack:///./src/aframe/components/ui-console.js","webpack:///./src/aframe/components/checkpointspot.js","webpack:///./src/aframe/components/video-controls.js","webpack:///./src/aframe/components/panel.js","webpack:///./src/aframe/components/panelbtn.js","webpack:///./src/aframe/components/trunk.js","webpack:///./src/aframe/shaders/index.js","webpack:///./src/aframe/shaders/custom-shader.js","webpack:///./src/aframe/primitives/index.js","webpack:///./src/aframe/primitives/a-custom-box.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","Array","concat","id","loaded","createLine","data","numPoints","type","curveNumberPoints","RayCurve","curveLineWidth","createHitEntity","cylinder","hitEntity","torus","document","createElement","className","setAttribute","primitive","radius","hitCylinderRadius","radiusTubular","x","y","z","shader","color","hitCylinderColor","side","depthTest","appendChild","hitCylinderHeight","segmentsHeight","height","openEnded","src","cylinderTexture","transparent","createDefaultPlane","size","geometry","material","THREE","PlaneBufferGeometry","rotateX","Math","PI","MeshBasicMaterial","Mesh","parabolicCurve","AFRAME","Error","Element","matches","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","this","ownerDocument","querySelectorAll","length","item","registerComponent","schema","default","oneOf","button","startEvents","endEvents","collisionEntities","cameraRig","teleportOrigin","min","maxLength","if","curveHitColor","curveMissColor","curveShootingSpeed","defaultPlaneSize","landingNormal","landingMaxAngle","max","init","teleportEntity","el","active","obj","object3D","hitPoint","Vector3","rigWorldPosition","newRigWorldPosition","teleportEventDetail","oldPosition","newPosition","hit","prevHitHeight","referenceNormal","Color","raycaster","Raycaster","defaultPlane","classList","add","sceneEl","onButtonDown","bind","onButtonUp","addEventListener","queryCollisionEntities","update","oldData","diff","utils","copy","set","line","setObject3D","mesh","parentNode","removeChild","remove","removeEventListener","childAttachHandler","childDetachHandler","tick","p0","v0","a","next","last","quaternion","Quaternion","translation","scale","shootAngle","lastNext","auxDirection","time","delta","matrixWorld","decompose","direction","applyQuaternion","normalize","setDirection","getWorldPosition","multiplyScalar","t","dirLastNext","sub","far","checkMeshCollisions","setPoint","slice","evt","detail","push","index","indexOf","splice","teleportOriginWorldPosition","newRigLocalPosition","newHandPosition","handPosition","rig","camera","parent","worldToLocal","hands","emit","meshes","map","entity","getObject3D","filter","intersects","intersectObjects","isValidNormalsAngle","face","normal","point","j","collisionNormal","angleNormals","angleTo","RAD2DEG","parabolicCurveScalar","out","width","BufferGeometry","vertices","Float32Array","uvs","addAttribute","BufferAttribute","setDynamic","DoubleSide","drawMode","TriangleStripDrawMode","frustumCulled","UP","cross","setWidth","posA","posB","idx","attributes","position","needsUpdate","_typeof","Symbol","iterator","constructor","e","r","debug","coordinates","isCoordinates","components","parse","stringify","target3D","vector","keys","lookAt","querySelector","hasLoaded","beginTracking","setFromMatrixPosition","_typeof2","createError","err","status","message","timestamp","Date","now","_gifsparser","parseUrl","srcLoader","enable","warn","log","gifData","registerShader","fog","autoplay","__cnv","__ctx","getContext","__texture","Texture","__material","__reset","addBehavior","__addPublicFunctions","__updateMaterial","__updateTexture","__frames","paused","__startTime","__nextFrameTime","nextFrame","newData","__getMaterialData","forEach","key","__setTexure","__textureSrc","__ready","__autoplay","play","__validateSrc","cb","url","__getImageSrc","__validateAndGetQuerySelector","error","tagName","toLowerCase","srcData","errData","callbacks","onError","_this","tester","Image","crossOrigin","__getUnit8Array","arr","parseGIF","times","cnt","frames","xhr","XMLHttpRequest","open","responseType","uint8Array","Uint8Array","target","response","subarray","header","toString","send","selector","gif","pause","togglePlayback","__paused","__draw","__delayTimes","__frameIdx","__infinity","__loopCnt","__frameCnt","__clearCanvas","clearRect","__width","__height","drawImage","_ref","nearestPowerOfTwo","successCB","errorCB","pos","delayTimes","loadCnt","graphicControl","loopCnt","pow","gifHeader","offset","blockId","label","URL","createObjectURL","Blob","cnv","imageFix","img","onload","toDataURL","split","degToRad","f","u","v","g","b","isRawProperty","startsWith","E","w","anime","h","getComponentProperty","setComponentProperty","A","delay","dir","dur","easing","elasticity","from","loop","parseInt","pauseEvents","resumeEvents","to","multiple","eventDetail","attrName","animation","animationIsPlaying","onStartEvent","beginAnimation","pauseAnimation","resumeAnimation","fromColor","toColor","targets","targetsArray","config","complete","duration","createAndStartAnimation","removeEventListeners","pausedWasPlaying","addEventListeners","updateConfig","setTimeout","seek","stopRelatedAnimations","updateConfigForRawColor","setColorConfig","animatables","updateConfigForDefault","isNaN","parseFloat","aframeProperty","updateConfigForVector","animations","scope","defineProperties","TypeError","value","getGlobal","window","global","SYMBOL_PREFIX","initSymbol","symbolCounter_","initSymbolIterator","writable","arrayIterator","iteratorPrototype","done","array","iteratorFromArray","String","polyfill","apply","D","col","arguments","reduce","str","NodeList","HTMLCollection","some","und","replace","exec","fnc","total","style","getComputedStyle","getPropertyValue","dom","N","getAttribute","svg","transform","sqrt","points","numberOfItems","getItem","getTotalLength","getPointAtLength","atan2","pth","totalLength","rgb","hex","hsl","substr","test","original","numbers","match","Number","strings","P","C","I","M","S","$","H","F","tweens","start","end","isPath","isColor","round","R","animatable","O","L","children","T","Promise","reversed","V","currentValue","k","body","join","currentTime","progress","remaining","began","completed","reset","speed","X","Y","_","reverse","restart","finished","begin","run","isArray","SVGElement","nodeType","abs","sin","asin","In","Out","InOut","linear","css","attribute","requestAnimationFrame","cancelAnimationFrame","version","running","getValue","path","setDashoffset","bezier","easings","timeline","random","floor","clone","registerElement","addAnimationToTimeline","console","cursor","startTouch","keyCode","endTouch","onStartIntersection","onEndIntersection","teleportControls","hideOn","showOn","raycasterObject","noIntersections","toggle","self","updateMatrixWorld","product","triggered","uiEl","rigEl","calcDistance","show","hide","x1","z1","x2","z2","texture","rayobj","ring","vidplay","video","CURRENT_VIDEO","playPromise","undefined","then","catch","WATCHING_VIDEO","videoSrcURL","videoElement","event","userBookmarkService","user","bookmarkedService","email","ajax","base_url","dataType","success","on","base","hover","click","clickAction","hoversnd","clicksnd","hoversound","toggleState","opensound","getElementById","clicksound","coinsound","sound","stopSound","playSound","intersection","clickActionFunctionName","includes","JSON","localStorage","clickActionFunction","setClickAction","action","setActiveState","activeState","clue","opensnd","coinsnd","lid","trunklidAni","shadow","coin","coinAniPos","coinAniRot","coinAniScale","coinAniAlpha","trunkclue","trunkclueAniScale","shut","dashSize","lineWidth","LineDashedMaterial","dashsize","linewidth","extendDeep","meshMixin","primitives","getMeshMixin","registerPrimitive","defaultComponents","mappings","depth"],"mappings":"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","file":"js/aframe-app.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 40);\n/******/ })\n/************************************************************************/\n/******/ (Array(40).concat([\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(41);\n\n__webpack_require__(56);\n\n__webpack_require__(58);\n\n__webpack_require__(59);\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(42);\n\n__webpack_require__(43);\n\n__webpack_require__(44);\n\n__webpack_require__(45);\n\n__webpack_require__(46);\n\n__webpack_require__(47);\n\n__webpack_require__(48);\n\n__webpack_require__(49);\n\n__webpack_require__(50);\n\n__webpack_require__(51);\n\n__webpack_require__(52);\n\n__webpack_require__(53);\n\n__webpack_require__(54);\n\n__webpack_require__(55);\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/******/(function (modules) {\n\t// webpackBootstrap\n\t/******/ // The module cache\n\t/******/var installedModules = {};\n\n\t/******/ // The require function\n\t/******/function __webpack_require__(moduleId) {\n\n\t\t/******/ // Check if module is in cache\n\t\t/******/if (installedModules[moduleId])\n\t\t\t/******/return installedModules[moduleId].exports;\n\n\t\t/******/ // Create a new module (and put it into the cache)\n\t\t/******/var module = installedModules[moduleId] = {\n\t\t\t/******/exports: {},\n\t\t\t/******/id: moduleId,\n\t\t\t/******/loaded: false\n\t\t\t/******/ };\n\n\t\t/******/ // Execute the module function\n\t\t/******/modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t\t/******/ // Flag the module as loaded\n\t\t/******/module.loaded = true;\n\n\t\t/******/ // Return the exports of the module\n\t\t/******/return module.exports;\n\t\t/******/\n\t}\n\n\t/******/ // expose the modules object (__webpack_modules__)\n\t/******/__webpack_require__.m = modules;\n\n\t/******/ // expose the module cache\n\t/******/__webpack_require__.c = installedModules;\n\n\t/******/ // __webpack_public_path__\n\t/******/__webpack_require__.p = \"\";\n\n\t/******/ // Load entry module and return exports\n\t/******/return __webpack_require__(0);\n\t/******/\n})(\n/************************************************************************/\n/******/[\n/* 0 */\n/***/function (module, exports, __webpack_require__) {\n\n\t/* global THREE, AFRAME, Element  */\n\tvar cylinderTexture = __webpack_require__(1);\n\tvar parabolicCurve = __webpack_require__(2);\n\tvar RayCurve = __webpack_require__(3);\n\n\tif (typeof AFRAME === 'undefined') {\n\t\tthrow new Error('Component attempted to register before AFRAME was available.');\n\t}\n\n\tif (!Element.prototype.matches) {\n\t\tElement.prototype.matches = Element.prototype.matchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || Element.prototype.webkitMatchesSelector || function (s) {\n\t\t\tvar matches = (this.document || this.ownerDocument).querySelectorAll(s);\n\t\t\tvar i = matches.length;\n\t\t\twhile (--i >= 0 && matches.item(i) !== this) {/* no-op */}\n\t\t\treturn i > -1;\n\t\t};\n\t}\n\n\tAFRAME.registerComponent('teleport-controls', {\n\t\tschema: {\n\t\t\ttype: { default: 'parabolic', oneOf: ['parabolic', 'line'] },\n\t\t\tbutton: { default: 'trackpad', oneOf: ['trackpad', 'trigger', 'grip', 'menu'] },\n\t\t\tstartEvents: { type: 'array' },\n\t\t\tendEvents: { type: 'array' },\n\t\t\tcollisionEntities: { default: '' },\n\t\t\thitEntity: { type: 'selector' },\n\t\t\tcameraRig: { type: 'selector' },\n\t\t\tteleportOrigin: { type: 'selector' },\n\t\t\thitCylinderColor: { type: 'color', default: '#99ff99' },\n\t\t\thitCylinderRadius: { default: 0.25, min: 0 },\n\t\t\thitCylinderHeight: { default: 0.3, min: 0 },\n\t\t\tmaxLength: { default: 10, min: 0, if: { type: ['line'] } },\n\t\t\tcurveNumberPoints: { default: 30, min: 2, if: { type: ['parabolic'] } },\n\t\t\tcurveLineWidth: { default: 0.025 },\n\t\t\tcurveHitColor: { type: 'color', default: '#99ff99' },\n\t\t\tcurveMissColor: { type: 'color', default: '#ff0000' },\n\t\t\tcurveShootingSpeed: { default: 5, min: 0, if: { type: ['parabolic'] } },\n\t\t\tdefaultPlaneSize: { default: 100 },\n\t\t\tlandingNormal: { type: 'vec3', default: { x: 0, y: 1, z: 0 } },\n\t\t\tlandingMaxAngle: { default: '45', min: 0, max: 360 }\n\t\t},\n\n\t\tinit: function init() {\n\t\t\tvar data = this.data;\n\t\t\tvar el = this.el;\n\t\t\tvar teleportEntity;\n\t\t\tvar i;\n\n\t\t\tthis.active = false;\n\t\t\tthis.obj = el.object3D;\n\t\t\tthis.hitPoint = new THREE.Vector3();\n\t\t\tthis.rigWorldPosition = new THREE.Vector3();\n\t\t\tthis.newRigWorldPosition = new THREE.Vector3();\n\t\t\tthis.teleportEventDetail = {\n\t\t\t\toldPosition: this.rigWorldPosition,\n\t\t\t\tnewPosition: this.newRigWorldPosition,\n\t\t\t\thitPoint: this.hitPoint\n\t\t\t};\n\n\t\t\tthis.hit = false;\n\t\t\tthis.prevHitHeight = 0;\n\t\t\tthis.referenceNormal = new THREE.Vector3();\n\t\t\tthis.curveMissColor = new THREE.Color();\n\t\t\tthis.curveHitColor = new THREE.Color();\n\t\t\tthis.raycaster = new THREE.Raycaster();\n\n\t\t\tthis.defaultPlane = createDefaultPlane(this.data.defaultPlaneSize);\n\n\t\t\tteleportEntity = this.teleportEntity = document.createElement('a-entity');\n\t\t\tteleportEntity.classList.add('teleportRay');\n\t\t\tteleportEntity.setAttribute('visible', false);\n\t\t\tel.sceneEl.appendChild(this.teleportEntity);\n\n\t\t\tthis.onButtonDown = this.onButtonDown.bind(this);\n\t\t\tthis.onButtonUp = this.onButtonUp.bind(this);\n\t\t\tif (this.data.startEvents.length && this.data.endEvents.length) {\n\n\t\t\t\tfor (i = 0; i < this.data.startEvents.length; i++) {\n\t\t\t\t\tel.addEventListener(this.data.startEvents[i], this.onButtonDown);\n\t\t\t\t}\n\t\t\t\tfor (i = 0; i < this.data.endEvents.length; i++) {\n\t\t\t\t\tel.addEventListener(this.data.endEvents[i], this.onButtonUp);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tel.addEventListener(data.button + 'down', this.onButtonDown);\n\t\t\t\tel.addEventListener(data.button + 'up', this.onButtonUp);\n\t\t\t}\n\n\t\t\tthis.queryCollisionEntities();\n\t\t},\n\n\t\tupdate: function update(oldData) {\n\t\t\tvar data = this.data;\n\t\t\tvar diff = AFRAME.utils.diff(data, oldData);\n\n\t\t\t// Update normal.\n\t\t\tthis.referenceNormal.copy(data.landingNormal);\n\n\t\t\t// Update colors.\n\t\t\tthis.curveMissColor.set(data.curveMissColor);\n\t\t\tthis.curveHitColor.set(data.curveHitColor);\n\n\t\t\t// Create or update line mesh.\n\t\t\tif (!this.line || 'curveLineWidth' in diff || 'curveNumberPoints' in diff || 'type' in diff) {\n\t\t\t\tthis.line = createLine(data);\n\t\t\t\tthis.teleportEntity.setObject3D('mesh', this.line.mesh);\n\t\t\t}\n\n\t\t\t// Create or update hit entity.\n\t\t\tif (data.hitEntity) {\n\t\t\t\tthis.hitEntity = data.hitEntity;\n\t\t\t} else if (!this.hitEntity || 'hitCylinderColor' in diff || 'hitCylinderHeight' in diff || 'hitCylinderRadius' in diff) {\n\t\t\t\t// Remove previous entity, create new entity (could be more performant).\n\t\t\t\tif (this.hitEntity) {\n\t\t\t\t\tthis.hitEntity.parentNode.removeChild(this.hitEntity);\n\t\t\t\t}\n\t\t\t\tthis.hitEntity = createHitEntity(data);\n\t\t\t\tthis.el.sceneEl.appendChild(this.hitEntity);\n\t\t\t}\n\t\t\tthis.hitEntity.setAttribute('visible', false);\n\n\t\t\tif ('collisionEntities' in diff) {\n\t\t\t\tthis.queryCollisionEntities();\n\t\t\t}\n\t\t},\n\n\t\tremove: function remove() {\n\t\t\tvar el = this.el;\n\t\t\tvar hitEntity = this.hitEntity;\n\t\t\tvar teleportEntity = this.teleportEntity;\n\n\t\t\tif (hitEntity) {\n\t\t\t\thitEntity.parentNode.removeChild(hitEntity);\n\t\t\t}\n\t\t\tif (teleportEntity) {\n\t\t\t\tteleportEntity.parentNode.removeChild(teleportEntity);\n\t\t\t}\n\n\t\t\tel.sceneEl.removeEventListener('child-attached', this.childAttachHandler);\n\t\t\tel.sceneEl.removeEventListener('child-detached', this.childDetachHandler);\n\t\t},\n\n\t\ttick: function () {\n\t\t\tvar p0 = new THREE.Vector3();\n\t\t\tvar v0 = new THREE.Vector3();\n\t\t\tvar g = -9.8;\n\t\t\tvar a = new THREE.Vector3(0, g, 0);\n\t\t\tvar next = new THREE.Vector3();\n\t\t\tvar last = new THREE.Vector3();\n\t\t\tvar quaternion = new THREE.Quaternion();\n\t\t\tvar translation = new THREE.Vector3();\n\t\t\tvar scale = new THREE.Vector3();\n\t\t\tvar shootAngle = new THREE.Vector3();\n\t\t\tvar lastNext = new THREE.Vector3();\n\t\t\tvar auxDirection = new THREE.Vector3();\n\n\t\t\treturn function (time, delta) {\n\t\t\t\tif (!this.active) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar matrixWorld = this.obj.matrixWorld;\n\t\t\t\tmatrixWorld.decompose(translation, quaternion, scale);\n\n\t\t\t\tvar direction = shootAngle.set(0, 0, -1).applyQuaternion(quaternion).normalize();\n\t\t\t\tthis.line.setDirection(auxDirection.copy(direction));\n\t\t\t\tthis.obj.getWorldPosition(p0);\n\n\t\t\t\tlast.copy(p0);\n\n\t\t\t\t// Set default status as non-hit\n\t\t\t\tthis.teleportEntity.setAttribute('visible', true);\n\t\t\t\tthis.line.material.color.set(this.curveMissColor);\n\t\t\t\tthis.hitEntity.setAttribute('visible', false);\n\t\t\t\tthis.hit = false;\n\n\t\t\t\tif (this.data.type === 'parabolic') {\n\t\t\t\t\tv0.copy(direction).multiplyScalar(this.data.curveShootingSpeed);\n\n\t\t\t\t\tfor (var i = 0; i < this.line.numPoints; i++) {\n\t\t\t\t\t\tvar t = i / (this.line.numPoints - 1);\n\t\t\t\t\t\tparabolicCurve(p0, v0, a, t, next);\n\t\t\t\t\t\t// Update the raycaster with the length of the current segment last->next\n\t\t\t\t\t\tvar dirLastNext = lastNext.copy(next).sub(last).normalize();\n\t\t\t\t\t\tthis.raycaster.far = dirLastNext.length();\n\t\t\t\t\t\tthis.raycaster.set(last, dirLastNext);\n\n\t\t\t\t\t\tif (this.checkMeshCollisions(i, next)) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlast.copy(next);\n\t\t\t\t\t}\n\t\t\t\t} else if (this.data.type === 'line') {\n\t\t\t\t\tnext.copy(last).add(auxDirection.copy(direction).multiplyScalar(this.data.maxLength));\n\t\t\t\t\tthis.raycaster.far = this.data.maxLength;\n\t\t\t\t\tthis.raycaster.set(p0, direction);\n\t\t\t\t\tthis.line.setPoint(0, p0);\n\n\t\t\t\t\tthis.checkMeshCollisions(1, next);\n\t\t\t\t}\n\t\t\t};\n\t\t}(),\n\n\t\t/**\n   * Run `querySelectorAll` for `collisionEntities` and maintain it with `child-attached`\n   * and `child-detached` events.\n   */\n\t\tqueryCollisionEntities: function queryCollisionEntities() {\n\t\t\tvar collisionEntities;\n\t\t\tvar data = this.data;\n\t\t\tvar el = this.el;\n\n\t\t\tif (!data.collisionEntities) {\n\t\t\t\tthis.collisionEntities = [];\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcollisionEntities = [].slice.call(el.sceneEl.querySelectorAll(data.collisionEntities));\n\t\t\tthis.collisionEntities = collisionEntities;\n\n\t\t\t// Update entity list on attach.\n\t\t\tthis.childAttachHandler = function childAttachHandler(evt) {\n\t\t\t\tif (!evt.detail.el.matches(data.collisionEntities)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcollisionEntities.push(evt.detail.el);\n\t\t\t};\n\t\t\tel.sceneEl.addEventListener('child-attached', this.childAttachHandler);\n\n\t\t\t// Update entity list on detach.\n\t\t\tthis.childDetachHandler = function childDetachHandler(evt) {\n\t\t\t\tvar index;\n\t\t\t\tif (!evt.detail.el.matches(data.collisionEntities)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tindex = collisionEntities.indexOf(evt.detail.el);\n\t\t\t\tif (index === -1) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcollisionEntities.splice(index, 1);\n\t\t\t};\n\t\t\tel.sceneEl.addEventListener('child-detached', this.childDetachHandler);\n\t\t},\n\n\t\tonButtonDown: function onButtonDown() {\n\t\t\tthis.active = true;\n\t\t},\n\n\t\t/**\n   * Jump!\n   */\n\t\tonButtonUp: function () {\n\t\t\tvar teleportOriginWorldPosition = new THREE.Vector3();\n\t\t\tvar newRigLocalPosition = new THREE.Vector3();\n\t\t\tvar newHandPosition = [new THREE.Vector3(), new THREE.Vector3()]; // Left and right\n\t\t\tvar handPosition = new THREE.Vector3();\n\n\t\t\treturn function (evt) {\n\t\t\t\tif (!this.active) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Hide the hit point and the curve\n\t\t\t\tthis.active = false;\n\t\t\t\tthis.hitEntity.setAttribute('visible', false);\n\t\t\t\tthis.teleportEntity.setAttribute('visible', false);\n\n\t\t\t\tif (!this.hit) {\n\t\t\t\t\t// Button released but not hit point\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar rig = this.data.cameraRig || this.el.sceneEl.camera.el;\n\t\t\t\trig.object3D.getWorldPosition(this.rigWorldPosition);\n\t\t\t\tthis.newRigWorldPosition.copy(this.hitPoint);\n\n\t\t\t\t// If a teleportOrigin exists, offset the rig such that the teleportOrigin is above the hitPoint\n\t\t\t\tvar teleportOrigin = this.data.teleportOrigin;\n\t\t\t\tif (teleportOrigin) {\n\t\t\t\t\tteleportOrigin.object3D.getWorldPosition(teleportOriginWorldPosition);\n\t\t\t\t\tthis.newRigWorldPosition.sub(teleportOriginWorldPosition).add(this.rigWorldPosition);\n\t\t\t\t}\n\n\t\t\t\t// Always keep the rig at the same offset off the ground after teleporting\n\t\t\t\tthis.newRigWorldPosition.y = this.rigWorldPosition.y + this.hitPoint.y - this.prevHitHeight;\n\t\t\t\tthis.prevHitHeight = this.hitPoint.y;\n\n\t\t\t\t// Finally update the rigs position\n\t\t\t\tnewRigLocalPosition.copy(this.newRigWorldPosition);\n\t\t\t\tif (rig.object3D.parent) {\n\t\t\t\t\trig.object3D.parent.worldToLocal(newRigLocalPosition);\n\t\t\t\t}\n\t\t\t\trig.setAttribute('position', newRigLocalPosition);\n\n\t\t\t\t// If a rig was not explicitly declared, look for hands and mvoe them proportionally as well\n\t\t\t\tif (!this.data.cameraRig) {\n\t\t\t\t\tvar hands = document.querySelectorAll('a-entity[tracked-controls]');\n\t\t\t\t\tfor (var i = 0; i < hands.length; i++) {\n\t\t\t\t\t\thands[i].object3D.getWorldPosition(handPosition);\n\n\t\t\t\t\t\t// diff = rigWorldPosition - handPosition\n\t\t\t\t\t\t// newPos = newRigWorldPosition - diff\n\t\t\t\t\t\tnewHandPosition[i].copy(this.newRigWorldPosition).sub(this.rigWorldPosition).add(handPosition);\n\t\t\t\t\t\thands[i].setAttribute('position', newHandPosition[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.el.emit('teleported', this.teleportEventDetail);\n\t\t\t};\n\t\t}(),\n\n\t\t/**\n   * Check for raycaster intersection.\n   *\n   * @param {number} Line fragment point index.\n   * @param {number} Next line fragment point index.\n   * @returns {boolean} true if there's an intersection.\n   */\n\t\tcheckMeshCollisions: function checkMeshCollisions(i, next) {\n\t\t\t// @todo We should add a property to define if the collisionEntity is dynamic or static\n\t\t\t// If static we should do the map just once, otherwise we're recreating the array in every\n\t\t\t// loop when aiming.\n\t\t\tvar meshes = this.collisionEntities.map(function (entity) {\n\t\t\t\treturn entity.getObject3D('mesh');\n\t\t\t}).filter(function (n) {\n\t\t\t\treturn n;\n\t\t\t});\n\t\t\tmeshes = meshes.length ? meshes : [this.defaultPlane];\n\n\t\t\tvar intersects = this.raycaster.intersectObjects(meshes, true);\n\t\t\tif (intersects.length > 0 && !this.hit && this.isValidNormalsAngle(intersects[0].face.normal)) {\n\t\t\t\tvar point = intersects[0].point;\n\n\t\t\t\tthis.line.material.color.set(this.curveHitColor);\n\t\t\t\tthis.hitEntity.setAttribute('position', point);\n\t\t\t\tthis.hitEntity.setAttribute('visible', true);\n\n\t\t\t\tthis.hit = true;\n\t\t\t\tthis.hitPoint.copy(intersects[0].point);\n\n\t\t\t\t// If hit, just fill the rest of the points with the hit point and break the loop\n\t\t\t\tfor (var j = i; j < this.line.numPoints; j++) {\n\t\t\t\t\tthis.line.setPoint(j, this.hitPoint);\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\tthis.line.setPoint(i, next);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\tisValidNormalsAngle: function isValidNormalsAngle(collisionNormal) {\n\t\t\tvar angleNormals = this.referenceNormal.angleTo(collisionNormal);\n\t\t\treturn THREE.Math.RAD2DEG * angleNormals <= this.data.landingMaxAngle;\n\t\t}\n\t});\n\n\tfunction createLine(data) {\n\t\tvar numPoints = data.type === 'line' ? 2 : data.curveNumberPoints;\n\t\treturn new RayCurve(numPoints, data.curveLineWidth);\n\t}\n\n\t/**\n  * Create mesh to represent the area of intersection.\n  * Default to a combination of torus and cylinder.\n  */\n\tfunction createHitEntity(data) {\n\t\tvar cylinder;\n\t\tvar hitEntity;\n\t\tvar torus;\n\n\t\t// Parent.\n\t\thitEntity = document.createElement('a-entity');\n\t\thitEntity.className = 'hitEntity';\n\n\t\t// Torus.\n\t\ttorus = document.createElement('a-entity');\n\t\ttorus.setAttribute('geometry', {\n\t\t\tprimitive: 'torus',\n\t\t\tradius: data.hitCylinderRadius,\n\t\t\tradiusTubular: 0.01\n\t\t});\n\t\ttorus.setAttribute('rotation', { x: 90, y: 0, z: 0 });\n\t\ttorus.setAttribute('material', {\n\t\t\tshader: 'flat',\n\t\t\tcolor: data.hitCylinderColor,\n\t\t\tside: 'double',\n\t\t\tdepthTest: false\n\t\t});\n\t\thitEntity.appendChild(torus);\n\n\t\t// Cylinder.\n\t\tcylinder = document.createElement('a-entity');\n\t\tcylinder.setAttribute('position', { x: 0, y: data.hitCylinderHeight / 2, z: 0 });\n\t\tcylinder.setAttribute('geometry', {\n\t\t\tprimitive: 'cylinder',\n\t\t\tsegmentsHeight: 1,\n\t\t\tradius: data.hitCylinderRadius,\n\t\t\theight: data.hitCylinderHeight,\n\t\t\topenEnded: true\n\t\t});\n\t\tcylinder.setAttribute('material', {\n\t\t\tshader: 'flat',\n\t\t\tcolor: data.hitCylinderColor,\n\t\t\tside: 'double',\n\t\t\tsrc: cylinderTexture,\n\t\t\ttransparent: true,\n\t\t\tdepthTest: false\n\t\t});\n\t\thitEntity.appendChild(cylinder);\n\n\t\treturn hitEntity;\n\t}\n\n\tfunction createDefaultPlane(size) {\n\t\tvar geometry;\n\t\tvar material;\n\n\t\tgeometry = new THREE.PlaneBufferGeometry(100, 100);\n\t\tgeometry.rotateX(-Math.PI / 2);\n\t\tmaterial = new THREE.MeshBasicMaterial({ color: 0xffff00 });\n\t\treturn new THREE.Mesh(geometry, material);\n\t}\n\n\t/***/\n},\n/* 1 */\n/***/function (module, exports) {\n\n\tmodule.exports = 'url(data:image/png;base64,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)';\n\n\t/***/\n},\n/* 2 */\n/***/function (module, exports) {\n\n\t/* global THREE */\n\t// Parabolic motion equation, y = p0 + v0*t + 1/2at^2\n\tfunction parabolicCurveScalar(p0, v0, a, t) {\n\t\treturn p0 + v0 * t + 0.5 * a * t * t;\n\t}\n\n\t// Parabolic motion equation applied to 3 dimensions\n\tfunction parabolicCurve(p0, v0, a, t, out) {\n\t\tout.x = parabolicCurveScalar(p0.x, v0.x, a.x, t);\n\t\tout.y = parabolicCurveScalar(p0.y, v0.y, a.y, t);\n\t\tout.z = parabolicCurveScalar(p0.z, v0.z, a.z, t);\n\t\treturn out;\n\t}\n\n\tmodule.exports = parabolicCurve;\n\n\t/***/\n},\n/* 3 */\n/***/function (module, exports) {\n\n\t/* global THREE */\n\tvar RayCurve = function RayCurve(numPoints, width) {\n\t\tthis.geometry = new THREE.BufferGeometry();\n\t\tthis.vertices = new Float32Array(numPoints * 3 * 2);\n\t\tthis.uvs = new Float32Array(numPoints * 2 * 2);\n\t\tthis.width = width;\n\n\t\tthis.geometry.addAttribute('position', new THREE.BufferAttribute(this.vertices, 3).setDynamic(true));\n\n\t\tthis.material = new THREE.MeshBasicMaterial({\n\t\t\tside: THREE.DoubleSide,\n\t\t\tcolor: 0xff0000\n\t\t});\n\n\t\tthis.mesh = new THREE.Mesh(this.geometry, this.material);\n\t\tthis.mesh.drawMode = THREE.TriangleStripDrawMode;\n\n\t\tthis.mesh.frustumCulled = false;\n\t\tthis.mesh.vertices = this.vertices;\n\n\t\tthis.direction = new THREE.Vector3();\n\t\tthis.numPoints = numPoints;\n\t};\n\n\tRayCurve.prototype = {\n\t\tsetDirection: function setDirection(direction) {\n\t\t\tvar UP = new THREE.Vector3(0, 1, 0);\n\t\t\tthis.direction.copy(direction).cross(UP).normalize().multiplyScalar(this.width / 2);\n\t\t},\n\n\t\tsetWidth: function setWidth(width) {\n\t\t\tthis.width = width;\n\t\t},\n\n\t\tsetPoint: function () {\n\t\t\tvar posA = new THREE.Vector3();\n\t\t\tvar posB = new THREE.Vector3();\n\n\t\t\treturn function (i, point) {\n\t\t\t\tposA.copy(point).add(this.direction);\n\t\t\t\tposB.copy(point).sub(this.direction);\n\n\t\t\t\tvar idx = 2 * 3 * i;\n\t\t\t\tthis.vertices[idx++] = posA.x;\n\t\t\t\tthis.vertices[idx++] = posA.y;\n\t\t\t\tthis.vertices[idx++] = posA.z;\n\n\t\t\t\tthis.vertices[idx++] = posB.x;\n\t\t\t\tthis.vertices[idx++] = posB.y;\n\t\t\t\tthis.vertices[idx++] = posB.z;\n\n\t\t\t\tthis.geometry.attributes.position.needsUpdate = true;\n\t\t\t};\n\t\t}()\n\t};\n\n\tmodule.exports = RayCurve;\n\n\t/***/\n}]\n/******/);\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n!function (t) {\n  function e(n) {\n    if (o[n]) return o[n].exports;var r = o[n] = { i: n, l: !1, exports: {} };return t[n].call(r.exports, r, r.exports, e), r.l = !0, r.exports;\n  }var o = {};return e.m = t, e.c = o, e.i = function (t) {\n    return t;\n  }, e.d = function (t, o, n) {\n    e.o(t, o) || Object.defineProperty(t, o, { configurable: !1, enumerable: !0, get: n });\n  }, e.n = function (t) {\n    var o = t && t.__esModule ? function () {\n      return t.default;\n    } : function () {\n      return t;\n    };return e.d(o, \"a\", o), o;\n  }, e.o = function (t, e) {\n    return Object.prototype.hasOwnProperty.call(t, e);\n  }, e.p = \"\", e(e.s = 0);\n}([function (t, e) {\n  var o = AFRAME.utils.debug,\n      n = AFRAME.utils.coordinates,\n      r = o(\"components:look-at:warn\"),\n      i = n.isCoordinates;delete AFRAME.components[\"look-at\"], AFRAME.registerComponent(\"look-at\", { schema: { default: \"\", parse: function parse(t) {\n        return i(t) || \"object\" == (typeof t === \"undefined\" ? \"undefined\" : _typeof(t)) ? n.parse(t) : t;\n      }, stringify: function stringify(t) {\n        return \"object\" == (typeof t === \"undefined\" ? \"undefined\" : _typeof(t)) ? n.stringify(t) : t;\n      } }, init: function init() {\n      this.target3D = null, this.vector = new THREE.Vector3();\n    }, update: function update() {\n      var t,\n          e = this,\n          o = e.data,\n          n = e.el.object3D;return !o || \"object\" == (typeof o === \"undefined\" ? \"undefined\" : _typeof(o)) && !Object.keys(o).length ? e.remove() : \"object\" == (typeof o === \"undefined\" ? \"undefined\" : _typeof(o)) ? n.lookAt(new THREE.Vector3(o.x, o.y, o.z)) : (t = e.el.sceneEl.querySelector(o), t ? t.hasLoaded ? e.beginTracking(t) : t.addEventListener(\"loaded\", function () {\n        e.beginTracking(t);\n      }) : void r('\"' + o + '\" does not point to a valid entity to look-at'));\n    }, tick: function tick(t) {\n      var e = this.target3D;if (e) return this.el.object3D.lookAt(this.vector.setFromMatrixPosition(e.matrixWorld));\n    }, beginTracking: function beginTracking(t) {\n      this.target3D = t.object3D;\n    } });\n}]);\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof2 = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/******/(function (modules) {\n\t// webpackBootstrap\n\t/******/ // The module cache\n\t/******/var installedModules = {};\n\n\t/******/ // The require function\n\t/******/function __webpack_require__(moduleId) {\n\n\t\t/******/ // Check if module is in cache\n\t\t/******/if (installedModules[moduleId])\n\t\t\t/******/return installedModules[moduleId].exports;\n\n\t\t/******/ // Create a new module (and put it into the cache)\n\t\t/******/var module = installedModules[moduleId] = {\n\t\t\t/******/exports: {},\n\t\t\t/******/id: moduleId,\n\t\t\t/******/loaded: false\n\t\t\t/******/ };\n\n\t\t/******/ // Execute the module function\n\t\t/******/modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t\t/******/ // Flag the module as loaded\n\t\t/******/module.loaded = true;\n\n\t\t/******/ // Return the exports of the module\n\t\t/******/return module.exports;\n\t\t/******/\n\t}\n\n\t/******/ // expose the modules object (__webpack_modules__)\n\t/******/__webpack_require__.m = modules;\n\n\t/******/ // expose the module cache\n\t/******/__webpack_require__.c = installedModules;\n\n\t/******/ // __webpack_public_path__\n\t/******/__webpack_require__.p = \"\";\n\n\t/******/ // Load entry module and return exports\n\t/******/return __webpack_require__(0);\n\t/******/\n})(\n/************************************************************************/\n/******/[\n/* 0 */\n/***/function (module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _typeof = typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\" ? function (obj) {\n\t\treturn typeof obj === \"undefined\" ? \"undefined\" : _typeof2(obj);\n\t} : function (obj) {\n\t\treturn obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof2(obj);\n\t};\n\n\tvar _gifsparser = __webpack_require__(1);\n\n\tif (typeof AFRAME === 'undefined') {\n\t\tthrow 'Component attempted to register before AFRAME was available.';\n\t}\n\n\t/* get util from AFRAME */\n\tvar parseUrl = AFRAME.utils.srcLoader.parseUrl;\n\tvar debug = AFRAME.utils.debug;\n\t// debug.enable('shader:gif:*')\n\n\tdebug.enable('shader:gif:warn');\n\tvar warn = debug('shader:gif:warn');\n\tvar log = debug('shader:gif:debug');\n\n\t/* store data so that you won't load same data */\n\tvar gifData = {};\n\n\t/* create error message */\n\tfunction createError(err, src) {\n\t\treturn { status: 'error', src: src, message: err, timestamp: Date.now() };\n\t}\n\n\tAFRAME.registerShader('gif', {\n\n\t\t/**\n   * For material component:\n   * @see https://github.com/aframevr/aframe/blob/60d198ef8e2bfbc57a13511ae5fca7b62e01691b/src/components/material.js\n   * For example of `registerShader`:\n   * @see https://github.com/aframevr/aframe/blob/41a50cd5ac65e462120ecc2e5091f5daefe3bd1e/src/shaders/flat.js\n   * For MeshBasicMaterial\n   * @see http://threejs.org/docs/#Reference/Materials/MeshBasicMaterial\n   */\n\n\t\tschema: {\n\n\t\t\t/* For material */\n\t\t\tcolor: { type: 'color' },\n\t\t\tfog: { default: true },\n\n\t\t\t/* For texuture */\n\t\t\tsrc: { default: null },\n\t\t\tautoplay: { default: true }\n\n\t\t},\n\n\t\t/**\n   * Initialize material. Called once.\n   * @protected\n   */\n\t\tinit: function init(data) {\n\t\t\tlog('init', data);\n\t\t\tlog(this.el.components);\n\t\t\tthis.__cnv = document.createElement('canvas');\n\t\t\tthis.__cnv.width = 2;\n\t\t\tthis.__cnv.height = 2;\n\t\t\tthis.__ctx = this.__cnv.getContext('2d');\n\t\t\tthis.__texture = new THREE.Texture(this.__cnv); //renders straight from a canvas\n\t\t\tthis.__material = {};\n\t\t\tthis.__reset();\n\t\t\tthis.material = new THREE.MeshBasicMaterial({ map: this.__texture });\n\t\t\tthis.el.sceneEl.addBehavior(this);\n\t\t\tthis.__addPublicFunctions();\n\t\t\treturn this.material;\n\t\t},\n\n\t\t/**\n   * Update or create material.\n   * @param {object|null} oldData\n   */\n\t\tupdate: function update(oldData) {\n\t\t\tlog('update', oldData);\n\t\t\tthis.__updateMaterial(oldData);\n\t\t\tthis.__updateTexture(oldData);\n\t\t\treturn this.material;\n\t\t},\n\n\t\t/**\n   * Called on each scene tick.\n   * @protected\n   */\n\t\ttick: function tick(t) {\n\t\t\tif (!this.__frames || this.paused()) return;\n\t\t\tif (Date.now() - this.__startTime >= this.__nextFrameTime) {\n\t\t\t\tthis.nextFrame();\n\t\t\t}\n\t\t},\n\n\t\t/*================================\n  =            material            =\n  ================================*/\n\n\t\t/**\n   * Updating existing material.\n   * @param {object} data - Material component data.\n   */\n\t\t__updateMaterial: function __updateMaterial(data) {\n\t\t\tvar material = this.material;\n\n\t\t\tvar newData = this.__getMaterialData(data);\n\t\t\tObject.keys(newData).forEach(function (key) {\n\t\t\t\tmaterial[key] = newData[key];\n\t\t\t});\n\t\t},\n\n\t\t/**\n   * Builds and normalize material data, normalizing stuff along the way.\n   * @param {Object} data - Material data.\n   * @return {Object} data - Processed material data.\n   */\n\t\t__getMaterialData: function __getMaterialData(data) {\n\t\t\treturn {\n\t\t\t\tfog: data.fog,\n\t\t\t\tcolor: new THREE.Color(data.color)\n\t\t\t};\n\t\t},\n\n\t\t/*==============================\n  =            texure            =\n  ==============================*/\n\n\t\t/**\n   * set texure\n   * @private\n   * @param {Object} data\n   * @property {string} status - success / error\n   * @property {string} src - src url\n   * @property {array} times - array of time length of each image\n   * @property {number} cnt - total counts of gif images\n   * @property {array} frames - array of each image\n   * @property {Date} timestamp - created at the texure\n   */\n\n\t\t__setTexure: function __setTexure(data) {\n\t\t\tlog('__setTexure', data);\n\t\t\tif (data.status === 'error') {\n\t\t\t\twarn('Error: ' + data.message + '\\nsrc: ' + data.src);\n\t\t\t\tthis.__reset();\n\t\t\t} else if (data.status === 'success' && data.src !== this.__textureSrc) {\n\t\t\t\tthis.__reset();\n\t\t\t\t/* Texture added or changed */\n\t\t\t\tthis.__ready(data);\n\t\t\t}\n\t\t},\n\n\t\t/**\n   * Update or create texure.\n   * @param {Object} data - Material component data.\n   */\n\t\t__updateTexture: function __updateTexture(data) {\n\t\t\tvar src = data.src;\n\t\t\tvar autoplay = data.autoplay;\n\n\t\t\t/* autoplay */\n\n\t\t\tif (typeof autoplay === 'boolean') {\n\t\t\t\tthis.__autoplay = autoplay;\n\t\t\t} else if (typeof autoplay === 'undefined') {\n\t\t\t\tthis.__autoplay = true;\n\t\t\t}\n\t\t\tif (this.__autoplay && this.__frames) {\n\t\t\t\tthis.play();\n\t\t\t}\n\n\t\t\t/* src */\n\t\t\tif (src) {\n\t\t\t\tthis.__validateSrc(src, this.__setTexure.bind(this));\n\t\t\t} else {\n\t\t\t\t/* Texture removed */\n\t\t\t\tthis.__reset();\n\t\t\t}\n\t\t},\n\n\t\t/*=============================================\n  =            varidation for texure            =\n  =============================================*/\n\n\t\t__validateSrc: function __validateSrc(src, cb) {\n\n\t\t\t/* check if src is a url */\n\t\t\tvar url = parseUrl(src);\n\t\t\tif (url) {\n\t\t\t\tthis.__getImageSrc(url, cb);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar message = void 0;\n\n\t\t\t/* check if src is a query selector */\n\t\t\tvar el = this.__validateAndGetQuerySelector(src);\n\t\t\tif (!el || (typeof el === 'undefined' ? 'undefined' : _typeof(el)) !== 'object') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (el.error) {\n\t\t\t\tmessage = el.error;\n\t\t\t} else {\n\t\t\t\tvar tagName = el.tagName.toLowerCase();\n\t\t\t\tif (tagName === 'video') {\n\t\t\t\t\tsrc = el.src;\n\t\t\t\t\tmessage = 'For video, please use `aframe-video-shader`';\n\t\t\t\t} else if (tagName === 'img') {\n\t\t\t\t\tthis.__getImageSrc(el.src, cb);\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tmessage = 'For <' + tagName + '> element, please use `aframe-html-shader`';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/* if there is message, create error data */\n\t\t\tif (message) {\n\t\t\t\t(function () {\n\t\t\t\t\tvar srcData = gifData[src];\n\t\t\t\t\tvar errData = createError(message, src);\n\t\t\t\t\t/* callbacks */\n\t\t\t\t\tif (srcData && srcData.callbacks) {\n\t\t\t\t\t\tsrcData.callbacks.forEach(function (cb) {\n\t\t\t\t\t\t\treturn cb(errData);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcb(errData);\n\t\t\t\t\t}\n\t\t\t\t\t/* overwrite */\n\t\t\t\t\tgifData[src] = errData;\n\t\t\t\t})();\n\t\t\t}\n\t\t},\n\n\t\t/**\n   * Validate src is a valid image url\n   * @param  {string} src - url that will be tested\n   * @param  {function} cb - callback with the test result\n   */\n\t\t__getImageSrc: function __getImageSrc(src, cb) {\n\t\t\tvar _this = this;\n\n\t\t\t/* if src is same as previous, ignore this */\n\t\t\tif (src === this.__textureSrc) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/* check if we already get the srcData */\n\t\t\tvar srcData = gifData[src];\n\t\t\tif (!srcData || !srcData.callbacks) {\n\t\t\t\t/* create callback */\n\t\t\t\tsrcData = gifData[src] = { callbacks: [] };\n\t\t\t\tsrcData.callbacks.push(cb);\n\t\t\t} else if (srcData.src) {\n\t\t\t\tcb(srcData);\n\t\t\t\treturn;\n\t\t\t} else if (srcData.callbacks) {\n\t\t\t\t/* add callback */\n\t\t\t\tsrcData.callbacks.push(cb);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar tester = new Image();\n\t\t\ttester.crossOrigin = 'Anonymous';\n\t\t\ttester.addEventListener('load', function (e) {\n\t\t\t\t/* check if it is gif */\n\t\t\t\t_this.__getUnit8Array(src, function (arr) {\n\t\t\t\t\tif (!arr) {\n\t\t\t\t\t\tonError('This is not gif. Please use `shader:flat` instead');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t/* parse data */\n\t\t\t\t\t(0, _gifsparser.parseGIF)(arr, function (times, cnt, frames) {\n\t\t\t\t\t\t/* store data */\n\t\t\t\t\t\tvar newData = { status: 'success', src: src, times: times, cnt: cnt, frames: frames, timestamp: Date.now() };\n\t\t\t\t\t\t/* callbacks */\n\t\t\t\t\t\tif (srcData.callbacks) {\n\t\t\t\t\t\t\tsrcData.callbacks.forEach(function (cb) {\n\t\t\t\t\t\t\t\treturn cb(newData);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t/* overwrite */\n\t\t\t\t\t\t\tgifData[src] = newData;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, function (err) {\n\t\t\t\t\t\treturn onError(err);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t\ttester.addEventListener('error', function (e) {\n\t\t\t\treturn onError('Could be the following issue\\n - Not Image\\n - Not Found\\n - Server Error\\n - Cross-Origin Issue');\n\t\t\t});\n\t\t\tfunction onError(message) {\n\t\t\t\t/* create error data */\n\t\t\t\tvar errData = createError(message, src);\n\t\t\t\t/* callbacks */\n\t\t\t\tif (srcData.callbacks) {\n\t\t\t\t\tsrcData.callbacks.forEach(function (cb) {\n\t\t\t\t\t\treturn cb(errData);\n\t\t\t\t\t});\n\t\t\t\t\t/* overwrite */\n\t\t\t\t\tgifData[src] = errData;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttester.src = src;\n\t\t},\n\n\t\t/**\n   *\n   * get mine type\n   *\n   */\n\t\t__getUnit8Array: function __getUnit8Array(src, cb) {\n\t\t\tif (typeof cb !== 'function') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar xhr = new XMLHttpRequest();\n\t\t\txhr.open('GET', src);\n\t\t\txhr.responseType = 'arraybuffer';\n\t\t\txhr.addEventListener('load', function (e) {\n\t\t\t\tvar uint8Array = new Uint8Array(e.target.response);\n\t\t\t\tvar arr = uint8Array.subarray(0, 4);\n\t\t\t\t// const header = arr.map(value => value.toString(16)).join('')\n\t\t\t\tvar header = '';\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\theader += arr[i].toString(16);\n\t\t\t\t}\n\t\t\t\tif (header === '47494638') {\n\t\t\t\t\tcb(uint8Array);\n\t\t\t\t} else {\n\t\t\t\t\tcb();\n\t\t\t\t}\n\t\t\t});\n\t\t\txhr.addEventListener('error', function (e) {\n\t\t\t\tlog(e);\n\t\t\t\tcb();\n\t\t\t});\n\t\t\txhr.send();\n\t\t},\n\n\t\t/**\n   * Query and validate a query selector,\n   *\n   * @param  {string} selector - DOM selector.\n   * @return {object} Selected DOM element | error message object.\n   */\n\t\t__validateAndGetQuerySelector: function __validateAndGetQuerySelector(selector) {\n\t\t\ttry {\n\t\t\t\tvar el = document.querySelector(selector);\n\t\t\t\tif (!el) {\n\t\t\t\t\treturn { error: 'No element was found matching the selector' };\n\t\t\t\t}\n\t\t\t\treturn el;\n\t\t\t} catch (e) {\n\t\t\t\t// Capture exception if it's not a valid selector.\n\t\t\t\treturn { error: 'no valid selector' };\n\t\t\t}\n\t\t},\n\n\t\t/*================================\n  =            playback            =\n  ================================*/\n\n\t\t/**\n   * add public functions\n   * @private\n   */\n\t\t__addPublicFunctions: function __addPublicFunctions() {\n\t\t\tthis.el.gif = {\n\t\t\t\tplay: this.play.bind(this),\n\t\t\t\tpause: this.pause.bind(this),\n\t\t\t\ttogglePlayback: this.togglePlayback.bind(this),\n\t\t\t\tpaused: this.paused.bind(this),\n\t\t\t\tnextFrame: this.nextFrame.bind(this)\n\t\t\t};\n\t\t},\n\n\t\t/**\n   * Pause gif\n   * @public\n   */\n\t\tpause: function pause() {\n\t\t\tlog('pause');\n\t\t\tthis.__paused = true;\n\t\t},\n\n\t\t/**\n   * Play gif\n   * @public\n   */\n\t\tplay: function play() {\n\t\t\tlog('play');\n\t\t\tthis.__paused = false;\n\t\t},\n\n\t\t/**\n   * Toggle playback. play if paused and pause if played.\n   * @public\n   */\n\n\t\ttogglePlayback: function togglePlayback() {\n\n\t\t\tif (this.paused()) {\n\t\t\t\tthis.play();\n\t\t\t} else {\n\t\t\t\tthis.pause();\n\t\t\t}\n\t\t},\n\n\t\t/**\n   * Return if the playback is paused.\n   * @public\n   * @return {boolean}\n   */\n\t\tpaused: function paused() {\n\t\t\treturn this.__paused;\n\t\t},\n\n\t\t/**\n   * Go to next frame\n   * @public\n   */\n\t\tnextFrame: function nextFrame() {\n\t\t\tthis.__draw();\n\n\t\t\t/* update next frame time */\n\t\t\twhile (Date.now() - this.__startTime >= this.__nextFrameTime) {\n\n\t\t\t\tthis.__nextFrameTime += this.__delayTimes[this.__frameIdx++];\n\t\t\t\tif ((this.__infinity || this.__loopCnt) && this.__frameCnt <= this.__frameIdx) {\n\t\t\t\t\t/* go back to the first */\n\t\t\t\t\tthis.__frameIdx = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/*==============================\n   =            canvas            =\n   ==============================*/\n\n\t\t/**\n   * clear canvas\n   * @private\n   */\n\t\t__clearCanvas: function __clearCanvas() {\n\t\t\tthis.__ctx.clearRect(0, 0, this.__width, this.__height);\n\t\t\tthis.__texture.needsUpdate = true;\n\t\t},\n\n\t\t/**\n   * draw\n   * @private\n   */\n\t\t__draw: function __draw() {\n\t\t\tthis.__ctx.drawImage(this.__frames[this.__frameIdx], 0, 0, this.__width, this.__height);\n\t\t\tthis.__texture.needsUpdate = true;\n\t\t},\n\n\t\t/*============================\n  =            ready            =\n  ============================*/\n\n\t\t/**\n   * setup gif animation and play if autoplay is true\n   * @private\n   * @property {string} src - src url\n   * @param {array} times - array of time length of each image\n   * @param {number} cnt - total counts of gif images\n   * @param {array} frames - array of each image\n   */\n\t\t__ready: function __ready(_ref) {\n\t\t\tvar src = _ref.src;\n\t\t\tvar times = _ref.times;\n\t\t\tvar cnt = _ref.cnt;\n\t\t\tvar frames = _ref.frames;\n\n\t\t\tlog('__ready');\n\t\t\tthis.__textureSrc = src;\n\t\t\tthis.__delayTimes = times;\n\t\t\tcnt ? this.__loopCnt = cnt : this.__infinity = true;\n\t\t\tthis.__frames = frames;\n\t\t\tthis.__frameCnt = times.length;\n\t\t\tthis.__startTime = Date.now();\n\t\t\tthis.__width = THREE.Math.nearestPowerOfTwo(frames[0].width);\n\t\t\tthis.__height = THREE.Math.nearestPowerOfTwo(frames[0].height);\n\t\t\tthis.__cnv.width = this.__width;\n\t\t\tthis.__cnv.height = this.__height;\n\t\t\tthis.__draw();\n\t\t\tif (this.__autoplay) {\n\t\t\t\tthis.play();\n\t\t\t} else {\n\t\t\t\tthis.pause();\n\t\t\t}\n\t\t},\n\n\t\t/*=============================\n  =            reset            =\n  =============================*/\n\n\t\t/**\n   * @private\n   */\n\n\t\t__reset: function __reset() {\n\t\t\tthis.pause();\n\t\t\tthis.__clearCanvas();\n\t\t\tthis.__startTime = 0;\n\t\t\tthis.__nextFrameTime = 0;\n\t\t\tthis.__frameIdx = 0;\n\t\t\tthis.__frameCnt = 0;\n\t\t\tthis.__delayTimes = null;\n\t\t\tthis.__infinity = false;\n\t\t\tthis.__loopCnt = 0;\n\t\t\tthis.__frames = null;\n\t\t\tthis.__textureSrc = null;\n\t\t}\n\t});\n\n\t/***/\n},\n/* 1 */\n/***/function (module, exports) {\n\n\t'use strict';\n\n\t/**\n  * \n  * Gif parser by @gtk2k\n  * https://github.com/gtk2k/gtk2k.github.io/tree/master/animation_gif\n  *\n  */\n\n\texports.parseGIF = function (gif, successCB, errorCB) {\n\n\t\tvar pos = 0;\n\t\tvar delayTimes = [];\n\t\tvar loadCnt = 0;\n\t\tvar graphicControl = null;\n\t\tvar imageData = null;\n\t\tvar frames = [];\n\t\tvar loopCnt = 0;\n\n\t\tif (gif[0] === 0x47 && gif[1] === 0x49 && gif[2] === 0x46 && // 'GIF'\n\t\tgif[3] === 0x38 && (gif[4] === 0x39 || gif[4] === 0x37) && gif[5] === 0x61) {\n\t\t\t// '89a'\n\t\t\t//\t  gif[3] === 0x38 && gif[4] === 0x39 && gif[5] === 0x61) {\n\t\t\t// '89a'\n\t\t\tpos += 13 + +!!(gif[10] & 0x80) * Math.pow(2, (gif[10] & 0x07) + 1) * 3;\n\t\t\tvar gifHeader = gif.subarray(0, pos);\n\t\t\twhile (gif[pos] && gif[pos] !== 0x3b) {\n\t\t\t\tvar offset = pos,\n\t\t\t\t    blockId = gif[pos];\n\t\t\t\tif (blockId === 0x21) {\n\t\t\t\t\tvar label = gif[++pos];\n\t\t\t\t\tif ([0x01, 0xfe, 0xf9, 0xff].indexOf(label) !== -1) {\n\t\t\t\t\t\tlabel === 0xf9 && delayTimes.push((gif[pos + 3] + (gif[pos + 4] << 8)) * 10);\n\t\t\t\t\t\tlabel === 0xff && (loopCnt = gif[pos + 15] + (gif[pos + 16] << 8));\n\t\t\t\t\t\twhile (gif[++pos]) {\n\t\t\t\t\t\t\tpos += gif[pos];\n\t\t\t\t\t\t}label === 0xf9 && (graphicControl = gif.subarray(offset, pos + 1));\n\t\t\t\t\t} else {\n\t\t\t\t\t\terrorCB && errorCB('parseGIF: unknown label');break;\n\t\t\t\t\t}\n\t\t\t\t} else if (blockId === 0x2c) {\n\t\t\t\t\tpos += 9;\n\t\t\t\t\tpos += 1 + +!!(gif[pos] & 0x80) * (Math.pow(2, (gif[pos] & 0x07) + 1) * 3);\n\t\t\t\t\twhile (gif[++pos]) {\n\t\t\t\t\t\tpos += gif[pos];\n\t\t\t\t\t}var imageData = gif.subarray(offset, pos + 1);\n\t\t\t\t\tframes.push(URL.createObjectURL(new Blob([gifHeader, graphicControl, imageData])));\n\t\t\t\t} else {\n\t\t\t\t\terrorCB && errorCB('parseGIF: unknown blockId');break;\n\t\t\t\t}\n\t\t\t\tpos++;\n\t\t\t}\n\t\t} else {\n\t\t\terrorCB && errorCB('parseGIF: no GIF89a');\n\t\t}\n\t\tif (frames.length) {\n\n\t\t\tvar cnv = document.createElement('canvas');\n\t\t\tvar loadImg = function loadImg() {\n\t\t\t\tframes.forEach(function (src, i) {\n\t\t\t\t\tvar img = new Image();\n\t\t\t\t\timg.onload = function (e, i) {\n\t\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\t\tcnv.width = img.width;\n\t\t\t\t\t\t\tcnv.height = img.height;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tloadCnt++;\n\t\t\t\t\t\tframes[i] = this;\n\t\t\t\t\t\tif (loadCnt === frames.length) {\n\t\t\t\t\t\t\tloadCnt = 0;\n\t\t\t\t\t\t\timageFix(1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}.bind(img, null, i);\n\t\t\t\t\timg.src = src;\n\t\t\t\t});\n\t\t\t};\n\t\t\tvar imageFix = function imageFix(i) {\n\t\t\t\tvar img = new Image();\n\t\t\t\timg.onload = function (e, i) {\n\t\t\t\t\tloadCnt++;\n\t\t\t\t\tframes[i] = this;\n\t\t\t\t\tif (loadCnt === frames.length) {\n\t\t\t\t\t\tcnv = null;\n\t\t\t\t\t\tsuccessCB && successCB(delayTimes, loopCnt, frames);\n\t\t\t\t\t} else {\n\t\t\t\t\t\timageFix(++i);\n\t\t\t\t\t}\n\t\t\t\t}.bind(img);\n\t\t\t\timg.src = cnv.toDataURL('image/gif');\n\t\t\t};\n\t\t\tloadImg();\n\t\t}\n\t};\n\n\t/***/\n}\n/******/]);\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n!function (t) {\n  function e(r) {\n    if (n[r]) return n[r].exports;var i = n[r] = { exports: {}, id: r, loaded: !1 };return t[r].call(i.exports, i, i.exports, e), i.loaded = !0, i.exports;\n  }var n = {};return e.m = t, e.c = n, e.p = \"\", e(0);\n}([function (t, e, n) {\n  function r(t, e) {\n    var n, r, i, a;return i = e.split(\".\"), r = i[0], a = i[1], n = t.components[r] || AFRAME.components[r], n ? a && !n.schema[a] ? null : a ? n.schema[a].type : n.schema.type : null;\n  }function i(t) {\n    t.x = THREE.Math.degToRad(t.x), t.y = THREE.Math.degToRad(t.y), t.z = THREE.Math.degToRad(t.z);\n  }function a(t, e, n) {\n    var r;for (r = 0; r < e.length; r++) {\n      t.addEventListener(e[r], n);\n    }\n  }function o(t, e, n) {\n    var r;for (r = 0; r < e.length; r++) {\n      t.removeEventListener(e[r], n);\n    }\n  }function s(t, e) {\n    var n, r, i;for (r = f(e), i = t, n = 0; n < r.length; n++) {\n      i = i[r[n]];\n    }return i;\n  }function u(t, e, n, r) {\n    var i, a, o, s;for (a = f(e), s = t, i = 0; i < a.length - 1; i++) {\n      s = s[a[i]];\n    }return o = a[a.length - 1], r === v ? void (\"r\" in s[o] ? (s[o].r = n.r, s[o].g = n.g, s[o].b = n.b) : (s[o].x = n.r, s[o].y = n.g, s[o].z = n.b)) : void (s[o] = n);\n  }function f(t) {\n    return t in g ? g[t] : (g[t] = t.split(\".\"), g[t]);\n  }function l(t) {\n    return t.isRawProperty || t.property.startsWith(E) || t.property.startsWith(w);\n  }var c = n(1);if (AFRAME.anime = c, \"undefined\" == typeof AFRAME) throw new Error(\"Component attempted to register before AFRAME was available.\");var p = new THREE.Color(),\n      d = new THREE.Color(),\n      h = AFRAME.utils,\n      m = h.entity.getComponentProperty,\n      y = h.entity.setComponentProperty,\n      g = {},\n      v = \"color\",\n      b = \"position\",\n      A = \"rotation\",\n      x = \"scale\",\n      E = \"components\",\n      w = \"object3D\";AFRAME.registerComponent(\"animation\", { schema: { autoplay: { default: !0 }, delay: { default: 0 }, dir: { default: \"\" }, dur: { default: 1e3 }, easing: { default: \"easeInQuad\" }, elasticity: { default: 400 }, from: { default: \"\" }, loop: { default: 0, parse: function parse(t) {\n          return t === !0 || \"true\" === t || t !== !1 && \"false\" !== t && parseInt(t, 10);\n        } }, property: { default: \"\" }, startEvents: { type: \"array\" }, pauseEvents: { type: \"array\" }, resumeEvents: { type: \"array\" }, to: { default: \"\" }, type: { default: \"\" }, isRawProperty: { default: !1 } }, multiple: !0, init: function init() {\n      var t = this;this.eventDetail = { name: this.attrName }, this.time = 0, this.animation = null, this.animationIsPlaying = !1, this.onStartEvent = this.onStartEvent.bind(this), this.beginAnimation = this.beginAnimation.bind(this), this.pauseAnimation = this.pauseAnimation.bind(this), this.resumeAnimation = this.resumeAnimation.bind(this), this.fromColor = {}, this.toColor = {}, this.targets = {}, this.targetsArray = [], this.config = { complete: function complete() {\n          t.animationIsPlaying = !1, t.el.emit(\"animationcomplete\", t.eventDetail);\n        } };\n    }, update: function update() {\n      var t = this.config,\n          e = this.data;this.animationIsPlaying = !1, e.property && (t.autoplay = !1, t.direction = e.dir, t.duration = e.dur, t.easing = e.easing, t.elasticity = e.elasticity, t.loop = e.loop, this.createAndStartAnimation());\n    }, tick: function tick(t, e) {\n      this.animationIsPlaying && (this.time += e, this.animation.tick(this.time));\n    }, remove: function remove() {\n      this.pauseAnimation(), this.removeEventListeners();\n    }, pause: function pause() {\n      this.paused = !0, this.pausedWasPlaying = !0, this.pauseAnimation(), this.removeEventListeners();\n    }, play: function play() {\n      this.paused && (this.paused = !1, this.addEventListeners(), this.pausedWasPlaying && (this.resumeAnimation(), this.pausedWasPlaying = !1));\n    }, createAndStartAnimation: function createAndStartAnimation() {\n      var t = this.data;if (this.updateConfig(), this.animationIsPlaying = !1, this.animation = c(this.config), this.removeEventListeners(), this.addEventListeners(), !(!t.autoplay || t.startEvents && t.startEvents.length)) return t.delay ? void setTimeout(this.beginAnimation, t.delay) : void this.beginAnimation();\n    }, beginAnimation: function beginAnimation() {\n      this.updateConfig(), this.time = 0, this.animation.seek(0), this.animationIsPlaying = !0, this.stopRelatedAnimations(), this.el.emit(\"animationbegin\", this.eventDetail);\n    }, pauseAnimation: function pauseAnimation() {\n      this.animationIsPlaying = !1;\n    }, resumeAnimation: function resumeAnimation() {\n      this.animationIsPlaying = !0;\n    }, onStartEvent: function onStartEvent() {\n      return this.data.delay ? void setTimeout(this.beginAnimation, this.data.delay) : void this.beginAnimation();\n    }, updateConfigForRawColor: function updateConfigForRawColor() {\n      var t,\n          e,\n          n,\n          r = this.config,\n          i = this.data,\n          a = this.el;t = i.from || s(a, i.property), n = i.to, this.setColorConfig(t, n), t = this.fromColor, n = this.toColor, this.targetsArray.length = 0, this.targetsArray.push(t), r.targets = this.targetsArray;for (e in n) {\n        r[e] = n[e];\n      }r.update = function () {\n        var e = {};return e.r = t.r, e.g = t.g, e.b = t.b, function (t) {\n          var n;n = t.animatables[0].target, n.r === e.r && n.g === e.g && n.b === e.b || u(a, i.property, n, i.type);\n        };\n      }();\n    }, updateConfigForDefault: function updateConfigForDefault() {\n      var t,\n          e,\n          n,\n          r,\n          i = this.config,\n          a = this.data,\n          o = this.el;t = a.from || (l(a) ? s(o, a.property) : m(o, a.property)), r = a.to, n = !isNaN(t || r), n ? (t = parseFloat(t), r = parseFloat(r)) : (t = t ? t.toString() : t, r = r ? r.toString() : r), e = \"true\" === r || \"false\" === r, e && (t = \"true\" === a.from ? 1 : 0, r = \"true\" === a.to ? 1 : 0), this.targets.aframeProperty = t, i.targets = this.targets, i.aframeProperty = r, i.update = function () {\n        var n = t;return function (t) {\n          var r;r = t.animatables[0].target.aframeProperty, r !== n && (n = r, e && (r = r >= 1), l(a) ? u(o, a.property, r, a.type) : y(o, a.property, r));\n        };\n      }();\n    }, updateConfigForVector: function updateConfigForVector() {\n      var t,\n          e,\n          n,\n          r = this.config,\n          a = this.data,\n          o = this.el;e = a.from ? AFRAME.utils.coordinates.parse(a.from) : m(o, a.property), n = AFRAME.utils.coordinates.parse(a.to), a.property === A && (i(e), i(n)), this.targetsArray.length = 0, this.targetsArray.push(e), r.targets = this.targetsArray;for (t in n) {\n        r[t] = n[t];\n      }return a.property === b || a.property === A || a.property === x ? void (r.update = function () {\n        var t = {};return t.x = e.x, t.y = e.y, t.z = e.z, function (e) {\n          var n = e.animatables[0].target;n.x === t.x && n.y === t.y && n.z === t.z || (t.x = n.x, t.y = n.y, t.z = n.z, o.object3D[a.property].set(n.x, n.y, n.z));\n        };\n      }()) : void (r.update = function () {\n        var t = {};return t.x = e.x, t.y = e.y, t.z = e.z, function (e) {\n          var n = e.animations[0].target;n.x === t.x && n.y === t.y && n.z === t.z || (t.x = n.x, t.y = n.y, t.z = n.z, y(o, a.property, n));\n        };\n      }());\n    }, updateConfig: function updateConfig() {\n      var t;t = r(this.el, this.data.property), l(this.data) && this.data.type === v ? this.updateConfigForRawColor() : \"vec2\" === t || \"vec3\" === t || \"vec4\" === t ? this.updateConfigForVector() : this.updateConfigForDefault();\n    }, stopRelatedAnimations: function stopRelatedAnimations() {\n      var t, e;for (e in this.el.components) {\n        t = this.el.components[e], e !== this.attrName && \"animation\" === t.name && t.data.property === this.data.property && (t.animationIsPlaying = !1);\n      }\n    }, addEventListeners: function addEventListeners() {\n      var t = this.data,\n          e = this.el;a(e, t.startEvents, this.onStartEvent), a(e, t.pauseEvents, this.pauseAnimation), a(e, t.resumeEvents, this.resumeAnimation);\n    }, removeEventListeners: function removeEventListeners() {\n      var t = this.data,\n          e = this.el;o(e, t.startEvents, this.onStartEvent), o(e, t.pauseEvents, this.pauseAnimation), o(e, t.resumeEvents, this.resumeAnimation);\n    }, setColorConfig: function setColorConfig(t, e) {\n      p.set(t), d.set(e), t = this.fromColor, e = this.toColor, t.r = p.r, t.g = p.g, t.b = p.b, e.r = d.r, e.g = d.g, e.b = d.b;\n    } });\n}, function (t, e, n) {\n  var r, i, a;(function (n) {\n    var o = { scope: {} };o.defineProperty = \"function\" == typeof Object.defineProperties ? Object.defineProperty : function (t, e, n) {\n      if (n.get || n.set) throw new TypeError(\"ES3 does not support getters and setters.\");t != Array.prototype && t != Object.prototype && (t[e] = n.value);\n    }, o.getGlobal = function (t) {\n      return \"undefined\" != typeof window && window === t ? t : \"undefined\" != typeof n && null != n ? n : t;\n    }, o.global = o.getGlobal(this), o.SYMBOL_PREFIX = \"jscomp_symbol_\", o.initSymbol = function () {\n      o.initSymbol = function () {}, o.global.Symbol || (o.global.Symbol = o.Symbol);\n    }, o.symbolCounter_ = 0, o.Symbol = function (t) {\n      return o.SYMBOL_PREFIX + (t || \"\") + o.symbolCounter_++;\n    }, o.initSymbolIterator = function () {\n      o.initSymbol();var t = o.global.Symbol.iterator;t || (t = o.global.Symbol.iterator = o.global.Symbol(\"iterator\")), \"function\" != typeof Array.prototype[t] && o.defineProperty(Array.prototype, t, { configurable: !0, writable: !0, value: function value() {\n          return o.arrayIterator(this);\n        } }), o.initSymbolIterator = function () {};\n    }, o.arrayIterator = function (t) {\n      var e = 0;return o.iteratorPrototype(function () {\n        return e < t.length ? { done: !1, value: t[e++] } : { done: !0 };\n      });\n    }, o.iteratorPrototype = function (t) {\n      return o.initSymbolIterator(), t = { next: t }, t[o.global.Symbol.iterator] = function () {\n        return this;\n      }, t;\n    }, o.array = o.array || {}, o.iteratorFromArray = function (t, e) {\n      o.initSymbolIterator(), t instanceof String && (t += \"\");var n = 0,\n          r = { next: function next() {\n          if (n < t.length) {\n            var i = n++;return { value: e(i, t[i]), done: !1 };\n          }return r.next = function () {\n            return { done: !0, value: void 0 };\n          }, r.next();\n        } };return r[Symbol.iterator] = function () {\n        return r;\n      }, r;\n    }, o.polyfill = function (t, e, n, r) {\n      if (e) {\n        for (n = o.global, t = t.split(\".\"), r = 0; r < t.length - 1; r++) {\n          var i = t[r];i in n || (n[i] = {}), n = n[i];\n        }t = t[t.length - 1], r = n[t], e = e(r), e != r && null != e && o.defineProperty(n, t, { configurable: !0, writable: !0, value: e });\n      }\n    }, o.polyfill(\"Array.prototype.keys\", function (t) {\n      return t ? t : function () {\n        return o.iteratorFromArray(this, function (t) {\n          return t;\n        });\n      };\n    }, \"es6-impl\", \"es3\");var s = this;!function (n, o) {\n      i = [], r = o, a = \"function\" == typeof r ? r.apply(e, i) : r, !(void 0 !== a && (t.exports = a));\n    }(this, function () {\n      function t(t) {\n        if (!D.col(t)) try {\n          return document.querySelectorAll(t);\n        } catch (t) {}\n      }function e(t, e) {\n        for (var n = t.length, r = 2 <= arguments.length ? arguments[1] : void 0, i = [], a = 0; a < n; a++) {\n          if (a in t) {\n            var o = t[a];e.call(r, o, a, t) && i.push(o);\n          }\n        }return i;\n      }function n(t) {\n        return t.reduce(function (t, e) {\n          return t.concat(D.arr(e) ? n(e) : e);\n        }, []);\n      }function r(e) {\n        return D.arr(e) ? e : (D.str(e) && (e = t(e) || e), e instanceof NodeList || e instanceof HTMLCollection ? [].slice.call(e) : [e]);\n      }function i(t, e) {\n        return t.some(function (t) {\n          return t === e;\n        });\n      }function a(t) {\n        var e,\n            n = {};for (e in t) {\n          n[e] = t[e];\n        }return n;\n      }function o(t, e) {\n        var n,\n            r = a(t);for (n in t) {\n          r[n] = e.hasOwnProperty(n) ? e[n] : t[n];\n        }return r;\n      }function u(t, e) {\n        var n,\n            r = a(t);for (n in e) {\n          r[n] = D.und(t[n]) ? e[n] : t[n];\n        }return r;\n      }function f(t) {\n        t = t.replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i, function (t, e, n, r) {\n          return e + e + n + n + r + r;\n        });var e = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(t);t = parseInt(e[1], 16);var n = parseInt(e[2], 16),\n            e = parseInt(e[3], 16);return \"rgba(\" + t + \",\" + n + \",\" + e + \",1)\";\n      }function l(t) {\n        function e(t, e, n) {\n          return 0 > n && (n += 1), 1 < n && --n, n < 1 / 6 ? t + 6 * (e - t) * n : .5 > n ? e : n < 2 / 3 ? t + (e - t) * (2 / 3 - n) * 6 : t;\n        }var n = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(t) || /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(t);t = parseInt(n[1]) / 360;var r = parseInt(n[2]) / 100,\n            i = parseInt(n[3]) / 100,\n            n = n[4] || 1;if (0 == r) i = r = t = i;else {\n          var a = .5 > i ? i * (1 + r) : i + r - i * r,\n              o = 2 * i - a,\n              i = e(o, a, t + 1 / 3),\n              r = e(o, a, t);t = e(o, a, t - 1 / 3);\n        }return \"rgba(\" + 255 * i + \",\" + 255 * r + \",\" + 255 * t + \",\" + n + \")\";\n      }function c(t) {\n        if (t = /([\\+\\-]?[0-9#\\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t)) return t[2];\n      }function p(t) {\n        return -1 < t.indexOf(\"translate\") || \"perspective\" === t ? \"px\" : -1 < t.indexOf(\"rotate\") || -1 < t.indexOf(\"skew\") ? \"deg\" : void 0;\n      }function d(t, e) {\n        return D.fnc(t) ? t(e.target, e.id, e.total) : t;\n      }function h(t, e) {\n        if (e in t.style) return getComputedStyle(t).getPropertyValue(e.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase()) || \"0\";\n      }function m(t, e) {\n        return D.dom(t) && i(N, e) ? \"transform\" : D.dom(t) && (t.getAttribute(e) || D.svg(t) && t[e]) ? \"attribute\" : D.dom(t) && \"transform\" !== e && h(t, e) ? \"css\" : null != t[e] ? \"object\" : void 0;\n      }function y(t, n) {\n        var r = p(n),\n            r = -1 < n.indexOf(\"scale\") ? 1 : 0 + r;if (t = t.style.transform, !t) return r;for (var i = [], a = [], o = [], s = /(\\w+)\\((.+?)\\)/g; i = s.exec(t);) {\n          a.push(i[1]), o.push(i[2]);\n        }return t = e(o, function (t, e) {\n          return a[e] === n;\n        }), t.length ? t[0] : r;\n      }function g(t, e) {\n        switch (m(t, e)) {case \"transform\":\n            return y(t, e);case \"css\":\n            return h(t, e);case \"attribute\":\n            return t.getAttribute(e);}return t[e] || 0;\n      }function v(t, e) {\n        var n = /^(\\*=|\\+=|-=)/.exec(t);if (!n) return t;var r = c(t) || 0;switch (e = parseFloat(e), t = parseFloat(t.replace(n[0], \"\")), n[0][0]) {case \"+\":\n            return e + t + r;case \"-\":\n            return e - t + r;case \"*\":\n            return e * t + r;}\n      }function b(t, e) {\n        return Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2));\n      }function A(t) {\n        t = t.points;for (var e, n = 0, r = 0; r < t.numberOfItems; r++) {\n          var i = t.getItem(r);0 < r && (n += b(e, i)), e = i;\n        }return n;\n      }function x(t) {\n        if (t.getTotalLength) return t.getTotalLength();switch (t.tagName.toLowerCase()) {case \"circle\":\n            return 2 * Math.PI * t.getAttribute(\"r\");case \"rect\":\n            return 2 * t.getAttribute(\"width\") + 2 * t.getAttribute(\"height\");case \"line\":\n            return b({ x: t.getAttribute(\"x1\"), y: t.getAttribute(\"y1\") }, { x: t.getAttribute(\"x2\"), y: t.getAttribute(\"y2\") });case \"polyline\":\n            return A(t);case \"polygon\":\n            var e = t.points;return A(t) + b(e.getItem(e.numberOfItems - 1), e.getItem(0));}\n      }function E(t, e) {\n        function n(n) {\n          return n = void 0 === n ? 0 : n, t.el.getPointAtLength(1 <= e + n ? e + n : 0);\n        }var r = n(),\n            i = n(-1),\n            a = n(1);switch (t.property) {case \"x\":\n            return r.x;case \"y\":\n            return r.y;case \"angle\":\n            return 180 * Math.atan2(a.y - i.y, a.x - i.x) / Math.PI;}\n      }function w(t, e) {\n        var n,\n            r = /-?\\d*\\.?\\d+/g;if (n = D.pth(t) ? t.totalLength : t, D.col(n)) {\n          if (D.rgb(n)) {\n            var i = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(n);n = i ? \"rgba(\" + i[1] + \",1)\" : n;\n          } else n = D.hex(n) ? f(n) : D.hsl(n) ? l(n) : void 0;\n        } else i = (i = c(n)) ? n.substr(0, n.length - i.length) : n, n = e && !/\\s/g.test(n) ? i + e : i;return n += \"\", { original: n, numbers: n.match(r) ? n.match(r).map(Number) : [0], strings: D.str(t) || e ? n.split(r) : [] };\n      }function P(t) {\n        return t = t ? n(D.arr(t) ? t.map(r) : r(t)) : [], e(t, function (t, e, n) {\n          return n.indexOf(t) === e;\n        });\n      }function C(t) {\n        var e = P(t);return e.map(function (t, n) {\n          return { target: t, id: n, total: e.length };\n        });\n      }function I(t, e) {\n        var n = a(e);if (D.arr(t)) {\n          var i = t.length;2 !== i || D.obj(t[0]) ? D.fnc(e.duration) || (n.duration = e.duration / i) : t = { value: t };\n        }return r(t).map(function (t, n) {\n          return n = n ? 0 : e.delay, t = D.obj(t) && !D.pth(t) ? t : { value: t }, D.und(t.delay) && (t.delay = n), t;\n        }).map(function (t) {\n          return u(t, n);\n        });\n      }function M(t, e) {\n        var n,\n            r = {};for (n in t) {\n          var i = d(t[n], e);D.arr(i) && (i = i.map(function (t) {\n            return d(t, e);\n          }), 1 === i.length && (i = i[0])), r[n] = i;\n        }return r.duration = parseFloat(r.duration), r.delay = parseFloat(r.delay), r;\n      }function S(t) {\n        return D.arr(t) ? $.apply(this, t) : H[t];\n      }function F(t, e) {\n        var n;return t.tweens.map(function (r) {\n          r = M(r, e);var i = r.value,\n              a = g(e.target, t.name),\n              o = n ? n.to.original : a,\n              o = D.arr(i) ? i[0] : o,\n              s = v(D.arr(i) ? i[1] : i, o),\n              a = c(s) || c(o) || c(a);return r.from = w(o, a), r.to = w(s, a), r.start = n ? n.end : t.offset, r.end = r.start + r.delay + r.duration, r.easing = S(r.easing), r.elasticity = (1e3 - Math.min(Math.max(r.elasticity, 1), 999)) / 1e3, r.isPath = D.pth(i), r.isColor = D.col(r.from.original), r.isColor && (r.round = 1), n = r;\n        });\n      }function R(t, r) {\n        return e(n(t.map(function (t) {\n          return r.map(function (e) {\n            var n = m(t.target, e.name);if (n) {\n              var r = F(e, t);e = { type: n, property: e.name, animatable: t, tweens: r, duration: r[r.length - 1].end, delay: r[0].delay };\n            } else e = void 0;return e;\n          });\n        })), function (t) {\n          return !D.und(t);\n        });\n      }function O(t, e, n, r) {\n        var i = \"delay\" === t;return e.length ? (i ? Math.min : Math.max).apply(Math, e.map(function (e) {\n          return e[t];\n        })) : i ? r.delay : n.offset + r.delay + r.duration;\n      }function L(t) {\n        var e,\n            n = o(z, t),\n            r = o(j, t),\n            i = C(t.targets),\n            a = [],\n            s = u(n, r);for (e in t) {\n          s.hasOwnProperty(e) || \"targets\" === e || a.push({ name: e, offset: s.offset, tweens: I(t[e], r) });\n        }return t = R(i, a), u(n, { children: [], animatables: i, animations: t, duration: O(\"duration\", t, n, r), delay: O(\"delay\", t, n, r) });\n      }function T(t) {\n        function n() {\n          return window.Promise && new Promise(function (t) {\n            return c = t;\n          });\n        }function r(t) {\n          return d.reversed ? d.duration - t : t;\n        }function i(t) {\n          for (var n = 0, r = {}, i = d.animations, a = i.length; n < a;) {\n            var o = i[n],\n                s = o.animatable,\n                u = o.tweens,\n                f = u.length - 1,\n                l = u[f];f && (l = e(u, function (e) {\n              return t < e.end;\n            })[0] || l);for (var u = Math.min(Math.max(t - l.start - l.delay, 0), l.duration) / l.duration, c = isNaN(u) ? 1 : l.easing(u, l.elasticity), u = l.to.strings, p = l.round, f = [], m = void 0, m = l.to.numbers.length, y = 0; y < m; y++) {\n              var g = void 0,\n                  g = l.to.numbers[y],\n                  v = l.from.numbers[y],\n                  g = l.isPath ? E(l.value, c * g) : v + c * (g - v);p && (l.isColor && 2 < y || (g = Math.round(g * p) / p)), f.push(g);\n            }if (l = u.length) for (m = u[0], c = 0; c < l; c++) {\n              p = u[c + 1], y = f[c], isNaN(y) || (m = p ? m + (y + p) : m + (y + \" \"));\n            } else m = f[0];V[o.type](s.target, o.property, m, r, s.id), o.currentValue = m, n++;\n          }if (n = Object.keys(r).length) for (i = 0; i < n; i++) {\n            k || (k = h(document.body, \"transform\") ? \"transform\" : \"-webkit-transform\"), d.animatables[i].target.style[k] = r[i].join(\" \");\n          }d.currentTime = t, d.progress = t / d.duration * 100;\n        }function a(t) {\n          d[t] && d[t](d);\n        }function o() {\n          d.remaining && !0 !== d.remaining && d.remaining--;\n        }function s(t) {\n          var e = d.duration,\n              s = d.offset,\n              h = s + d.delay,\n              m = d.currentTime,\n              y = d.reversed,\n              g = r(t);if (d.children.length) {\n            var v = d.children,\n                b = v.length;if (g >= d.currentTime) for (var A = 0; A < b; A++) {\n              v[A].seek(g);\n            } else for (; b--;) {\n              v[b].seek(g);\n            }\n          }(g >= h || !e) && (d.began || (d.began = !0, a(\"begin\")), a(\"run\")), g > s && g < e ? i(g) : (g <= s && 0 !== m && (i(0), y && o()), (g >= e && m !== e || !e) && (i(e), y || o())), a(\"update\"), t >= e && (d.remaining ? (f = u, \"alternate\" === d.direction && (d.reversed = !d.reversed)) : (d.pause(), d.completed || (d.completed = !0, a(\"complete\"), \"Promise\" in window && (c(), p = n()))), l = 0);\n        }t = void 0 === t ? {} : t;var u,\n            f,\n            l = 0,\n            c = null,\n            p = n(),\n            d = L(t);return d.reset = function () {\n          var t = d.direction,\n              e = d.loop;for (d.currentTime = 0, d.progress = 0, d.paused = !0, d.began = !1, d.completed = !1, d.reversed = \"reverse\" === t, d.remaining = \"alternate\" === t && 1 === e ? 2 : e, i(0), t = d.children.length; t--;) {\n            d.children[t].reset();\n          }\n        }, d.tick = function (t) {\n          u = t, f || (f = u), s((l + u - f) * T.speed);\n        }, d.seek = function (t) {\n          s(r(t));\n        }, d.pause = function () {\n          var t = X.indexOf(d);-1 < t && X.splice(t, 1), d.paused = !0;\n        }, d.play = function () {\n          d.paused && (d.paused = !1, f = 0, l = r(d.currentTime), X.push(d), Y || _());\n        }, d.reverse = function () {\n          d.reversed = !d.reversed, f = 0, l = r(d.currentTime);\n        }, d.restart = function () {\n          d.pause(), d.reset(), d.play();\n        }, d.finished = p, d.reset(), d.autoplay && d.play(), d;\n      }var k,\n          z = { update: void 0, begin: void 0, run: void 0, complete: void 0, loop: 1, direction: \"normal\", autoplay: !0, offset: 0 },\n          j = { duration: 1e3, delay: 0, easing: \"easeOutElastic\", elasticity: 500, round: 0 },\n          N = \"translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective\".split(\" \"),\n          D = { arr: function arr(t) {\n          return Array.isArray(t);\n        }, obj: function obj(t) {\n          return -1 < Object.prototype.toString.call(t).indexOf(\"Object\");\n        }, pth: function pth(t) {\n          return D.obj(t) && t.hasOwnProperty(\"totalLength\");\n        }, svg: function svg(t) {\n          return t instanceof SVGElement;\n        }, dom: function dom(t) {\n          return t.nodeType || D.svg(t);\n        }, str: function str(t) {\n          return \"string\" == typeof t;\n        }, fnc: function fnc(t) {\n          return \"function\" == typeof t;\n        }, und: function und(t) {\n          return \"undefined\" == typeof t;\n        }, hex: function hex(t) {\n          return (/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)\n          );\n        }, rgb: function rgb(t) {\n          return (/^rgb/.test(t)\n          );\n        }, hsl: function hsl(t) {\n          return (/^hsl/.test(t)\n          );\n        }, col: function col(t) {\n          return D.hex(t) || D.rgb(t) || D.hsl(t);\n        } },\n          $ = function () {\n        function t(t, e, n) {\n          return (((1 - 3 * n + 3 * e) * t + (3 * n - 6 * e)) * t + 3 * e) * t;\n        }return function (e, n, r, i) {\n          if (0 <= e && 1 >= e && 0 <= r && 1 >= r) {\n            var a = new Float32Array(11);if (e !== n || r !== i) for (var o = 0; 11 > o; ++o) {\n              a[o] = t(.1 * o, e, r);\n            }return function (o) {\n              if (e === n && r === i) return o;if (0 === o) return 0;if (1 === o) return 1;for (var s = 0, u = 1; 10 !== u && a[u] <= o; ++u) {\n                s += .1;\n              }--u;var u = s + (o - a[u]) / (a[u + 1] - a[u]) * .1,\n                  f = 3 * (1 - 3 * r + 3 * e) * u * u + 2 * (3 * r - 6 * e) * u + 3 * e;if (.001 <= f) {\n                for (s = 0; 4 > s && (f = 3 * (1 - 3 * r + 3 * e) * u * u + 2 * (3 * r - 6 * e) * u + 3 * e, 0 !== f); ++s) {\n                  var l = t(u, e, r) - o,\n                      u = u - l / f;\n                }o = u;\n              } else if (0 === f) o = u;else {\n                var u = s,\n                    s = s + .1,\n                    c = 0;do {\n                  l = u + (s - u) / 2, f = t(l, e, r) - o, 0 < f ? s = l : u = l;\n                } while (1e-7 < Math.abs(f) && 10 > ++c);o = l;\n              }return t(o, n, i);\n            };\n          }\n        };\n      }(),\n          H = function () {\n        function t(t, e) {\n          return 0 === t || 1 === t ? t : -Math.pow(2, 10 * (t - 1)) * Math.sin(2 * (t - 1 - e / (2 * Math.PI) * Math.asin(1)) * Math.PI / e);\n        }var e,\n            n = \"Quad Cubic Quart Quint Sine Expo Circ Back Elastic\".split(\" \"),\n            r = { In: [[.55, .085, .68, .53], [.55, .055, .675, .19], [.895, .03, .685, .22], [.755, .05, .855, .06], [.47, 0, .745, .715], [.95, .05, .795, .035], [.6, .04, .98, .335], [.6, -.28, .735, .045], t], Out: [[.25, .46, .45, .94], [.215, .61, .355, 1], [.165, .84, .44, 1], [.23, 1, .32, 1], [.39, .575, .565, 1], [.19, 1, .22, 1], [.075, .82, .165, 1], [.175, .885, .32, 1.275], function (e, n) {\n            return 1 - t(1 - e, n);\n          }], InOut: [[.455, .03, .515, .955], [.645, .045, .355, 1], [.77, 0, .175, 1], [.86, 0, .07, 1], [.445, .05, .55, .95], [1, 0, 0, 1], [.785, .135, .15, .86], [.68, -.55, .265, 1.55], function (e, n) {\n            return .5 > e ? t(2 * e, n) / 2 : 1 - t(-2 * e + 2, n) / 2;\n          }] },\n            i = { linear: $(.25, .25, .75, .75) },\n            a = {};for (e in r) {\n          a.type = e, r[a.type].forEach(function (t) {\n            return function (e, r) {\n              i[\"ease\" + t.type + n[r]] = D.fnc(e) ? e : $.apply(s, e);\n            };\n          }(a)), a = { type: a.type };\n        }return i;\n      }(),\n          V = { css: function css(t, e, n) {\n          return t.style[e] = n;\n        }, attribute: function attribute(t, e, n) {\n          return t.setAttribute(e, n);\n        }, object: function object(t, e, n) {\n          return t[e] = n;\n        }, transform: function transform(t, e, n, r, i) {\n          r[i] || (r[i] = []), r[i].push(e + \"(\" + n + \")\");\n        } },\n          X = [],\n          Y = 0,\n          _ = function () {\n        function t() {\n          Y = requestAnimationFrame(e);\n        }function e(e) {\n          var n = X.length;if (n) {\n            for (var r = 0; r < n;) {\n              X[r] && X[r].tick(e), r++;\n            }t();\n          } else cancelAnimationFrame(Y), Y = 0;\n        }return t;\n      }();return T.version = \"2.2.0\", T.speed = 1, T.running = X, T.remove = function (t) {\n        t = P(t);for (var e = X.length; e--;) {\n          for (var n = X[e], r = n.animations, a = r.length; a--;) {\n            i(t, r[a].animatable.target) && (r.splice(a, 1), r.length || n.pause());\n          }\n        }\n      }, T.getValue = g, T.path = function (e, n) {\n        var r = D.str(e) ? t(e)[0] : e,\n            i = n || 100;return function (t) {\n          return { el: r, property: t, totalLength: x(r) * (i / 100) };\n        };\n      }, T.setDashoffset = function (t) {\n        var e = x(t);return t.setAttribute(\"stroke-dasharray\", e), e;\n      }, T.bezier = $, T.easings = H, T.timeline = function (t) {\n        var e = T(t);return e.pause(), e.duration = 0, e.add = function (n) {\n          return e.children.forEach(function (t) {\n            t.began = !0, t.completed = !0;\n          }), r(n).forEach(function (n) {\n            var r = u(n, o(j, t || {}));r.targets = r.targets || t.targets, n = e.duration;var i = r.offset;r.autoplay = !1, r.direction = e.direction, r.offset = D.und(i) ? n : v(i, n), e.began = !0, e.completed = !0, e.seek(r.offset), r = T(r), r.began = !0, r.completed = !0, r.duration > n && (e.duration = r.duration), e.children.push(r);\n          }), e.seek(0), e.reset(), e.autoplay && e.restart(), e;\n        }, e;\n      }, T.random = function (t, e) {\n        return Math.floor(Math.random() * (e - t + 1)) + t;\n      }, T;\n    });\n  }).call(e, function () {\n    return this;\n  }());\n}]);\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n!function (t) {\n  function e(n) {\n    if (i[n]) return i[n].exports;var a = i[n] = { exports: {}, id: n, loaded: !1 };return t[n].call(a.exports, a, a.exports, e), a.loaded = !0, a.exports;\n  }var i = {};return e.m = t, e.c = i, e.p = \"\", e(0);\n}([function (t, e) {\n  function i(t) {\n    var e,\n        i = {};for (e in t) {\n      \"function\" == typeof t[e] ? i[e] = t[e] : \"object\" == _typeof(t[e]) ? i[e] = AFRAME.utils.clone(t[e]) : i[e] = t[e];\n    }return i;\n  }document.registerElement(\"a-timeline\"), document.registerElement(\"a-timeline-group\"), document.registerElement(\"a-timeline-animation\"), AFRAME.registerComponent(\"animation-timeline\", { schema: { direction: { type: \"string\", default: \"normal\" }, loop: { default: 0, parse: function parse(t) {\n          return \"true\" === t || \"false\" !== t && parseInt(t, 10);\n        } }, startEvents: { type: \"array\" }, timeline: { type: \"string\" } }, multiple: !0, init: function init() {\n      var t,\n          e = this.data;for (this.animationIsPlaying = !1, this.beginAnimation = this.beginAnimation.bind(this), this.eventDetail = { name: this.id }, this.time = 0, this.timeline = null, t = 0; t < e.startEvents.length; t++) {\n        this.el.addEventListener(e.startEvents[t], this.beginAnimation);\n      }\n    }, play: function play() {\n      this.data.startEvents.length || this.beginAnimation();\n    }, tick: function tick(t, e) {\n      this.animationIsPlaying && this.timeline && (this.time += e, this.timeline.tick(this.time));\n    }, beginAnimation: function beginAnimation() {\n      var t,\n          e,\n          i,\n          n,\n          a,\n          o,\n          r,\n          l = this;if (o = document.querySelector(this.data.timeline), \"A-TIMELINE\" !== o.tagName) throw new Error(\"[animation-timeline] timeline must be a selector to <a-timeline> element.\");for (this.animationIsPlaying = !0, this.time = 0, this.timeline = AFRAME.anime.timeline({ autoplay: !1, complete: function complete() {\n          l.el.emit(\"animationtimelinecomplete\", l.eventDetail);\n        }, direction: this.data.direction, loop: this.data.loop }), a = 0, t = 0; t < o.children.length; t++) {\n        if (\"A-TIMELINE-GROUP\" !== o.children[t].tagName) \"A-TIMELINE-ANIMATION\" === o.children[t].tagName && (a += this.addAnimationToTimeline(o.children[t], a));else {\n          for (r = o.children[t], n = 0, e = 0; e < r.children.length; e++) {\n            i = this.addAnimationToTimeline(r.children[e], a), i > n && (n = i);\n          }a += n;\n        }\n      }\n    }, addAnimationToTimeline: function addAnimationToTimeline(t, e) {\n      var n, a, o, r, l, s, m;if (a = \"animation__\" + t.getAttribute(\"name\"), m = t.getAttribute(\"select\"), l = this.el.sceneEl.querySelectorAll(m), !l.length) return console.warn('[animation-timeline] No entities found for select=\"' + m + '\"'), 0;for (n = parseFloat(t.getAttribute(\"offset\") || 0, 10), s = 0; s < l.length; s++) {\n        if (o = l[s].components[a], !o) throw new Error(\"Could not find animation `\" + a + \"` for `\" + t.getAttribute(\"select\") + \"`.\");o.updateConfig(), r = i(o.config), r.offset = e + n, this.timeline.add(r);\n      }return (r.duration || 0) + (r.delay || 0) + n;\n    } });\n}]);\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nif (typeof AFRAME === 'undefined') {\n  throw new Error('Component attempted to register before AFRAME was available.');\n}\n\nAFRAME.registerComponent('teleport-extras', {\n  schema: {\n    cursor: { type: 'selector', default: '[cursor]' }\n  },\n\n  active: true,\n\n  init: function init() {\n    document.querySelector('a-scene').addEventListener('touchstart', this.startTouch.bind(this));\n    document.querySelector('a-scene').addEventListener('mousedown', this.startTouch.bind(this));\n    document.body.addEventListener('keydown', function (e) {\n      if (e.keyCode == 32) {\n        this.startTouch();\n      }\n    }.bind(this));\n\n    //Create the touchend event\n    document.querySelector('a-scene').addEventListener('touchend', this.endTouch.bind(this));\n    document.querySelector('a-scene').addEventListener('mouseup', this.endTouch.bind(this));\n    document.body.addEventListener('keyup', function (e) {\n      if (e.keyCode == 32) {\n        this.endTouch();\n      }\n    }.bind(this));\n\n    this.el.addEventListener('raycaster-intersection', this.onStartIntersection.bind(this));\n    this.el.addEventListener('raycaster-intersection-cleared', this.onEndIntersection.bind(this));\n  },\n\n  startTouch: function startTouch() {\n    if (this.active) {\n      this.el.emit('starttouch');\n    }\n  },\n\n  endTouch: function endTouch() {\n    if (this.active) {\n      this.el.emit('endtouch');\n    }\n  },\n\n  onStartIntersection: function onStartIntersection() {\n    this.active = false;\n\n    var teleportControls = this.el.components['teleport-controls'];\n    teleportControls.active = false;\n    teleportControls.hitEntity.setAttribute('visible', false);\n    teleportControls.teleportEntity.setAttribute('visible', false);\n  },\n\n  onEndIntersection: function onEndIntersection() {\n    this.active = true;\n  }\n});\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nif (typeof AFRAME === 'undefined') {\n  throw new Error('Component attempted to register before AFRAME was available.');\n}\n\nAFRAME.registerComponent('toggle-on-event', {\n  schema: {\n    hideOn: { type: 'string', default: 'raycaster-intersection-cleared' },\n    showOn: { type: 'string', default: 'raycaster-intersection' },\n    raycasterObject: { type: 'selector' }\n  },\n\n  noIntersections: 0,\n\n  init: function init() {\n    if (!this.data.raycasterObject) {\n      this.data.raycasterObject = this.el;\n    }\n\n    this.data.raycasterObject.addEventListener(this.data.showOn, function () {\n      this.noIntersections++;\n      this.toggle();\n    }.bind(this));\n\n    this.data.raycasterObject.addEventListener(this.data.hideOn, function () {\n      this.noIntersections--;\n      this.toggle();\n    }.bind(this));\n  },\n\n  toggle: function toggle() {\n    this.noIntersections = Math.max(this.noIntersections, 0);\n    this.el.setAttribute('visible', this.noIntersections > 0);\n  }\n});\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nif (typeof AFRAME === 'undefined') {\n  throw new Error('Component attempted to register before AFRAME was available.');\n}\n\nAFRAME.registerComponent('lookatlabel', {\n  init: function init() {\n    this.vector = new THREE.Vector3();\n  },\n\n  tick: function tick(t) {\n    var self = this;\n    var target = self.el.sceneEl.camera;\n    var object3D = self.el.object3D;\n\n    // make sure camera is set\n    if (target) {\n      target.updateMatrixWorld();\n      this.vector.setFromMatrixPosition(target.matrixWorld);\n      if (object3D.parent) {\n        object3D.parent.updateMatrixWorld();\n        object3D.parent.worldToLocal(this.vector);\n      }\n      //    return object3D.lookAt(this.vector); \n      return object3D.lookAt(new THREE.Vector3(this.vector.x, object3D.position.y, this.vector.z));\n    }\n  }\n});\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nif (typeof AFRAME === 'undefined') {\n  throw new Error('Component attempted to register before AFRAME was available.');\n}\n\nAFRAME.registerComponent('ui-console', {\n  schema: {\n    product: {\n      type: 'string',\n      default: ''\n    },\n    rig: {\n      type: 'string',\n      default: '#cameraRig'\n    },\n    radius: {\n      type: 'number',\n      default: 0.75\n    },\n    triggered: {\n      type: 'boolean',\n      default: false\n    }\n  },\n\n  init: function init() {\n    var data = this.data;\n    var el = this.el;\n    var cameraRig = document.querySelector(data.rig);\n    var uiEl = this.uiEl = el.object3D.parent;\n    var rigEl = this.rigEl = cameraRig.object3D;\n    //    this.hide();\n  },\n  tick: function tick(time, delta) {\n    if (this.data.triggered) {\n\n      // if (this.data.product === \"ucaas\") {\n      //   var positionX = this.rigEl.position.x;\n      //   var positionZ = this.rigEl.position.z;\n\n      //   if (positionX < 1 && positionX > -1) {\n      //     var showUcaaS = true\n      //   } else {\n      //     showUcaaS = false;\n      //   }\n      // }\n\n      // var dist = this.calcDistance(this.uiEl.position.x, this.uiEl.position.z, this.rigEl.position.x, this.rigEl.position.z);\n      // if (dist < this.data.radius || showUcaaS) {\n      //   if (this.el.getAttribute('visible') === false) {\n      //     this.show();\n      //   }\n    } else {\n      var dist = this.calcDistance(this.uiEl.position.x, this.uiEl.position.z, this.rigEl.position.x, this.rigEl.position.z);\n      if (dist < this.data.radius) {\n        if (this.el.getAttribute('visible') === false) {\n          this.show();\n        }\n      } else {\n        if (this.el.getAttribute('visible') === true) {\n          this.hide();\n        }\n      }\n    }\n  },\n  calcDistance: function calcDistance(x1, z1, x2, z2) {\n    return Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(z2 - z1, 2));\n  },\n  show: function show() {\n    //    console.log(\">>>>>>>> showing: \" + this.data.product);\n    this.el.setAttribute('visible', 'true');\n  },\n  hide: function hide() {\n    //    console.log(\">>>>>>>> hiding: \" + this.data.product);\n    this.el.setAttribute('visible', 'false');\n  },\n  update: function update(oldData) {}\n});\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nif (typeof AFRAME === 'undefined') {\n  throw new Error('Component attempted to register before AFRAME was available.');\n}\n\nAFRAME.registerComponent('checkpointspot', {\n  schema: {\n    radius: { type: 'number', default: 0.45 },\n    color: { type: 'string', default: '#2d283d' },\n    texture: { type: 'string', default: '#centertexture' },\n    rayobj: { type: 'string', default: '' }\n  },\n\n  init: function init() {\n    var data = this.data;\n    var el = this.el;\n\n    el.setAttribute('geometry', 'primitive: circle; radius: ' + data.radius + ';');\n    el.setAttribute('material', 'opacity:0.45; color:' + data.color + '; src:' + data.copy + ';');\n    el.setAttribute('rotation', '-90 0 0');\n    el.setAttribute('position', '0 0.1 0');\n    if (data.rayobj) {\n      el.setAttribute('class', data.rayobj);\n    }\n\n    var ring = document.createElement(\"a-entity\");\n    ring.setAttribute('geometry', 'primitive:ring; radiusInner:0.3; radiusOuter:0.4;');\n    ring.setAttribute('material', 'shader:flat; color:#fff; src:' + data.texture + ';');\n    ring.setAttribute('position', '0 0 0.05');\n    ring.setAttribute('animation__in', 'property: geometry.radiusInner; to: 0.5; delay: 0; dur: 500; easing: easeInOutSine; startEvents: in; autoplay: false'), ring.setAttribute('animation__in2', 'property: geometry.radiusOuter; to: 0.55; delay: 0; dur: 500; easing: easeInOutSine; startEvents: in; autoplay: false'), ring.setAttribute('animation__in3', 'property: position; to: 0 0 0; delay: 0; dur: 500; easing: easeInOutSine; startEvents: in; autoplay: false'), ring.setAttribute('animation__out', 'property: geometry.radiusInner; to: 0.3; delay: 0; dur: 200; easing: easeInOutSine; startEvents: out; autoplay: false'), ring.setAttribute('animation__out2', 'property: geometry.radiusOuter; to: 0.4; delay: 0; dur: 200; easing: easeInOutSine; startEvents: out; autoplay: false'), ring.setAttribute('animation__out3', 'property: position; to: 0 0 0.05; delay: 0; dur: 200; easing: easeInOutSine; startEvents: out; autoplay: false'), el.appendChild(ring);\n\n    el.addEventListener('mouseenter', function () {\n      ring.emit('in');\n    });\n\n    el.addEventListener('mouseleave', function () {\n      ring.emit('out');\n    });\n  },\n  play: function play() {},\n  update: function update(oldData) {}\n});\n\n/*\n  <a-animation begin=\"mouseenter\" attribute=\"geometry.radiusInner\" from=\"0.1\" to=\"0.3\" dur=\"500\"></a-animation>\n  <a-animation begin=\"mouseout\" attribute=\"geometry.radiusInner\" from=\"0.3\" to=\"0.1\" dur=\"200\"></a-animation>\n*/\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nif (typeof AFRAME === 'undefined') {\n  throw new Error('Component attempted to register before AFRAME was available.');\n}\n\nvar CURRENT_VIDEO;\nvar WATCHING_VIDEO = false;\n\n//SAVE CURRENT VIDEO SRC TO CURRENT_VIDEO ELEMENT\nAFRAME.registerComponent('video-controls', {\n  schema: {\n    videoSrcURL: {\n      type: 'string'\n    }\n  },\n  init: function init() {\n    var videoSrcURL = this.data.videoSrcURL;\n    var videoElement = document.querySelector(videoSrcURL);\n\n    //Click Platform -> Hide Video -> Set video Src -> Position Video\n    this.el.addEventListener('click', function (event) {\n      CURRENT_VIDEO = document.querySelector(videoElement.attributes.src.value);\n      console.log('video-controls component CURRENT_VIDEO: ' + CURRENT_VIDEO, \"WATCHING_VIDEO:\", WATCHING_VIDEO);\n\n      vidplay();\n    });\n  }\n});\n\nfunction hideVideos() {\n  var videoElementArray = document.querySelectorAll(\"a-video\");\n\n  videoElementArray.forEach(function (vidElement) {\n\n    // Set visibility of video\n    vidElement.setAttribute('visible', false);\n  });\n\n  //Reset timing of current video when hidden.\n  CURRENT_VIDEO.currentTime = 0;\n}\n\n//PLAY CURRENT_VIDEO (called at bottom of index.html when <body>.click())\nfunction vidplay() {\n  var video = CURRENT_VIDEO;\n  console.log('CURRENT_VIDEO: ' + CURRENT_VIDEO);\n\n  if (video.paused) {\n    var playPromise = video.play();\n\n    // In browsers that dont yet support this functionality,\n    // playPromise wont be defined.\n    if (playPromise !== undefined) {\n      playPromise.then(function () {\n        // Automatic playback started!\n      }).catch(function (error) {\n        // Automatic playback failed.\n        // Show a UI element to let the user manually start playback.\n        console.log(error);\n      });\n    }\n  } else {\n    video.pause();\n  }\n}\n\n// //\n// function setVideoVisibilityTrue(videoElement) {\n//   videoElement.setAttribute('visible', true);\n// }\n\n//WATCHING VIDEO COMPONENT\nAFRAME.registerComponent('watching-video', {\n  init: function init() {\n\n    this.el.addEventListener('mouseenter', function (event) {\n      WATCHING_VIDEO = true;\n      console.log(\"WATCHING_VIDEO = true\");\n    });\n\n    this.el.addEventListener('mouseleave', function (event) {\n      WATCHING_VIDEO = false;\n      console.log(\"WATCHING_VIDEO = false\");\n    });\n  }\n});\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nif (typeof AFRAME === 'undefined') {\n  throw new Error('Component attempted to register before AFRAME was available.');\n}\n\nAFRAME.registerComponent('panel', {\n  schema: {\n    width: { type: 'number', default: 0.75 },\n    height: { type: 'number', default: 0.5 },\n    copy: { type: 'string', default: '#panel-chime' }\n  },\n\n  init: function init() {\n    var data = this.data;\n    var el = this.el;\n\n    el.setAttribute('geometry', 'primitive: plane; height: ' + data.height + '; width: ' + data.width + ';');\n    el.setAttribute('material', 'transparent: true; opacity:1; color:#fff; src:' + data.copy + ';');\n  },\n  play: function play() {},\n  update: function update(oldData) {}\n});\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar base_url = \"https://backend-vonagevrcpev2.herokuapp.com\";\n\nif (typeof AFRAME === 'undefined') {\n  throw new Error('Component attempted to register before AFRAME was available.');\n}\n\nAFRAME.registerComponent('panelbtn', {\n  schema: {\n    on: {\n      default: 'click'\n    },\n    width: {\n      type: 'number',\n      default: 0.75\n    },\n    height: {\n      type: 'number',\n      default: 0.125\n    },\n    toggle: {\n      type: 'boolean',\n      default: false\n    },\n    base: {\n      type: 'string',\n      default: '#bookmark-btn-label'\n    },\n    hover: {\n      type: 'string',\n      default: '#bookmark-btn-label-hover'\n    },\n    click: {\n      type: 'string',\n      default: '#bookmark-btn-label-click'\n    },\n    clickAction: {\n      type: 'string'\n    },\n    hoversnd: { type: 'string', default: 'panelhoversound' },\n    clicksnd: { type: 'string', default: 'panelclicksound' }\n  },\n\n  init: function init() {\n    var data = this.data;\n    var el = this.el;\n    var toggleState = this.toggleState = data.toggle;\n    var hoversound = this.opensound = document.getElementById(data.hoversnd);\n    var clicksound = this.coinsound = document.getElementById(data.clicksnd);\n    el.setAttribute('geometry', 'primitive: plane; height: ' + data.height + '; width: ' + data.width + ';');\n    el.setAttribute('material', 'transparent: true; opacity:1; color:#fff; src:' + data.base + ';');\n\n    el.addEventListener('mouseenter', function () {\n      if (!data.toggle) {\n        this.setAttribute('material', 'src', data.hover);\n      }\n      this.setAttribute('scale', '1.15 1.15 1.15');\n      hoversound.components.sound.stopSound();hoversound.components.sound.playSound();\n    });\n\n    el.addEventListener('mouseleave', function () {\n      if (!data.toggle) {\n        this.setAttribute('material', 'src', data.base);\n      }\n      this.setAttribute('scale', '1 1 1');\n    });\n\n    el.addEventListener('mousedown', function () {\n      if (!data.toggle) {\n        this.setAttribute('material', 'src', data.click);\n      } else {\n        this.setAttribute('material', 'src', data.hover);\n      }\n    });\n    el.addEventListener('mouseup', function () {\n      if (!data.toggle) {\n        this.setAttribute('material', 'src', data.hover);\n      } else {\n        this.setAttribute('material', 'src', data.click);\n      }\n    });\n\n    el.addEventListener(data.on, function (evt) {\n\n      console.log('I was clicked at: ', evt.detail.intersection.point);\n\n      clicksound.components.sound.stopSound();clicksound.components.sound.playSound();\n\n      var clickActionFunctionName = data.clickAction;\n      console.log(\"in button, clickActionFunctionName: \" + clickActionFunctionName);\n\n      //BOOKMARK SERVICE USER CLICKS\n      //Param: 'bookmarkvonagereach'\n      if (clickActionFunctionName.includes(\"bookmark\")) {\n        var user = JSON.parse(localStorage.getItem('active_user'));\n        user[\"bookmarkedService\"] = clickActionFunctionName.split(\"bookmark\")[1];\n\n        userBookmarkService(user);\n      }\n      // find object\n      var clickActionFunction = window[clickActionFunctionName];\n      //console.log(\"clickActionFunction: \"+clickActionFunction);\n      // is object a function?\n      if (typeof clickActionFunction === \"function\") clickActionFunction();\n    });\n  },\n  setClickAction: function setClickAction(action) {\n    this.data.clickAction = action; //change function dynamically\n  },\n  play: function play() {},\n  update: function update(oldData) {\n    console.log(\"In button update, toggle: \" + this.toggleState);\n  },\n  setActiveState: function setActiveState(activeState) {\n    console.log(\"in setActiveState function\");\n    this.data.toggle = this.toggleState = activeState;\n    if (!activeState) {\n      this.setAttribute('material', 'src', this.data.base);\n    } else {}\n  }\n});\n\nfunction userBookmarkService(user) {\n  console.log(\"Bookmarking: \", user.bookmarkedService, \" for \", user.email);\n\n  $.ajax({\n    url: base_url + '/user',\n    type: 'GET',\n    dataType: 'jsonp',\n    data: user,\n    success: function success(data) {\n      return data;\n    },\n    error: function error(err) {\n      console.log('Failed!', err);\n      return err;\n    }\n  });\n}\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nif (typeof AFRAME === 'undefined') {\n  throw new Error('Component attempted to register before AFRAME was available.');\n}\n\nAFRAME.registerComponent('trunk', {\n  schema: {\n    on: { default: 'click' },\n    clue: { type: 'string', default: '#panel-trunk' },\n    opensnd: { type: 'string', default: 'trunkopensound' },\n    coinsnd: { type: 'string', default: 'trunkcoinsound' },\n    clickAction: { type: 'string' }\n  },\n\n  init: function init() {\n    var data = this.data;\n    var el = this.el;\n    var opensound = this.opensound = document.getElementById(data.opensnd);\n    var coinsound = this.coinsound = document.getElementById(data.coinsnd);\n\n    el.setAttribute('geometry', 'primitive:box; width:1; height:1;depth:1');\n    el.setAttribute('material', 'transparent: true; opacity:0; color:#fff;');\n\n    var base = document.createElement(\"a-entity\");\n    base.setAttribute('obj-model', 'obj: #trunk_base-obj; mtl: #trunk_base-mtl');\n    base.setAttribute('scale', '0.5 0.5 0.5');\n    base.setAttribute('position', '0 0 0');\n    el.appendChild(base);\n\n    var lid = document.createElement(\"a-entity\");\n    lid.setAttribute('obj-model', 'obj: #trunk_top-obj; mtl: #trunk_top-mtl');\n    lid.setAttribute('scale', '0.5 0.5 0.5');\n    lid.setAttribute('position', '0 0 0');\n    el.appendChild(lid);\n\n    var trunklidAni = document.createElement(\"a-animation\");\n    trunklidAni.setAttribute('attribute', 'rotation');\n    trunklidAni.setAttribute('begin', 'reveal');\n    trunklidAni.setAttribute('to', '-120 0 0');\n    trunklidAni.setAttribute('delay', '0');\n    trunklidAni.setAttribute('dur', '1500');\n    trunklidAni.setAttribute('fill', 'forwards');\n    lid.appendChild(trunklidAni);\n\n    var shadow = document.createElement(\"a-entity\");\n    shadow.setAttribute('geometry', 'primitive:plane; width:1.2; height:0.7;');\n    shadow.setAttribute('material', 'color:#2d283d; opacity:0.5');\n    shadow.setAttribute('rotation', '-90 0 0');\n    shadow.setAttribute('position', '0 -0.45 0.3');\n    el.appendChild(shadow);\n\n    var coin = document.createElement(\"a-entity\");\n    coin.setAttribute('geometry', 'primitive:cylinder; radius:0.175; height:0.05;');\n    coin.setAttribute('material', 'color:#fcc137; opacity:1;');\n    coin.setAttribute('scale', '0.5 0.5 0.5');\n    coin.setAttribute('rotation', '90 0 0');\n    coin.setAttribute('position', '0 -0.150 0.3');\n    el.appendChild(coin);\n\n    var coinAniPos = document.createElement(\"a-animation\");\n    coinAniPos.setAttribute('attribute', 'position');\n    coinAniPos.setAttribute('begin', 'reveal');\n    coinAniPos.setAttribute('from', '0 -0.150 0.3');\n    coinAniPos.setAttribute('to', '0 0.75 0.3');\n    coinAniPos.setAttribute('delay', '1800');\n    coinAniPos.setAttribute('dur', '500');\n    coinAniPos.setAttribute('fill', 'forwards');\n    coin.appendChild(coinAniPos);\n\n    var coinAniRot = document.createElement(\"a-animation\");\n    coinAniRot.setAttribute('attribute', 'rotation');\n    coinAniRot.setAttribute('begin', 'reveal');\n    coinAniRot.setAttribute('from', '90 0 0');\n    coinAniRot.setAttribute('to', '90 360 0');\n    coinAniRot.setAttribute('delay', '1800');\n    coinAniRot.setAttribute('dur', '750');\n    coinAniRot.setAttribute('fill', 'forwards');\n    coin.appendChild(coinAniRot);\n\n    var coinAniScale = document.createElement(\"a-animation\");\n    coinAniScale.setAttribute('attribute', 'scale');\n    coinAniScale.setAttribute('begin', 'reveal');\n    coinAniScale.setAttribute('from', '0.5 0.5 0.5');\n    coinAniScale.setAttribute('to', '1 1 1');\n    coinAniScale.setAttribute('delay', '1800');\n    coinAniScale.setAttribute('dur', '250');\n    coinAniScale.setAttribute('fill', 'forwards');\n    coin.appendChild(coinAniScale);\n\n    var coinAniAlpha = document.createElement(\"a-animation\");\n    coinAniAlpha.setAttribute('attribute', 'material.opacity');\n    coinAniAlpha.setAttribute('begin', 'reveal');\n    coinAniAlpha.setAttribute('from', '1');\n    coinAniAlpha.setAttribute('to', '0');\n    coinAniAlpha.setAttribute('delay', '2000');\n    coinAniAlpha.setAttribute('dur', '400');\n    coinAniAlpha.setAttribute('fill', 'forwards');\n    coin.appendChild(coinAniAlpha);\n\n    var trunkclue = document.createElement(\"a-entity\");\n    trunkclue.setAttribute('geometry', 'primitive:plane; width:0.75; height:0.36;');\n    trunkclue.setAttribute('material', 'color:#fff; transparent:true; src:' + data.clue + '; side:double');\n    trunkclue.setAttribute('rotation', '0 0 0');\n    trunkclue.setAttribute('position', '0 0.75 0.4');\n    trunkclue.setAttribute('scale', '0 0 0');\n    el.appendChild(trunkclue);\n\n    var trunkclueAniScale = document.createElement(\"a-animation\");\n    trunkclueAniScale.setAttribute('attribute', 'scale');\n    trunkclueAniScale.setAttribute('begin', 'reveal');\n    trunkclueAniScale.setAttribute('to', '1 1 1');\n    trunkclueAniScale.setAttribute('delay', '2500');\n    trunkclueAniScale.setAttribute('dur', '500');\n    trunkclueAniScale.setAttribute('fill', 'forwards');\n    trunkclue.appendChild(trunkclueAniScale);\n\n    var shut = true;\n\n    el.addEventListener(data.on, function (evt) {\n\n      console.log('Trunk was clicked at: ', evt.detail.intersection.point);\n\n      if (shut) {\n        lid.emit('reveal');\n        coin.emit('reveal');\n        trunkclue.emit('reveal');\n\n        opensound.components.sound.stopSound();opensound.components.sound.playSound();\n        setTimeout(function () {\n          coinsound.components.sound.stopSound();coinsound.components.sound.playSound();\n        }, 2500);\n\n        shut = false;\n      }\n\n      var clickActionFunctionName = data.clickAction;\n      console.log(\"in trunk, clickActionFunctionName: \" + clickActionFunctionName);\n      // find object\n      var clickActionFunction = window[clickActionFunctionName];\n      //console.log(\"clickActionFunction: \"+clickActionFunction);\n      // is object a function?\n      if (typeof clickActionFunction === \"function\") clickActionFunction();\n    });\n  },\n  setClickAction: function setClickAction(action) {\n    this.data.clickAction = action; //change function dynamically\n  },\n  play: function play() {},\n  update: function update(oldData) {}\n});\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(57);\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/* global AFRAME THREE */\n// A-FrameE\nAFRAME.registerShader('custom-shader', {\n  schema: {\n    dashSize: { default: 3 },\n    lineWidth: { default: 1 }\n  },\n  /**\n   * `init` used to initialize material. Called once.\n   */\n  init: function init(data) {\n    this.material = new THREE.LineDashedMaterial(data);\n    // `update()` currently not called after `init`. (#1834)\n    this.update(data);\n  },\n\n  /**\n   * `update` used to update the material. Called on initialization and when data updates.\n   */\n  update: function update(data) {\n    this.material.dashsize = data.dashsize;\n    this.material.linewidth = data.linewidth;\n  }\n});\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// import './custom-system'\n\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n__webpack_require__(60);\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n// A-Frame\nvar AFRAME = window.AFRAME;\nvar extendDeep = AFRAME.utils.extendDeep;\n// The mesh mixin provides common material properties for creating mesh-based primitives.\n// This makes the material component a default component and maps all the base material properties.\nvar meshMixin = AFRAME.primitives.getMeshMixin();\nAFRAME.registerPrimitive('a-custom-box', extendDeep({}, meshMixin, {\n  // Preset default components.\n  // These components and component\n  // properties will be attached to the entity out-of-the-box.\n  defaultComponents: {\n    geometry: { primitive: 'box' }\n  },\n  // Defined mappings from HTML attributes to component properties\n  // (using dots as delimiters). If we set `depth=\"5\"` in HTML,\n  // then the primitive will automatically set `geometry=\"depth: 5\"`.\n  mappings: {\n    depth: 'geometry.depth',\n    height: 'geometry.height',\n    width: 'geometry.width'\n  }\n}));\n\n/***/ })\n/******/ ]));\n\n\n// WEBPACK FOOTER //\n// js/aframe-app.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 40);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0ae2f09814f661969b74","import './components'\nimport './shaders'\nimport './systems'\nimport './primitives'\n\n\n\n// WEBPACK FOOTER //\n// ./src/aframe/aframe-app.js","// fernandojsg/aframe-teleport-controls\nimport './aframe-teleport-controls'\n// matrix-org/aframe-look-at-component\nimport './look-at'\n// mayognaise/aframe-gif-shader\nimport './aframe-gif-shader'\n// ngokevin/kframe/tree/master/components/animation\nimport './aframe-animation-component'\n// ngokevin/kframe/tree/master/components/animation-timeline\nimport './aframe-animation-timeline-component'\n\n\n\n// Require all of your custom components\nimport './teleport-extras'\nimport './toggle-on-event'\nimport './lookatlabel'\nimport './ui-console'\nimport './checkpointspot'\nimport './video-controls'\nimport './panel'\nimport './panelbtn'\nimport './trunk'\n/*\n\nimport './anchor-look'\n*/\n\n\n\n// WEBPACK FOOTER //\n// ./src/aframe/components/index.js","/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* global THREE, AFRAME, Element  */\n\tvar cylinderTexture = __webpack_require__(1);\n\tvar parabolicCurve = __webpack_require__(2);\n\tvar RayCurve = __webpack_require__(3);\n\n\tif (typeof AFRAME === 'undefined') {\n\t  throw new Error('Component attempted to register before AFRAME was available.');\n\t}\n\n\tif (!Element.prototype.matches) {\n\t  Element.prototype.matches =\n\t    Element.prototype.matchesSelector ||\n\t    Element.prototype.mozMatchesSelector ||\n\t    Element.prototype.msMatchesSelector ||\n\t    Element.prototype.oMatchesSelector ||\n\t    Element.prototype.webkitMatchesSelector ||\n\t    function (s) {\n\t      var matches = (this.document || this.ownerDocument).querySelectorAll(s);\n\t      var i = matches.length;\n\t      while (--i >= 0 && matches.item(i) !== this) { /* no-op */ }\n\t      return i > -1;\n\t    };\n\t}\n\n\tAFRAME.registerComponent('teleport-controls', {\n\t  schema: {\n\t    type: {default: 'parabolic', oneOf: ['parabolic', 'line']},\n\t    button: {default: 'trackpad', oneOf: ['trackpad', 'trigger', 'grip', 'menu']},\n\t    startEvents: {type: 'array'},\n\t    endEvents: {type: 'array'},\n\t    collisionEntities: {default: ''},\n\t    hitEntity: {type: 'selector'},\n\t    cameraRig: {type: 'selector'},\n\t    teleportOrigin: {type: 'selector'},\n\t    hitCylinderColor: {type: 'color', default: '#99ff99'},\n\t    hitCylinderRadius: {default: 0.25, min: 0},\n\t    hitCylinderHeight: {default: 0.3, min: 0},\n\t    maxLength: {default: 10, min: 0, if: {type: ['line']}},\n\t    curveNumberPoints: {default: 30, min: 2, if: {type: ['parabolic']}},\n\t    curveLineWidth: {default: 0.025},\n\t    curveHitColor: {type: 'color', default: '#99ff99'},\n\t    curveMissColor: {type: 'color', default: '#ff0000'},\n\t    curveShootingSpeed: {default: 5, min: 0, if: {type: ['parabolic']}},\n\t    defaultPlaneSize: { default: 100 },\n\t    landingNormal: {type: 'vec3', default: { x: 0, y: 1, z: 0 }},\n\t    landingMaxAngle: {default: '45', min: 0, max: 360}\n\t  },\n\n\t  init: function () {\n\t    var data = this.data;\n\t    var el = this.el;\n\t    var teleportEntity;\n\t    var i;\n\n\t    this.active = false;\n\t    this.obj = el.object3D;\n\t    this.hitPoint = new THREE.Vector3();\n\t    this.rigWorldPosition = new THREE.Vector3();\n\t    this.newRigWorldPosition = new THREE.Vector3();\n\t    this.teleportEventDetail = {\n\t      oldPosition: this.rigWorldPosition,\n\t      newPosition: this.newRigWorldPosition,\n\t      hitPoint: this.hitPoint\n\t    };\n\n\t    this.hit = false;\n\t    this.prevHitHeight = 0;\n\t    this.referenceNormal = new THREE.Vector3();\n\t    this.curveMissColor = new THREE.Color();\n\t    this.curveHitColor = new THREE.Color();\n\t    this.raycaster = new THREE.Raycaster();\n\n\t    this.defaultPlane = createDefaultPlane(this.data.defaultPlaneSize);\n\n\t    teleportEntity = this.teleportEntity = document.createElement('a-entity');\n\t    teleportEntity.classList.add('teleportRay');\n\t    teleportEntity.setAttribute('visible', false);\n\t    el.sceneEl.appendChild(this.teleportEntity);\n\n\t    this.onButtonDown = this.onButtonDown.bind(this);\n\t    this.onButtonUp = this.onButtonUp.bind(this);\n\t    if (this.data.startEvents.length && this.data.endEvents.length) {\n\n\t      for (i = 0; i < this.data.startEvents.length; i++) {\n\t        el.addEventListener(this.data.startEvents[i], this.onButtonDown);\n\t      }\n\t      for (i = 0; i < this.data.endEvents.length; i++) {\n\t        el.addEventListener(this.data.endEvents[i], this.onButtonUp);\n\t      }\n\t    } else {\n\t      el.addEventListener(data.button + 'down', this.onButtonDown);\n\t      el.addEventListener(data.button + 'up', this.onButtonUp);\n\t    }\n\n\t    this.queryCollisionEntities();\n\t  },\n\n\t  update: function (oldData) {\n\t    var data = this.data;\n\t    var diff = AFRAME.utils.diff(data, oldData);\n\n\t    // Update normal.\n\t    this.referenceNormal.copy(data.landingNormal);\n\n\t    // Update colors.\n\t    this.curveMissColor.set(data.curveMissColor);\n\t    this.curveHitColor.set(data.curveHitColor);\n\n\t    // Create or update line mesh.\n\t    if (!this.line ||\n\t        'curveLineWidth' in diff || 'curveNumberPoints' in diff || 'type' in diff) {\n\t      this.line = createLine(data);\n\t      this.teleportEntity.setObject3D('mesh', this.line.mesh);\n\t    }\n\n\t    // Create or update hit entity.\n\t    if (data.hitEntity) {\n\t      this.hitEntity = data.hitEntity;\n\t    } else if (!this.hitEntity || 'hitCylinderColor' in diff || 'hitCylinderHeight' in diff ||\n\t               'hitCylinderRadius' in diff) {\n\t      // Remove previous entity, create new entity (could be more performant).\n\t      if (this.hitEntity) { this.hitEntity.parentNode.removeChild(this.hitEntity); }\n\t      this.hitEntity = createHitEntity(data);\n\t      this.el.sceneEl.appendChild(this.hitEntity);\n\t    }\n\t    this.hitEntity.setAttribute('visible', false);\n\n\t    if ('collisionEntities' in diff) { this.queryCollisionEntities(); }\n\t  },\n\n\t  remove: function () {\n\t    var el = this.el;\n\t    var hitEntity = this.hitEntity;\n\t    var teleportEntity = this.teleportEntity;\n\n\t    if (hitEntity) { hitEntity.parentNode.removeChild(hitEntity); }\n\t    if (teleportEntity) { teleportEntity.parentNode.removeChild(teleportEntity); }\n\n\t    el.sceneEl.removeEventListener('child-attached', this.childAttachHandler);\n\t    el.sceneEl.removeEventListener('child-detached', this.childDetachHandler);\n\t  },\n\n\t  tick: (function () {\n\t    var p0 = new THREE.Vector3();\n\t    var v0 = new THREE.Vector3();\n\t    var g = -9.8;\n\t    var a = new THREE.Vector3(0, g, 0);\n\t    var next = new THREE.Vector3();\n\t    var last = new THREE.Vector3();\n\t    var quaternion = new THREE.Quaternion();\n\t    var translation = new THREE.Vector3();\n\t    var scale = new THREE.Vector3();\n\t    var shootAngle = new THREE.Vector3();\n\t    var lastNext = new THREE.Vector3();\n\t    var auxDirection = new THREE.Vector3();\n\n\t    return function (time, delta) {\n\t      if (!this.active) { return; }\n\n\t      var matrixWorld = this.obj.matrixWorld;\n\t      matrixWorld.decompose(translation, quaternion, scale);\n\n\t      var direction = shootAngle.set(0, 0, -1)\n\t        .applyQuaternion(quaternion).normalize();\n\t      this.line.setDirection(auxDirection.copy(direction));\n\t      this.obj.getWorldPosition(p0);\n\n\t      last.copy(p0);\n\n\t      // Set default status as non-hit\n\t      this.teleportEntity.setAttribute('visible', true);\n\t      this.line.material.color.set(this.curveMissColor);\n\t      this.hitEntity.setAttribute('visible', false);\n\t      this.hit = false;\n\n\t      if (this.data.type === 'parabolic') {\n\t        v0.copy(direction).multiplyScalar(this.data.curveShootingSpeed);\n\n\t        for (var i = 0; i < this.line.numPoints; i++) {\n\t          var t = i / (this.line.numPoints - 1);\n\t          parabolicCurve(p0, v0, a, t, next);\n\t          // Update the raycaster with the length of the current segment last->next\n\t          var dirLastNext = lastNext.copy(next).sub(last).normalize();\n\t          this.raycaster.far = dirLastNext.length();\n\t          this.raycaster.set(last, dirLastNext);\n\n\t          if (this.checkMeshCollisions(i, next)) { break; }\n\t          last.copy(next);\n\t        }\n\t      } else if (this.data.type === 'line') {\n\t        next.copy(last).add(auxDirection.copy(direction).multiplyScalar(this.data.maxLength));\n\t        this.raycaster.far = this.data.maxLength;\n\t        this.raycaster.set(p0, direction);\n\t        this.line.setPoint(0, p0);\n\n\t        this.checkMeshCollisions(1, next);\n\t      }\n\t    };\n\t  })(),\n\n\t  /**\n\t   * Run `querySelectorAll` for `collisionEntities` and maintain it with `child-attached`\n\t   * and `child-detached` events.\n\t   */\n\t  queryCollisionEntities: function () {\n\t    var collisionEntities;\n\t    var data = this.data;\n\t    var el = this.el;\n\n\t    if (!data.collisionEntities) {\n\t      this.collisionEntities = [];\n\t      return;\n\t    }\n\n\t    collisionEntities = [].slice.call(el.sceneEl.querySelectorAll(data.collisionEntities));\n\t    this.collisionEntities = collisionEntities;\n\n\t    // Update entity list on attach.\n\t    this.childAttachHandler = function childAttachHandler (evt) {\n\t      if (!evt.detail.el.matches(data.collisionEntities)) { return; }\n\t      collisionEntities.push(evt.detail.el);\n\t    };\n\t    el.sceneEl.addEventListener('child-attached', this.childAttachHandler);\n\n\t    // Update entity list on detach.\n\t    this.childDetachHandler = function childDetachHandler (evt) {\n\t      var index;\n\t      if (!evt.detail.el.matches(data.collisionEntities)) { return; }\n\t      index = collisionEntities.indexOf(evt.detail.el);\n\t      if (index === -1) { return; }\n\t      collisionEntities.splice(index, 1);\n\t    };\n\t    el.sceneEl.addEventListener('child-detached', this.childDetachHandler);\n\t  },\n\n\t  onButtonDown: function () {\n\t    this.active = true;\n\t  },\n\n\t  /**\n\t   * Jump!\n\t   */\n\t  onButtonUp: (function () {\n\t    const teleportOriginWorldPosition = new THREE.Vector3();\n\t    const newRigLocalPosition = new THREE.Vector3();\n\t    const newHandPosition = [new THREE.Vector3(), new THREE.Vector3()]; // Left and right\n\t    const handPosition = new THREE.Vector3();\n\n\t    return function (evt) {\n\t      if (!this.active) { return; }\n\n\t      // Hide the hit point and the curve\n\t      this.active = false;\n\t      this.hitEntity.setAttribute('visible', false);\n\t      this.teleportEntity.setAttribute('visible', false);\n\n\t      if (!this.hit) {\n\t        // Button released but not hit point\n\t        return;\n\t      }\n\n\t      const rig = this.data.cameraRig || this.el.sceneEl.camera.el;\n\t      rig.object3D.getWorldPosition(this.rigWorldPosition);\n\t      this.newRigWorldPosition.copy(this.hitPoint);\n\n\t      // If a teleportOrigin exists, offset the rig such that the teleportOrigin is above the hitPoint\n\t      const teleportOrigin = this.data.teleportOrigin;\n\t      if (teleportOrigin) {\n\t        teleportOrigin.object3D.getWorldPosition(teleportOriginWorldPosition);\n\t        this.newRigWorldPosition.sub(teleportOriginWorldPosition).add(this.rigWorldPosition);\n\t      }\n\n\t      // Always keep the rig at the same offset off the ground after teleporting\n\t      this.newRigWorldPosition.y = this.rigWorldPosition.y + this.hitPoint.y - this.prevHitHeight;\n\t      this.prevHitHeight = this.hitPoint.y;\n\n\t      // Finally update the rigs position\n\t      newRigLocalPosition.copy(this.newRigWorldPosition);\n\t      if (rig.object3D.parent) {\n\t        rig.object3D.parent.worldToLocal(newRigLocalPosition);\n\t      }\n\t      rig.setAttribute('position', newRigLocalPosition);\n\n\t      // If a rig was not explicitly declared, look for hands and mvoe them proportionally as well\n\t      if (!this.data.cameraRig) {\n\t        var hands = document.querySelectorAll('a-entity[tracked-controls]');\n\t        for (var i = 0; i < hands.length; i++) {\n\t          hands[i].object3D.getWorldPosition(handPosition);\n\n\t          // diff = rigWorldPosition - handPosition\n\t          // newPos = newRigWorldPosition - diff\n\t          newHandPosition[i].copy(this.newRigWorldPosition).sub(this.rigWorldPosition).add(handPosition);\n\t          hands[i].setAttribute('position', newHandPosition[i]);\n\t        }\n\t      }\n\n\t      this.el.emit('teleported', this.teleportEventDetail);\n\t    };\n\t  })(),\n\n\t  /**\n\t   * Check for raycaster intersection.\n\t   *\n\t   * @param {number} Line fragment point index.\n\t   * @param {number} Next line fragment point index.\n\t   * @returns {boolean} true if there's an intersection.\n\t   */\n\t  checkMeshCollisions: function (i, next) {\n\t    // @todo We should add a property to define if the collisionEntity is dynamic or static\n\t    // If static we should do the map just once, otherwise we're recreating the array in every\n\t    // loop when aiming.\n\t    var meshes = this.collisionEntities.map(function (entity) {\n\t      return entity.getObject3D('mesh');\n\t    }).filter(function (n) { return n; });\n\t    meshes = meshes.length ? meshes : [this.defaultPlane];\n\n\t    var intersects = this.raycaster.intersectObjects(meshes, true);\n\t    if (intersects.length > 0 && !this.hit &&\n\t        this.isValidNormalsAngle(intersects[0].face.normal)) {\n\t      var point = intersects[0].point;\n\n\t      this.line.material.color.set(this.curveHitColor);\n\t      this.hitEntity.setAttribute('position', point);\n\t      this.hitEntity.setAttribute('visible', true);\n\n\t      this.hit = true;\n\t      this.hitPoint.copy(intersects[0].point);\n\n\t      // If hit, just fill the rest of the points with the hit point and break the loop\n\t      for (var j = i; j < this.line.numPoints; j++) {\n\t        this.line.setPoint(j, this.hitPoint);\n\t      }\n\t      return true;\n\t    } else {\n\t      this.line.setPoint(i, next);\n\t      return false;\n\t    }\n\t  },\n\n\t  isValidNormalsAngle: function (collisionNormal) {\n\t    var angleNormals = this.referenceNormal.angleTo(collisionNormal);\n\t    return (THREE.Math.RAD2DEG * angleNormals <= this.data.landingMaxAngle);\n\t  },\n\t});\n\n\n\tfunction createLine (data) {\n\t  var numPoints = data.type === 'line' ? 2 : data.curveNumberPoints;\n\t  return new RayCurve(numPoints, data.curveLineWidth);\n\t}\n\n\t/**\n\t * Create mesh to represent the area of intersection.\n\t * Default to a combination of torus and cylinder.\n\t */\n\tfunction createHitEntity (data) {\n\t  var cylinder;\n\t  var hitEntity;\n\t  var torus;\n\n\t  // Parent.\n\t  hitEntity = document.createElement('a-entity');\n\t  hitEntity.className = 'hitEntity';\n\n\t  // Torus.\n\t  torus = document.createElement('a-entity');\n\t  torus.setAttribute('geometry', {\n\t    primitive: 'torus',\n\t    radius: data.hitCylinderRadius,\n\t    radiusTubular: 0.01\n\t  });\n\t  torus.setAttribute('rotation', {x: 90, y: 0, z: 0});\n\t  torus.setAttribute('material', {\n\t    shader: 'flat',\n\t    color: data.hitCylinderColor,\n\t    side: 'double',\n\t    depthTest: false\n\t  });\n\t  hitEntity.appendChild(torus);\n\n\t  // Cylinder.\n\t  cylinder = document.createElement('a-entity');\n\t  cylinder.setAttribute('position', {x: 0, y: data.hitCylinderHeight / 2, z: 0});\n\t  cylinder.setAttribute('geometry', {\n\t    primitive: 'cylinder',\n\t    segmentsHeight: 1,\n\t    radius: data.hitCylinderRadius,\n\t    height: data.hitCylinderHeight,\n\t    openEnded: true\n\t  });\n\t  cylinder.setAttribute('material', {\n\t    shader: 'flat',\n\t    color: data.hitCylinderColor,\n\t    side: 'double',\n\t    src: cylinderTexture,\n\t    transparent: true,\n\t    depthTest: false\n\t  });\n\t  hitEntity.appendChild(cylinder);\n\n\t  return hitEntity;\n\t}\n\n\tfunction createDefaultPlane (size) {\n\t  var geometry;\n\t  var material;\n\n\t  geometry = new THREE.PlaneBufferGeometry(100, 100);\n\t  geometry.rotateX(-Math.PI / 2);\n\t  material = new THREE.MeshBasicMaterial({color: 0xffff00});\n\t  return new THREE.Mesh(geometry, material);\n\t}\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n\tmodule.exports = 'url(data:image/png;base64,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)';\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n\t/* global THREE */\n\t// Parabolic motion equation, y = p0 + v0*t + 1/2at^2\n\tfunction parabolicCurveScalar (p0, v0, a, t) {\n\t  return p0 + v0 * t + 0.5 * a * t * t;\n\t}\n\n\t// Parabolic motion equation applied to 3 dimensions\n\tfunction parabolicCurve (p0, v0, a, t, out) {\n\t  out.x = parabolicCurveScalar(p0.x, v0.x, a.x, t);\n\t  out.y = parabolicCurveScalar(p0.y, v0.y, a.y, t);\n\t  out.z = parabolicCurveScalar(p0.z, v0.z, a.z, t);\n\t  return out;\n\t}\n\n\tmodule.exports = parabolicCurve;\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n\t/* global THREE */\n\tvar RayCurve = function (numPoints, width) {\n\t  this.geometry = new THREE.BufferGeometry();\n\t  this.vertices = new Float32Array(numPoints * 3 * 2);\n\t  this.uvs = new Float32Array(numPoints * 2 * 2);\n\t  this.width = width;\n\n\t  this.geometry.addAttribute('position', new THREE.BufferAttribute(this.vertices, 3).setDynamic(true));\n\n\t  this.material = new THREE.MeshBasicMaterial({\n\t    side: THREE.DoubleSide,\n\t    color: 0xff0000\n\t  });\n\n\t  this.mesh = new THREE.Mesh(this.geometry, this.material);\n\t  this.mesh.drawMode = THREE.TriangleStripDrawMode;\n\n\t  this.mesh.frustumCulled = false;\n\t  this.mesh.vertices = this.vertices;\n\n\t  this.direction = new THREE.Vector3();\n\t  this.numPoints = numPoints;\n\t};\n\n\tRayCurve.prototype = {\n\t  setDirection: function (direction) {\n\t    var UP = new THREE.Vector3(0, 1, 0);\n\t    this.direction\n\t      .copy(direction)\n\t      .cross(UP)\n\t      .normalize()\n\t      .multiplyScalar(this.width / 2);\n\t  },\n\n\t  setWidth: function (width) {\n\t    this.width = width;\n\t  },\n\n\t  setPoint: (function () {\n\t    var posA = new THREE.Vector3();\n\t    var posB = new THREE.Vector3();\n\n\t    return function (i, point) {\n\t      posA.copy(point).add(this.direction);\n\t      posB.copy(point).sub(this.direction);\n\n\t      var idx = 2 * 3 * i;\n\t      this.vertices[idx++] = posA.x;\n\t      this.vertices[idx++] = posA.y;\n\t      this.vertices[idx++] = posA.z;\n\n\t      this.vertices[idx++] = posB.x;\n\t      this.vertices[idx++] = posB.y;\n\t      this.vertices[idx++] = posB.z;\n\n\t      this.geometry.attributes.position.needsUpdate = true;\n\t    };\n\t  })()\n\t};\n\n\tmodule.exports = RayCurve;\n\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// ./src/aframe/components/aframe-teleport-controls.js","!function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var o={};return e.m=t,e.c=o,e.i=function(t){return t},e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,\"a\",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=0)}([function(t,e){var o=AFRAME.utils.debug,n=AFRAME.utils.coordinates,r=o(\"components:look-at:warn\"),i=n.isCoordinates;delete AFRAME.components[\"look-at\"],AFRAME.registerComponent(\"look-at\",{schema:{default:\"\",parse:function(t){return i(t)||\"object\"==typeof t?n.parse(t):t},stringify:function(t){return\"object\"==typeof t?n.stringify(t):t}},init:function(){this.target3D=null,this.vector=new THREE.Vector3},update:function(){var t,e=this,o=e.data,n=e.el.object3D;return!o||\"object\"==typeof o&&!Object.keys(o).length?e.remove():\"object\"==typeof o?n.lookAt(new THREE.Vector3(o.x,o.y,o.z)):(t=e.el.sceneEl.querySelector(o),t?t.hasLoaded?e.beginTracking(t):t.addEventListener(\"loaded\",function(){e.beginTracking(t)}):void r('\"'+o+'\" does not point to a valid entity to look-at'))},tick:function(t){var e=this.target3D;if(e)return this.el.object3D.lookAt(this.vector.setFromMatrixPosition(e.matrixWorld))},beginTracking:function(t){this.target3D=t.object3D}})}]);\n\n\n// WEBPACK FOOTER //\n// ./src/aframe/components/look-at.js","/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\n\tvar _gifsparser = __webpack_require__(1);\n\n\tif (typeof AFRAME === 'undefined') {\n\t  throw 'Component attempted to register before AFRAME was available.';\n\t}\n\n\t/* get util from AFRAME */\n\tvar parseUrl = AFRAME.utils.srcLoader.parseUrl;\n\tvar debug = AFRAME.utils.debug;\n\t// debug.enable('shader:gif:*')\n\n\tdebug.enable('shader:gif:warn');\n\tvar warn = debug('shader:gif:warn');\n\tvar log = debug('shader:gif:debug');\n\n\t/* store data so that you won't load same data */\n\tvar gifData = {};\n\n\t/* create error message */\n\tfunction createError(err, src) {\n\t  return { status: 'error', src: src, message: err, timestamp: Date.now() };\n\t}\n\n\tAFRAME.registerShader('gif', {\n\n\t  /**\n\t   * For material component:\n\t   * @see https://github.com/aframevr/aframe/blob/60d198ef8e2bfbc57a13511ae5fca7b62e01691b/src/components/material.js\n\t   * For example of `registerShader`:\n\t   * @see https://github.com/aframevr/aframe/blob/41a50cd5ac65e462120ecc2e5091f5daefe3bd1e/src/shaders/flat.js\n\t   * For MeshBasicMaterial\n\t   * @see http://threejs.org/docs/#Reference/Materials/MeshBasicMaterial\n\t   */\n\n\t  schema: {\n\n\t    /* For material */\n\t    color: { type: 'color' },\n\t    fog: { default: true },\n\n\t    /* For texuture */\n\t    src: { default: null },\n\t    autoplay: { default: true }\n\n\t  },\n\n\t  /**\n\t   * Initialize material. Called once.\n\t   * @protected\n\t   */\n\t  init: function init(data) {\n\t    log('init', data);\n\t    log(this.el.components);\n\t    this.__cnv = document.createElement('canvas');\n\t    this.__cnv.width = 2;\n\t    this.__cnv.height = 2;\n\t    this.__ctx = this.__cnv.getContext('2d');\n\t    this.__texture = new THREE.Texture(this.__cnv); //renders straight from a canvas\n\t    this.__material = {};\n\t    this.__reset();\n\t    this.material = new THREE.MeshBasicMaterial({ map: this.__texture });\n\t    this.el.sceneEl.addBehavior(this);\n\t    this.__addPublicFunctions();\n\t    return this.material;\n\t  },\n\n\n\t  /**\n\t   * Update or create material.\n\t   * @param {object|null} oldData\n\t   */\n\t  update: function update(oldData) {\n\t    log('update', oldData);\n\t    this.__updateMaterial(oldData);\n\t    this.__updateTexture(oldData);\n\t    return this.material;\n\t  },\n\n\n\t  /**\n\t   * Called on each scene tick.\n\t   * @protected\n\t   */\n\t  tick: function tick(t) {\n\t    if (!this.__frames || this.paused()) return;\n\t    if (Date.now() - this.__startTime >= this.__nextFrameTime) {\n\t      this.nextFrame();\n\t    }\n\t  },\n\n\n\t  /*================================\n\t  =            material            =\n\t  ================================*/\n\n\t  /**\n\t   * Updating existing material.\n\t   * @param {object} data - Material component data.\n\t   */\n\t  __updateMaterial: function __updateMaterial(data) {\n\t    var material = this.material;\n\n\t    var newData = this.__getMaterialData(data);\n\t    Object.keys(newData).forEach(function (key) {\n\t      material[key] = newData[key];\n\t    });\n\t  },\n\n\n\t  /**\n\t   * Builds and normalize material data, normalizing stuff along the way.\n\t   * @param {Object} data - Material data.\n\t   * @return {Object} data - Processed material data.\n\t   */\n\t  __getMaterialData: function __getMaterialData(data) {\n\t    return {\n\t      fog: data.fog,\n\t      color: new THREE.Color(data.color)\n\t    };\n\t  },\n\n\n\t  /*==============================\n\t  =            texure            =\n\t  ==============================*/\n\n\t  /**\n\t   * set texure\n\t   * @private\n\t   * @param {Object} data\n\t   * @property {string} status - success / error\n\t   * @property {string} src - src url\n\t   * @property {array} times - array of time length of each image\n\t   * @property {number} cnt - total counts of gif images\n\t   * @property {array} frames - array of each image\n\t   * @property {Date} timestamp - created at the texure\n\t   */\n\n\t  __setTexure: function __setTexure(data) {\n\t    log('__setTexure', data);\n\t    if (data.status === 'error') {\n\t      warn('Error: ' + data.message + '\\nsrc: ' + data.src);\n\t      this.__reset();\n\t    } else if (data.status === 'success' && data.src !== this.__textureSrc) {\n\t      this.__reset();\n\t      /* Texture added or changed */\n\t      this.__ready(data);\n\t    }\n\t  },\n\n\n\t  /**\n\t   * Update or create texure.\n\t   * @param {Object} data - Material component data.\n\t   */\n\t  __updateTexture: function __updateTexture(data) {\n\t    var src = data.src;\n\t    var autoplay = data.autoplay;\n\n\t    /* autoplay */\n\n\t    if (typeof autoplay === 'boolean') {\n\t      this.__autoplay = autoplay;\n\t    } else if (typeof autoplay === 'undefined') {\n\t      this.__autoplay = true;\n\t    }\n\t    if (this.__autoplay && this.__frames) {\n\t      this.play();\n\t    }\n\n\t    /* src */\n\t    if (src) {\n\t      this.__validateSrc(src, this.__setTexure.bind(this));\n\t    } else {\n\t      /* Texture removed */\n\t      this.__reset();\n\t    }\n\t  },\n\n\n\t  /*=============================================\n\t  =            varidation for texure            =\n\t  =============================================*/\n\n\t  __validateSrc: function __validateSrc(src, cb) {\n\n\t    /* check if src is a url */\n\t    var url = parseUrl(src);\n\t    if (url) {\n\t      this.__getImageSrc(url, cb);\n\t      return;\n\t    }\n\n\t    var message = void 0;\n\n\t    /* check if src is a query selector */\n\t    var el = this.__validateAndGetQuerySelector(src);\n\t    if (!el || (typeof el === 'undefined' ? 'undefined' : _typeof(el)) !== 'object') {\n\t      return;\n\t    }\n\t    if (el.error) {\n\t      message = el.error;\n\t    } else {\n\t      var tagName = el.tagName.toLowerCase();\n\t      if (tagName === 'video') {\n\t        src = el.src;\n\t        message = 'For video, please use `aframe-video-shader`';\n\t      } else if (tagName === 'img') {\n\t        this.__getImageSrc(el.src, cb);\n\t        return;\n\t      } else {\n\t        message = 'For <' + tagName + '> element, please use `aframe-html-shader`';\n\t      }\n\t    }\n\n\t    /* if there is message, create error data */\n\t    if (message) {\n\t      (function () {\n\t        var srcData = gifData[src];\n\t        var errData = createError(message, src);\n\t        /* callbacks */\n\t        if (srcData && srcData.callbacks) {\n\t          srcData.callbacks.forEach(function (cb) {\n\t            return cb(errData);\n\t          });\n\t        } else {\n\t          cb(errData);\n\t        }\n\t        /* overwrite */\n\t        gifData[src] = errData;\n\t      })();\n\t    }\n\t  },\n\n\n\t  /**\n\t   * Validate src is a valid image url\n\t   * @param  {string} src - url that will be tested\n\t   * @param  {function} cb - callback with the test result\n\t   */\n\t  __getImageSrc: function __getImageSrc(src, cb) {\n\t    var _this = this;\n\n\t    /* if src is same as previous, ignore this */\n\t    if (src === this.__textureSrc) {\n\t      return;\n\t    }\n\n\t    /* check if we already get the srcData */\n\t    var srcData = gifData[src];\n\t    if (!srcData || !srcData.callbacks) {\n\t      /* create callback */\n\t      srcData = gifData[src] = { callbacks: [] };\n\t      srcData.callbacks.push(cb);\n\t    } else if (srcData.src) {\n\t      cb(srcData);\n\t      return;\n\t    } else if (srcData.callbacks) {\n\t      /* add callback */\n\t      srcData.callbacks.push(cb);\n\t      return;\n\t    }\n\t    var tester = new Image();\n\t    tester.crossOrigin = 'Anonymous';\n\t    tester.addEventListener('load', function (e) {\n\t      /* check if it is gif */\n\t      _this.__getUnit8Array(src, function (arr) {\n\t        if (!arr) {\n\t          onError('This is not gif. Please use `shader:flat` instead');\n\t          return;\n\t        }\n\t        /* parse data */\n\t        (0, _gifsparser.parseGIF)(arr, function (times, cnt, frames) {\n\t          /* store data */\n\t          var newData = { status: 'success', src: src, times: times, cnt: cnt, frames: frames, timestamp: Date.now() };\n\t          /* callbacks */\n\t          if (srcData.callbacks) {\n\t            srcData.callbacks.forEach(function (cb) {\n\t              return cb(newData);\n\t            });\n\t            /* overwrite */\n\t            gifData[src] = newData;\n\t          }\n\t        }, function (err) {\n\t          return onError(err);\n\t        });\n\t      });\n\t    });\n\t    tester.addEventListener('error', function (e) {\n\t      return onError('Could be the following issue\\n - Not Image\\n - Not Found\\n - Server Error\\n - Cross-Origin Issue');\n\t    });\n\t    function onError(message) {\n\t      /* create error data */\n\t      var errData = createError(message, src);\n\t      /* callbacks */\n\t      if (srcData.callbacks) {\n\t        srcData.callbacks.forEach(function (cb) {\n\t          return cb(errData);\n\t        });\n\t        /* overwrite */\n\t        gifData[src] = errData;\n\t      }\n\t    }\n\t    tester.src = src;\n\t  },\n\n\n\t  /**\n\t   *\n\t   * get mine type\n\t   *\n\t   */\n\t  __getUnit8Array: function __getUnit8Array(src, cb) {\n\t    if (typeof cb !== 'function') {\n\t      return;\n\t    }\n\n\t    var xhr = new XMLHttpRequest();\n\t    xhr.open('GET', src);\n\t    xhr.responseType = 'arraybuffer';\n\t    xhr.addEventListener('load', function (e) {\n\t      var uint8Array = new Uint8Array(e.target.response);\n\t      var arr = uint8Array.subarray(0, 4);\n\t      // const header = arr.map(value => value.toString(16)).join('')\n\t      var header = '';\n\t      for (var i = 0; i < arr.length; i++) {\n\t        header += arr[i].toString(16);\n\t      }\n\t      if (header === '47494638') {\n\t        cb(uint8Array);\n\t      } else {\n\t        cb();\n\t      }\n\t    });\n\t    xhr.addEventListener('error', function (e) {\n\t      log(e);\n\t      cb();\n\t    });\n\t    xhr.send();\n\t  },\n\n\n\t  /**\n\t   * Query and validate a query selector,\n\t   *\n\t   * @param  {string} selector - DOM selector.\n\t   * @return {object} Selected DOM element | error message object.\n\t   */\n\t  __validateAndGetQuerySelector: function __validateAndGetQuerySelector(selector) {\n\t    try {\n\t      var el = document.querySelector(selector);\n\t      if (!el) {\n\t        return { error: 'No element was found matching the selector' };\n\t      }\n\t      return el;\n\t    } catch (e) {\n\t      // Capture exception if it's not a valid selector.\n\t      return { error: 'no valid selector' };\n\t    }\n\t  },\n\n\n\t  /*================================\n\t  =            playback            =\n\t  ================================*/\n\n\t  /**\n\t   * add public functions\n\t   * @private\n\t   */\n\t  __addPublicFunctions: function __addPublicFunctions() {\n\t    this.el.gif = {\n\t      play: this.play.bind(this),\n\t      pause: this.pause.bind(this),\n\t      togglePlayback: this.togglePlayback.bind(this),\n\t      paused: this.paused.bind(this),\n\t      nextFrame: this.nextFrame.bind(this)\n\t    };\n\t  },\n\n\n\t  /**\n\t   * Pause gif\n\t   * @public\n\t   */\n\t  pause: function pause() {\n\t    log('pause');\n\t    this.__paused = true;\n\t  },\n\n\n\t  /**\n\t   * Play gif\n\t   * @public\n\t   */\n\t  play: function play() {\n\t    log('play');\n\t    this.__paused = false;\n\t  },\n\n\n\t  /**\n\t   * Toggle playback. play if paused and pause if played.\n\t   * @public\n\t   */\n\n\t  togglePlayback: function togglePlayback() {\n\n\t    if (this.paused()) {\n\t      this.play();\n\t    } else {\n\t      this.pause();\n\t    }\n\t  },\n\n\n\t  /**\n\t   * Return if the playback is paused.\n\t   * @public\n\t   * @return {boolean}\n\t   */\n\t  paused: function paused() {\n\t    return this.__paused;\n\t  },\n\n\n\t  /**\n\t   * Go to next frame\n\t   * @public\n\t   */\n\t  nextFrame: function nextFrame() {\n\t    this.__draw();\n\n\t    /* update next frame time */\n\t    while (Date.now() - this.__startTime >= this.__nextFrameTime) {\n\n\t      this.__nextFrameTime += this.__delayTimes[this.__frameIdx++];\n\t      if ((this.__infinity || this.__loopCnt) && this.__frameCnt <= this.__frameIdx) {\n\t        /* go back to the first */\n\t        this.__frameIdx = 0;\n\t      }\n\t    }\n\t  },\n\n\n\t  /*==============================\n\t   =            canvas            =\n\t   ==============================*/\n\n\t  /**\n\t   * clear canvas\n\t   * @private\n\t   */\n\t  __clearCanvas: function __clearCanvas() {\n\t    this.__ctx.clearRect(0, 0, this.__width, this.__height);\n\t    this.__texture.needsUpdate = true;\n\t  },\n\n\n\t  /**\n\t   * draw\n\t   * @private\n\t   */\n\t  __draw: function __draw() {\n\t    this.__ctx.drawImage(this.__frames[this.__frameIdx], 0, 0, this.__width, this.__height);\n\t    this.__texture.needsUpdate = true;\n\t  },\n\n\n\t  /*============================\n\t  =            ready            =\n\t  ============================*/\n\n\t  /**\n\t   * setup gif animation and play if autoplay is true\n\t   * @private\n\t   * @property {string} src - src url\n\t   * @param {array} times - array of time length of each image\n\t   * @param {number} cnt - total counts of gif images\n\t   * @param {array} frames - array of each image\n\t   */\n\t  __ready: function __ready(_ref) {\n\t    var src = _ref.src;\n\t    var times = _ref.times;\n\t    var cnt = _ref.cnt;\n\t    var frames = _ref.frames;\n\n\t    log('__ready');\n\t    this.__textureSrc = src;\n\t    this.__delayTimes = times;\n\t    cnt ? this.__loopCnt = cnt : this.__infinity = true;\n\t    this.__frames = frames;\n\t    this.__frameCnt = times.length;\n\t    this.__startTime = Date.now();\n\t    this.__width = THREE.Math.nearestPowerOfTwo(frames[0].width);\n\t    this.__height = THREE.Math.nearestPowerOfTwo(frames[0].height);\n\t    this.__cnv.width = this.__width;\n\t    this.__cnv.height = this.__height;\n\t    this.__draw();\n\t    if (this.__autoplay) {\n\t      this.play();\n\t    } else {\n\t      this.pause();\n\t    }\n\t  },\n\n\n\t  /*=============================\n\t  =            reset            =\n\t  =============================*/\n\n\t  /**\n\t   * @private\n\t   */\n\n\t  __reset: function __reset() {\n\t    this.pause();\n\t    this.__clearCanvas();\n\t    this.__startTime = 0;\n\t    this.__nextFrameTime = 0;\n\t    this.__frameIdx = 0;\n\t    this.__frameCnt = 0;\n\t    this.__delayTimes = null;\n\t    this.__infinity = false;\n\t    this.__loopCnt = 0;\n\t    this.__frames = null;\n\t    this.__textureSrc = null;\n\t  }\n\t});\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\t/**\n\t * \n\t * Gif parser by @gtk2k\n\t * https://github.com/gtk2k/gtk2k.github.io/tree/master/animation_gif\n\t *\n\t */\n\n\texports.parseGIF = function (gif, successCB, errorCB) {\n\n\t  var pos = 0;\n\t  var delayTimes = [];\n\t  var loadCnt = 0;\n\t  var graphicControl = null;\n\t  var imageData = null;\n\t  var frames = [];\n\t  var loopCnt = 0;\n\n\t  if (gif[0] === 0x47 && gif[1] === 0x49 && gif[2] === 0x46 && // 'GIF'\n\t  gif[3] === 0x38 && (gif[4] === 0x39 || gif[4] === 0x37) && gif[5] === 0x61) { // '89a'\n//\t  gif[3] === 0x38 && gif[4] === 0x39 && gif[5] === 0x61) {\n\t    // '89a'\n\t    pos += 13 + +!!(gif[10] & 0x80) * Math.pow(2, (gif[10] & 0x07) + 1) * 3;\n\t    var gifHeader = gif.subarray(0, pos);\n\t    while (gif[pos] && gif[pos] !== 0x3b) {\n\t      var offset = pos,\n\t          blockId = gif[pos];\n\t      if (blockId === 0x21) {\n\t        var label = gif[++pos];\n\t        if ([0x01, 0xfe, 0xf9, 0xff].indexOf(label) !== -1) {\n\t          label === 0xf9 && delayTimes.push((gif[pos + 3] + (gif[pos + 4] << 8)) * 10);\n\t          label === 0xff && (loopCnt = gif[pos + 15] + (gif[pos + 16] << 8));\n\t          while (gif[++pos]) {\n\t            pos += gif[pos];\n\t          }label === 0xf9 && (graphicControl = gif.subarray(offset, pos + 1));\n\t        } else {\n\t          errorCB && errorCB('parseGIF: unknown label');break;\n\t        }\n\t      } else if (blockId === 0x2c) {\n\t        pos += 9;\n\t        pos += 1 + +!!(gif[pos] & 0x80) * (Math.pow(2, (gif[pos] & 0x07) + 1) * 3);\n\t        while (gif[++pos]) {\n\t          pos += gif[pos];\n\t        }var imageData = gif.subarray(offset, pos + 1);\n\t        frames.push(URL.createObjectURL(new Blob([gifHeader, graphicControl, imageData])));\n\t      } else {\n\t        errorCB && errorCB('parseGIF: unknown blockId');break;\n\t      }\n\t      pos++;\n\t    }\n\t  } else {\n\t    errorCB && errorCB('parseGIF: no GIF89a');\n\t  }\n\t  if (frames.length) {\n\n\t    var cnv = document.createElement('canvas');\n\t    var loadImg = function loadImg() {\n\t      frames.forEach(function (src, i) {\n\t        var img = new Image();\n\t        img.onload = function (e, i) {\n\t          if (i === 0) {\n\t            cnv.width = img.width;\n\t            cnv.height = img.height;\n\t          }\n\t          loadCnt++;\n\t          frames[i] = this;\n\t          if (loadCnt === frames.length) {\n\t            loadCnt = 0;\n\t            imageFix(1);\n\t          }\n\t        }.bind(img, null, i);\n\t        img.src = src;\n\t      });\n\t    };\n\t    var imageFix = function imageFix(i) {\n\t      var img = new Image();\n\t      img.onload = function (e, i) {\n\t        loadCnt++;\n\t        frames[i] = this;\n\t        if (loadCnt === frames.length) {\n\t          cnv = null;\n\t          successCB && successCB(delayTimes, loopCnt, frames);\n\t        } else {\n\t          imageFix(++i);\n\t        }\n\t      }.bind(img);\n\t      img.src = cnv.toDataURL('image/gif');\n\t    };\n\t    loadImg();\n\t  }\n\t};\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// ./src/aframe/components/aframe-gif-shader.js","!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p=\"\",e(0)}([function(t,e,n){function r(t,e){var n,r,i,a;return i=e.split(\".\"),r=i[0],a=i[1],n=t.components[r]||AFRAME.components[r],n?a&&!n.schema[a]?null:a?n.schema[a].type:n.schema.type:null}function i(t){t.x=THREE.Math.degToRad(t.x),t.y=THREE.Math.degToRad(t.y),t.z=THREE.Math.degToRad(t.z)}function a(t,e,n){var r;for(r=0;r<e.length;r++)t.addEventListener(e[r],n)}function o(t,e,n){var r;for(r=0;r<e.length;r++)t.removeEventListener(e[r],n)}function s(t,e){var n,r,i;for(r=f(e),i=t,n=0;n<r.length;n++)i=i[r[n]];return i}function u(t,e,n,r){var i,a,o,s;for(a=f(e),s=t,i=0;i<a.length-1;i++)s=s[a[i]];return o=a[a.length-1],r===v?void(\"r\"in s[o]?(s[o].r=n.r,s[o].g=n.g,s[o].b=n.b):(s[o].x=n.r,s[o].y=n.g,s[o].z=n.b)):void(s[o]=n)}function f(t){return t in g?g[t]:(g[t]=t.split(\".\"),g[t])}function l(t){return t.isRawProperty||t.property.startsWith(E)||t.property.startsWith(w)}var c=n(1);if(AFRAME.anime=c,\"undefined\"==typeof AFRAME)throw new Error(\"Component attempted to register before AFRAME was available.\");var p=new THREE.Color,d=new THREE.Color,h=AFRAME.utils,m=h.entity.getComponentProperty,y=h.entity.setComponentProperty,g={},v=\"color\",b=\"position\",A=\"rotation\",x=\"scale\",E=\"components\",w=\"object3D\";AFRAME.registerComponent(\"animation\",{schema:{autoplay:{default:!0},delay:{default:0},dir:{default:\"\"},dur:{default:1e3},easing:{default:\"easeInQuad\"},elasticity:{default:400},from:{default:\"\"},loop:{default:0,parse:function(t){return t===!0||\"true\"===t||t!==!1&&\"false\"!==t&&parseInt(t,10)}},property:{default:\"\"},startEvents:{type:\"array\"},pauseEvents:{type:\"array\"},resumeEvents:{type:\"array\"},to:{default:\"\"},type:{default:\"\"},isRawProperty:{default:!1}},multiple:!0,init:function(){var t=this;this.eventDetail={name:this.attrName},this.time=0,this.animation=null,this.animationIsPlaying=!1,this.onStartEvent=this.onStartEvent.bind(this),this.beginAnimation=this.beginAnimation.bind(this),this.pauseAnimation=this.pauseAnimation.bind(this),this.resumeAnimation=this.resumeAnimation.bind(this),this.fromColor={},this.toColor={},this.targets={},this.targetsArray=[],this.config={complete:function(){t.animationIsPlaying=!1,t.el.emit(\"animationcomplete\",t.eventDetail)}}},update:function(){var t=this.config,e=this.data;this.animationIsPlaying=!1,e.property&&(t.autoplay=!1,t.direction=e.dir,t.duration=e.dur,t.easing=e.easing,t.elasticity=e.elasticity,t.loop=e.loop,this.createAndStartAnimation())},tick:function(t,e){this.animationIsPlaying&&(this.time+=e,this.animation.tick(this.time))},remove:function(){this.pauseAnimation(),this.removeEventListeners()},pause:function(){this.paused=!0,this.pausedWasPlaying=!0,this.pauseAnimation(),this.removeEventListeners()},play:function(){this.paused&&(this.paused=!1,this.addEventListeners(),this.pausedWasPlaying&&(this.resumeAnimation(),this.pausedWasPlaying=!1))},createAndStartAnimation:function(){var t=this.data;if(this.updateConfig(),this.animationIsPlaying=!1,this.animation=c(this.config),this.removeEventListeners(),this.addEventListeners(),!(!t.autoplay||t.startEvents&&t.startEvents.length))return t.delay?void setTimeout(this.beginAnimation,t.delay):void this.beginAnimation()},beginAnimation:function(){this.updateConfig(),this.time=0,this.animation.seek(0),this.animationIsPlaying=!0,this.stopRelatedAnimations(),this.el.emit(\"animationbegin\",this.eventDetail)},pauseAnimation:function(){this.animationIsPlaying=!1},resumeAnimation:function(){this.animationIsPlaying=!0},onStartEvent:function(){return this.data.delay?void setTimeout(this.beginAnimation,this.data.delay):void this.beginAnimation()},updateConfigForRawColor:function(){var t,e,n,r=this.config,i=this.data,a=this.el;t=i.from||s(a,i.property),n=i.to,this.setColorConfig(t,n),t=this.fromColor,n=this.toColor,this.targetsArray.length=0,this.targetsArray.push(t),r.targets=this.targetsArray;for(e in n)r[e]=n[e];r.update=function(){var e={};return e.r=t.r,e.g=t.g,e.b=t.b,function(t){var n;n=t.animatables[0].target,n.r===e.r&&n.g===e.g&&n.b===e.b||u(a,i.property,n,i.type)}}()},updateConfigForDefault:function(){var t,e,n,r,i=this.config,a=this.data,o=this.el;t=a.from||(l(a)?s(o,a.property):m(o,a.property)),r=a.to,n=!isNaN(t||r),n?(t=parseFloat(t),r=parseFloat(r)):(t=t?t.toString():t,r=r?r.toString():r),e=\"true\"===r||\"false\"===r,e&&(t=\"true\"===a.from?1:0,r=\"true\"===a.to?1:0),this.targets.aframeProperty=t,i.targets=this.targets,i.aframeProperty=r,i.update=function(){var n=t;return function(t){var r;r=t.animatables[0].target.aframeProperty,r!==n&&(n=r,e&&(r=r>=1),l(a)?u(o,a.property,r,a.type):y(o,a.property,r))}}()},updateConfigForVector:function(){var t,e,n,r=this.config,a=this.data,o=this.el;e=a.from?AFRAME.utils.coordinates.parse(a.from):m(o,a.property),n=AFRAME.utils.coordinates.parse(a.to),a.property===A&&(i(e),i(n)),this.targetsArray.length=0,this.targetsArray.push(e),r.targets=this.targetsArray;for(t in n)r[t]=n[t];return a.property===b||a.property===A||a.property===x?void(r.update=function(){var t={};return t.x=e.x,t.y=e.y,t.z=e.z,function(e){var n=e.animatables[0].target;n.x===t.x&&n.y===t.y&&n.z===t.z||(t.x=n.x,t.y=n.y,t.z=n.z,o.object3D[a.property].set(n.x,n.y,n.z))}}()):void(r.update=function(){var t={};return t.x=e.x,t.y=e.y,t.z=e.z,function(e){var n=e.animations[0].target;n.x===t.x&&n.y===t.y&&n.z===t.z||(t.x=n.x,t.y=n.y,t.z=n.z,y(o,a.property,n))}}())},updateConfig:function(){var t;t=r(this.el,this.data.property),l(this.data)&&this.data.type===v?this.updateConfigForRawColor():\"vec2\"===t||\"vec3\"===t||\"vec4\"===t?this.updateConfigForVector():this.updateConfigForDefault()},stopRelatedAnimations:function(){var t,e;for(e in this.el.components)t=this.el.components[e],e!==this.attrName&&\"animation\"===t.name&&t.data.property===this.data.property&&(t.animationIsPlaying=!1)},addEventListeners:function(){var t=this.data,e=this.el;a(e,t.startEvents,this.onStartEvent),a(e,t.pauseEvents,this.pauseAnimation),a(e,t.resumeEvents,this.resumeAnimation)},removeEventListeners:function(){var t=this.data,e=this.el;o(e,t.startEvents,this.onStartEvent),o(e,t.pauseEvents,this.pauseAnimation),o(e,t.resumeEvents,this.resumeAnimation)},setColorConfig:function(t,e){p.set(t),d.set(e),t=this.fromColor,e=this.toColor,t.r=p.r,t.g=p.g,t.b=p.b,e.r=d.r,e.g=d.g,e.b=d.b}})},function(t,e,n){var r,i,a;(function(n){var o={scope:{}};o.defineProperty=\"function\"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){if(n.get||n.set)throw new TypeError(\"ES3 does not support getters and setters.\");t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},o.getGlobal=function(t){return\"undefined\"!=typeof window&&window===t?t:\"undefined\"!=typeof n&&null!=n?n:t},o.global=o.getGlobal(this),o.SYMBOL_PREFIX=\"jscomp_symbol_\",o.initSymbol=function(){o.initSymbol=function(){},o.global.Symbol||(o.global.Symbol=o.Symbol)},o.symbolCounter_=0,o.Symbol=function(t){return o.SYMBOL_PREFIX+(t||\"\")+o.symbolCounter_++},o.initSymbolIterator=function(){o.initSymbol();var t=o.global.Symbol.iterator;t||(t=o.global.Symbol.iterator=o.global.Symbol(\"iterator\")),\"function\"!=typeof Array.prototype[t]&&o.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return o.arrayIterator(this)}}),o.initSymbolIterator=function(){}},o.arrayIterator=function(t){var e=0;return o.iteratorPrototype(function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}})},o.iteratorPrototype=function(t){return o.initSymbolIterator(),t={next:t},t[o.global.Symbol.iterator]=function(){return this},t},o.array=o.array||{},o.iteratorFromArray=function(t,e){o.initSymbolIterator(),t instanceof String&&(t+=\"\");var n=0,r={next:function(){if(n<t.length){var i=n++;return{value:e(i,t[i]),done:!1}}return r.next=function(){return{done:!0,value:void 0}},r.next()}};return r[Symbol.iterator]=function(){return r},r},o.polyfill=function(t,e,n,r){if(e){for(n=o.global,t=t.split(\".\"),r=0;r<t.length-1;r++){var i=t[r];i in n||(n[i]={}),n=n[i]}t=t[t.length-1],r=n[t],e=e(r),e!=r&&null!=e&&o.defineProperty(n,t,{configurable:!0,writable:!0,value:e})}},o.polyfill(\"Array.prototype.keys\",function(t){return t?t:function(){return o.iteratorFromArray(this,function(t){return t})}},\"es6-impl\",\"es3\");var s=this;!function(n,o){i=[],r=o,a=\"function\"==typeof r?r.apply(e,i):r,!(void 0!==a&&(t.exports=a))}(this,function(){function t(t){if(!D.col(t))try{return document.querySelectorAll(t)}catch(t){}}function e(t,e){for(var n=t.length,r=2<=arguments.length?arguments[1]:void 0,i=[],a=0;a<n;a++)if(a in t){var o=t[a];e.call(r,o,a,t)&&i.push(o)}return i}function n(t){return t.reduce(function(t,e){return t.concat(D.arr(e)?n(e):e)},[])}function r(e){return D.arr(e)?e:(D.str(e)&&(e=t(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function i(t,e){return t.some(function(t){return t===e})}function a(t){var e,n={};for(e in t)n[e]=t[e];return n}function o(t,e){var n,r=a(t);for(n in t)r[n]=e.hasOwnProperty(n)?e[n]:t[n];return r}function u(t,e){var n,r=a(t);for(n in e)r[n]=D.und(t[n])?e[n]:t[n];return r}function f(t){t=t.replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i,function(t,e,n,r){return e+e+n+n+r+r});var e=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(t);t=parseInt(e[1],16);var n=parseInt(e[2],16),e=parseInt(e[3],16);return\"rgba(\"+t+\",\"+n+\",\"+e+\",1)\"}function l(t){function e(t,e,n){return 0>n&&(n+=1),1<n&&--n,n<1/6?t+6*(e-t)*n:.5>n?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var n=/hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(t)||/hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(t);t=parseInt(n[1])/360;var r=parseInt(n[2])/100,i=parseInt(n[3])/100,n=n[4]||1;if(0==r)i=r=t=i;else{var a=.5>i?i*(1+r):i+r-i*r,o=2*i-a,i=e(o,a,t+1/3),r=e(o,a,t);t=e(o,a,t-1/3)}return\"rgba(\"+255*i+\",\"+255*r+\",\"+255*t+\",\"+n+\")\"}function c(t){if(t=/([\\+\\-]?[0-9#\\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t))return t[2]}function p(t){return-1<t.indexOf(\"translate\")||\"perspective\"===t?\"px\":-1<t.indexOf(\"rotate\")||-1<t.indexOf(\"skew\")?\"deg\":void 0}function d(t,e){return D.fnc(t)?t(e.target,e.id,e.total):t}function h(t,e){if(e in t.style)return getComputedStyle(t).getPropertyValue(e.replace(/([a-z])([A-Z])/g,\"$1-$2\").toLowerCase())||\"0\"}function m(t,e){return D.dom(t)&&i(N,e)?\"transform\":D.dom(t)&&(t.getAttribute(e)||D.svg(t)&&t[e])?\"attribute\":D.dom(t)&&\"transform\"!==e&&h(t,e)?\"css\":null!=t[e]?\"object\":void 0}function y(t,n){var r=p(n),r=-1<n.indexOf(\"scale\")?1:0+r;if(t=t.style.transform,!t)return r;for(var i=[],a=[],o=[],s=/(\\w+)\\((.+?)\\)/g;i=s.exec(t);)a.push(i[1]),o.push(i[2]);return t=e(o,function(t,e){return a[e]===n}),t.length?t[0]:r}function g(t,e){switch(m(t,e)){case\"transform\":return y(t,e);case\"css\":return h(t,e);case\"attribute\":return t.getAttribute(e)}return t[e]||0}function v(t,e){var n=/^(\\*=|\\+=|-=)/.exec(t);if(!n)return t;var r=c(t)||0;switch(e=parseFloat(e),t=parseFloat(t.replace(n[0],\"\")),n[0][0]){case\"+\":return e+t+r;case\"-\":return e-t+r;case\"*\":return e*t+r}}function b(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function A(t){t=t.points;for(var e,n=0,r=0;r<t.numberOfItems;r++){var i=t.getItem(r);0<r&&(n+=b(e,i)),e=i}return n}function x(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case\"circle\":return 2*Math.PI*t.getAttribute(\"r\");case\"rect\":return 2*t.getAttribute(\"width\")+2*t.getAttribute(\"height\");case\"line\":return b({x:t.getAttribute(\"x1\"),y:t.getAttribute(\"y1\")},{x:t.getAttribute(\"x2\"),y:t.getAttribute(\"y2\")});case\"polyline\":return A(t);case\"polygon\":var e=t.points;return A(t)+b(e.getItem(e.numberOfItems-1),e.getItem(0))}}function E(t,e){function n(n){return n=void 0===n?0:n,t.el.getPointAtLength(1<=e+n?e+n:0)}var r=n(),i=n(-1),a=n(1);switch(t.property){case\"x\":return r.x;case\"y\":return r.y;case\"angle\":return 180*Math.atan2(a.y-i.y,a.x-i.x)/Math.PI}}function w(t,e){var n,r=/-?\\d*\\.?\\d+/g;if(n=D.pth(t)?t.totalLength:t,D.col(n))if(D.rgb(n)){var i=/rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(n);n=i?\"rgba(\"+i[1]+\",1)\":n}else n=D.hex(n)?f(n):D.hsl(n)?l(n):void 0;else i=(i=c(n))?n.substr(0,n.length-i.length):n,n=e&&!/\\s/g.test(n)?i+e:i;return n+=\"\",{original:n,numbers:n.match(r)?n.match(r).map(Number):[0],strings:D.str(t)||e?n.split(r):[]}}function P(t){return t=t?n(D.arr(t)?t.map(r):r(t)):[],e(t,function(t,e,n){return n.indexOf(t)===e})}function C(t){var e=P(t);return e.map(function(t,n){return{target:t,id:n,total:e.length}})}function I(t,e){var n=a(e);if(D.arr(t)){var i=t.length;2!==i||D.obj(t[0])?D.fnc(e.duration)||(n.duration=e.duration/i):t={value:t}}return r(t).map(function(t,n){return n=n?0:e.delay,t=D.obj(t)&&!D.pth(t)?t:{value:t},D.und(t.delay)&&(t.delay=n),t}).map(function(t){return u(t,n)})}function M(t,e){var n,r={};for(n in t){var i=d(t[n],e);D.arr(i)&&(i=i.map(function(t){return d(t,e)}),1===i.length&&(i=i[0])),r[n]=i}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}function S(t){return D.arr(t)?$.apply(this,t):H[t]}function F(t,e){var n;return t.tweens.map(function(r){r=M(r,e);var i=r.value,a=g(e.target,t.name),o=n?n.to.original:a,o=D.arr(i)?i[0]:o,s=v(D.arr(i)?i[1]:i,o),a=c(s)||c(o)||c(a);return r.from=w(o,a),r.to=w(s,a),r.start=n?n.end:t.offset,r.end=r.start+r.delay+r.duration,r.easing=S(r.easing),r.elasticity=(1e3-Math.min(Math.max(r.elasticity,1),999))/1e3,r.isPath=D.pth(i),r.isColor=D.col(r.from.original),r.isColor&&(r.round=1),n=r})}function R(t,r){return e(n(t.map(function(t){return r.map(function(e){var n=m(t.target,e.name);if(n){var r=F(e,t);e={type:n,property:e.name,animatable:t,tweens:r,duration:r[r.length-1].end,delay:r[0].delay}}else e=void 0;return e})})),function(t){return!D.und(t)})}function O(t,e,n,r){var i=\"delay\"===t;return e.length?(i?Math.min:Math.max).apply(Math,e.map(function(e){return e[t]})):i?r.delay:n.offset+r.delay+r.duration}function L(t){var e,n=o(z,t),r=o(j,t),i=C(t.targets),a=[],s=u(n,r);for(e in t)s.hasOwnProperty(e)||\"targets\"===e||a.push({name:e,offset:s.offset,tweens:I(t[e],r)});return t=R(i,a),u(n,{children:[],animatables:i,animations:t,duration:O(\"duration\",t,n,r),delay:O(\"delay\",t,n,r)})}function T(t){function n(){return window.Promise&&new Promise(function(t){return c=t})}function r(t){return d.reversed?d.duration-t:t}function i(t){for(var n=0,r={},i=d.animations,a=i.length;n<a;){var o=i[n],s=o.animatable,u=o.tweens,f=u.length-1,l=u[f];f&&(l=e(u,function(e){return t<e.end})[0]||l);for(var u=Math.min(Math.max(t-l.start-l.delay,0),l.duration)/l.duration,c=isNaN(u)?1:l.easing(u,l.elasticity),u=l.to.strings,p=l.round,f=[],m=void 0,m=l.to.numbers.length,y=0;y<m;y++){var g=void 0,g=l.to.numbers[y],v=l.from.numbers[y],g=l.isPath?E(l.value,c*g):v+c*(g-v);p&&(l.isColor&&2<y||(g=Math.round(g*p)/p)),f.push(g)}if(l=u.length)for(m=u[0],c=0;c<l;c++)p=u[c+1],y=f[c],isNaN(y)||(m=p?m+(y+p):m+(y+\" \"));else m=f[0];V[o.type](s.target,o.property,m,r,s.id),o.currentValue=m,n++}if(n=Object.keys(r).length)for(i=0;i<n;i++)k||(k=h(document.body,\"transform\")?\"transform\":\"-webkit-transform\"),d.animatables[i].target.style[k]=r[i].join(\" \");d.currentTime=t,d.progress=t/d.duration*100}function a(t){d[t]&&d[t](d)}function o(){d.remaining&&!0!==d.remaining&&d.remaining--}function s(t){var e=d.duration,s=d.offset,h=s+d.delay,m=d.currentTime,y=d.reversed,g=r(t);if(d.children.length){var v=d.children,b=v.length;if(g>=d.currentTime)for(var A=0;A<b;A++)v[A].seek(g);else for(;b--;)v[b].seek(g)}(g>=h||!e)&&(d.began||(d.began=!0,a(\"begin\")),a(\"run\")),g>s&&g<e?i(g):(g<=s&&0!==m&&(i(0),y&&o()),(g>=e&&m!==e||!e)&&(i(e),y||o())),a(\"update\"),t>=e&&(d.remaining?(f=u,\"alternate\"===d.direction&&(d.reversed=!d.reversed)):(d.pause(),d.completed||(d.completed=!0,a(\"complete\"),\"Promise\"in window&&(c(),p=n()))),l=0)}t=void 0===t?{}:t;var u,f,l=0,c=null,p=n(),d=L(t);return d.reset=function(){var t=d.direction,e=d.loop;for(d.currentTime=0,d.progress=0,d.paused=!0,d.began=!1,d.completed=!1,d.reversed=\"reverse\"===t,d.remaining=\"alternate\"===t&&1===e?2:e,i(0),t=d.children.length;t--;)d.children[t].reset()},d.tick=function(t){u=t,f||(f=u),s((l+u-f)*T.speed)},d.seek=function(t){s(r(t))},d.pause=function(){var t=X.indexOf(d);-1<t&&X.splice(t,1),d.paused=!0},d.play=function(){d.paused&&(d.paused=!1,f=0,l=r(d.currentTime),X.push(d),Y||_())},d.reverse=function(){d.reversed=!d.reversed,f=0,l=r(d.currentTime)},d.restart=function(){d.pause(),d.reset(),d.play()},d.finished=p,d.reset(),d.autoplay&&d.play(),d}var k,z={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:\"normal\",autoplay:!0,offset:0},j={duration:1e3,delay:0,easing:\"easeOutElastic\",elasticity:500,round:0},N=\"translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective\".split(\" \"),D={arr:function(t){return Array.isArray(t)},obj:function(t){return-1<Object.prototype.toString.call(t).indexOf(\"Object\")},pth:function(t){return D.obj(t)&&t.hasOwnProperty(\"totalLength\")},svg:function(t){return t instanceof SVGElement},dom:function(t){return t.nodeType||D.svg(t)},str:function(t){return\"string\"==typeof t},fnc:function(t){return\"function\"==typeof t},und:function(t){return\"undefined\"==typeof t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return D.hex(t)||D.rgb(t)||D.hsl(t)}},$=function(){function t(t,e,n){return(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t}return function(e,n,r,i){if(0<=e&&1>=e&&0<=r&&1>=r){var a=new Float32Array(11);if(e!==n||r!==i)for(var o=0;11>o;++o)a[o]=t(.1*o,e,r);return function(o){if(e===n&&r===i)return o;if(0===o)return 0;if(1===o)return 1;for(var s=0,u=1;10!==u&&a[u]<=o;++u)s+=.1;--u;var u=s+(o-a[u])/(a[u+1]-a[u])*.1,f=3*(1-3*r+3*e)*u*u+2*(3*r-6*e)*u+3*e;if(.001<=f){for(s=0;4>s&&(f=3*(1-3*r+3*e)*u*u+2*(3*r-6*e)*u+3*e,0!==f);++s)var l=t(u,e,r)-o,u=u-l/f;o=u}else if(0===f)o=u;else{var u=s,s=s+.1,c=0;do l=u+(s-u)/2,f=t(l,e,r)-o,0<f?s=l:u=l;while(1e-7<Math.abs(f)&&10>++c);o=l}return t(o,n,i)}}}}(),H=function(){function t(t,e){return 0===t||1===t?t:-Math.pow(2,10*(t-1))*Math.sin(2*(t-1-e/(2*Math.PI)*Math.asin(1))*Math.PI/e)}var e,n=\"Quad Cubic Quart Quint Sine Expo Circ Back Elastic\".split(\" \"),r={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],t],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(e,n){return 1-t(1-e,n)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(e,n){return.5>e?t(2*e,n)/2:1-t(-2*e+2,n)/2}]},i={linear:$(.25,.25,.75,.75)},a={};for(e in r)a.type=e,r[a.type].forEach(function(t){return function(e,r){i[\"ease\"+t.type+n[r]]=D.fnc(e)?e:$.apply(s,e)}}(a)),a={type:a.type};return i}(),V={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,r,i){r[i]||(r[i]=[]),r[i].push(e+\"(\"+n+\")\")}},X=[],Y=0,_=function(){function t(){Y=requestAnimationFrame(e)}function e(e){var n=X.length;if(n){for(var r=0;r<n;)X[r]&&X[r].tick(e),r++;t()}else cancelAnimationFrame(Y),Y=0}return t}();return T.version=\"2.2.0\",T.speed=1,T.running=X,T.remove=function(t){t=P(t);for(var e=X.length;e--;)for(var n=X[e],r=n.animations,a=r.length;a--;)i(t,r[a].animatable.target)&&(r.splice(a,1),r.length||n.pause())},T.getValue=g,T.path=function(e,n){var r=D.str(e)?t(e)[0]:e,i=n||100;return function(t){return{el:r,property:t,totalLength:x(r)*(i/100)}}},T.setDashoffset=function(t){var e=x(t);return t.setAttribute(\"stroke-dasharray\",e),e},T.bezier=$,T.easings=H,T.timeline=function(t){var e=T(t);return e.pause(),e.duration=0,e.add=function(n){return e.children.forEach(function(t){t.began=!0,t.completed=!0}),r(n).forEach(function(n){var r=u(n,o(j,t||{}));r.targets=r.targets||t.targets,n=e.duration;var i=r.offset;r.autoplay=!1,r.direction=e.direction,r.offset=D.und(i)?n:v(i,n),e.began=!0,e.completed=!0,e.seek(r.offset),r=T(r),r.began=!0,r.completed=!0,r.duration>n&&(e.duration=r.duration),e.children.push(r)}),e.seek(0),e.reset(),e.autoplay&&e.restart(),e},e},T.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},T})}).call(e,function(){return this}())}]);\n\n\n// WEBPACK FOOTER //\n// ./src/aframe/components/aframe-animation-component.js","!function(t){function e(n){if(i[n])return i[n].exports;var a=i[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var i={};return e.m=t,e.c=i,e.p=\"\",e(0)}([function(t,e){function i(t){var e,i={};for(e in t)\"function\"==typeof t[e]?i[e]=t[e]:\"object\"==typeof t[e]?i[e]=AFRAME.utils.clone(t[e]):i[e]=t[e];return i}document.registerElement(\"a-timeline\"),document.registerElement(\"a-timeline-group\"),document.registerElement(\"a-timeline-animation\"),AFRAME.registerComponent(\"animation-timeline\",{schema:{direction:{type:\"string\",default:\"normal\"},loop:{default:0,parse:function(t){return\"true\"===t||\"false\"!==t&&parseInt(t,10)}},startEvents:{type:\"array\"},timeline:{type:\"string\"}},multiple:!0,init:function(){var t,e=this.data;for(this.animationIsPlaying=!1,this.beginAnimation=this.beginAnimation.bind(this),this.eventDetail={name:this.id},this.time=0,this.timeline=null,t=0;t<e.startEvents.length;t++)this.el.addEventListener(e.startEvents[t],this.beginAnimation)},play:function(){this.data.startEvents.length||this.beginAnimation()},tick:function(t,e){this.animationIsPlaying&&this.timeline&&(this.time+=e,this.timeline.tick(this.time))},beginAnimation:function(){var t,e,i,n,a,o,r,l=this;if(o=document.querySelector(this.data.timeline),\"A-TIMELINE\"!==o.tagName)throw new Error(\"[animation-timeline] timeline must be a selector to <a-timeline> element.\");for(this.animationIsPlaying=!0,this.time=0,this.timeline=AFRAME.anime.timeline({autoplay:!1,complete:function(){l.el.emit(\"animationtimelinecomplete\",l.eventDetail)},direction:this.data.direction,loop:this.data.loop}),a=0,t=0;t<o.children.length;t++)if(\"A-TIMELINE-GROUP\"!==o.children[t].tagName)\"A-TIMELINE-ANIMATION\"===o.children[t].tagName&&(a+=this.addAnimationToTimeline(o.children[t],a));else{for(r=o.children[t],n=0,e=0;e<r.children.length;e++)i=this.addAnimationToTimeline(r.children[e],a),i>n&&(n=i);a+=n}},addAnimationToTimeline:function(t,e){var n,a,o,r,l,s,m;if(a=\"animation__\"+t.getAttribute(\"name\"),m=t.getAttribute(\"select\"),l=this.el.sceneEl.querySelectorAll(m),!l.length)return console.warn('[animation-timeline] No entities found for select=\"'+m+'\"'),0;for(n=parseFloat(t.getAttribute(\"offset\")||0,10),s=0;s<l.length;s++){if(o=l[s].components[a],!o)throw new Error(\"Could not find animation `\"+a+\"` for `\"+t.getAttribute(\"select\")+\"`.\");o.updateConfig(),r=i(o.config),r.offset=e+n,this.timeline.add(r)}return(r.duration||0)+(r.delay||0)+n}})}]);\n\n\n// WEBPACK FOOTER //\n// ./src/aframe/components/aframe-animation-timeline-component.js","if (typeof AFRAME === 'undefined') {\n  throw new Error('Component attempted to register before AFRAME was available.');\n}\n\nAFRAME.registerComponent('teleport-extras', {\n  schema: {\n    cursor: { type: 'selector', default: '[cursor]' },\n  },\n\n  active: true,\n  \n  init: function () {\n    document.querySelector('a-scene').addEventListener('touchstart', this.startTouch.bind(this))\n    document.querySelector('a-scene').addEventListener('mousedown', this.startTouch.bind(this))\n    document.body.addEventListener('keydown', function (e) {\n      if (e.keyCode == 32) {\n        this.startTouch();\n      }\n    }.bind(this))\n    \n    //Create the touchend event\n    document.querySelector('a-scene').addEventListener('touchend', this.endTouch.bind(this))\n    document.querySelector('a-scene').addEventListener('mouseup', this.endTouch.bind(this));\n    document.body.addEventListener('keyup', function (e) {\n      if (e.keyCode == 32) {\n        this.endTouch();\n      }  \n    }.bind(this));\n    \n    this.el.addEventListener('raycaster-intersection', this.onStartIntersection.bind(this));\n    this.el.addEventListener('raycaster-intersection-cleared', this.onEndIntersection.bind(this));\n  },\n  \n  startTouch: function() {\n    if(this.active) {\n      this.el.emit('starttouch')\n    }\n  },\n  \n  endTouch: function() {\n    if(this.active) {\n      this.el.emit('endtouch')\n    }\n  },\n  \n  onStartIntersection: function() {\n    this.active = false; \n    \n    const teleportControls = this.el.components['teleport-controls'];\n    teleportControls.active = false;\n\t  teleportControls.hitEntity.setAttribute('visible', false);\n    teleportControls.teleportEntity.setAttribute('visible', false);\n  },\n  \n  onEndIntersection: function() {\n    this.active = true;\n  }\n});\n\n\n// WEBPACK FOOTER //\n// ./src/aframe/components/teleport-extras.js","if (typeof AFRAME === 'undefined') {\n  throw new Error('Component attempted to register before AFRAME was available.');\n}\n\nAFRAME.registerComponent('toggle-on-event', {\n  schema: {\n    hideOn: { type: 'string', default: 'raycaster-intersection-cleared' },\n    showOn: { type: 'string', default: 'raycaster-intersection' },\n    raycasterObject: { type: 'selector' }\n  },\n  \n  noIntersections: 0,\n  \n  init: function() {\n    if(!this.data.raycasterObject) {\n      this.data.raycasterObject = this.el;\n    }\n    \n    this.data.raycasterObject.addEventListener(this.data.showOn, function() {\n      this.noIntersections++;\n      this.toggle();\n    }.bind(this));\n    \n    this.data.raycasterObject.addEventListener(this.data.hideOn, function() {\n      this.noIntersections--;\n      this.toggle();\n    }.bind(this));\n  },\n  \n  toggle: function() {\n    this.noIntersections = Math.max(this.noIntersections, 0);\n    this.el.setAttribute('visible', this.noIntersections > 0);\n  }\n});\n\n\n// WEBPACK FOOTER //\n// ./src/aframe/components/toggle-on-event.js","if (typeof AFRAME === 'undefined') {\n  throw new Error('Component attempted to register before AFRAME was available.');\n}\n\nAFRAME.registerComponent('lookatlabel', {\n  init: function () {\n    this.vector = new THREE.Vector3();\n  },\n\n  tick: function (t) {\n    var self = this;\n    var target = self.el.sceneEl.camera;\n    var object3D = self.el.object3D;\n\n    // make sure camera is set\n    if (target) { \n         target.updateMatrixWorld();\n         this.vector.setFromMatrixPosition(target.matrixWorld);\n         if (object3D.parent) {\n           object3D.parent.updateMatrixWorld();\n           object3D.parent.worldToLocal(this.vector);\n\n         }\n     //    return object3D.lookAt(this.vector); \n         return object3D.lookAt(new THREE.Vector3(this.vector.x, object3D.position.y, this.vector.z));\n    }\n  }\n});\n\n\n// WEBPACK FOOTER //\n// ./src/aframe/components/lookatlabel.js","if (typeof AFRAME === 'undefined') {\n  throw new Error('Component attempted to register before AFRAME was available.');\n}\n\nAFRAME.registerComponent('ui-console', {\n  schema: {\n    product: {\n      type: 'string',\n      default: ''\n    },\n    rig: {\n      type: 'string',\n      default: '#cameraRig'\n    },\n    radius: {\n      type: 'number',\n      default: 0.75\n    },\n    triggered: {\n      type: 'boolean',\n      default: false\n    },\n  },\n\n  init: function () {\n    var data = this.data;\n    var el = this.el;\n    var cameraRig = document.querySelector(data.rig);\n    var uiEl = this.uiEl = el.object3D.parent;\n    var rigEl = this.rigEl = cameraRig.object3D;\n//    this.hide();\n  },\n  tick: function (time, delta) {\n    if(this.data.triggered){\n\n    // if (this.data.product === \"ucaas\") {\n    //   var positionX = this.rigEl.position.x;\n    //   var positionZ = this.rigEl.position.z;\n\n    //   if (positionX < 1 && positionX > -1) {\n    //     var showUcaaS = true\n    //   } else {\n    //     showUcaaS = false;\n    //   }\n    // }\n\n    // var dist = this.calcDistance(this.uiEl.position.x, this.uiEl.position.z, this.rigEl.position.x, this.rigEl.position.z);\n    // if (dist < this.data.radius || showUcaaS) {\n    //   if (this.el.getAttribute('visible') === false) {\n    //     this.show();\n    //   }\n    } else {\n      var dist = this.calcDistance(this.uiEl.position.x, this.uiEl.position.z, this.rigEl.position.x, this.rigEl.position.z);\n      if (dist < this.data.radius) {\n        if (this.el.getAttribute('visible') === false) {\n          this.show();\n        }\n      } else {\n        if (this.el.getAttribute('visible') === true) {\n          this.hide();\n        }\n      }      \n    }\n\n  },\n  calcDistance: function (x1, z1, x2, z2) {\n    return Math.sqrt(Math.pow((x2 - x1), 2) + Math.pow((z2 - z1), 2));\n  },\n  show: function () {\n    //    console.log(\">>>>>>>> showing: \" + this.data.product);\n    this.el.setAttribute('visible', 'true');\n  },\n  hide: function () {\n    //    console.log(\">>>>>>>> hiding: \" + this.data.product);\n    this.el.setAttribute('visible', 'false');\n  },\n  update: function (oldData) {},\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/aframe/components/ui-console.js","if (typeof AFRAME === 'undefined') {\n  throw new Error('Component attempted to register before AFRAME was available.');\n}\n\nAFRAME.registerComponent('checkpointspot', {\n  schema: {\n    radius: { type: 'number', default: 0.45 },\n    color: { type: 'string', default: '#2d283d' },\n    texture: { type: 'string', default: '#centertexture' },\n    rayobj: { type: 'string', default: '' },\n  },\n\n  init: function() {\n    var data = this.data;\n    var el = this.el;\n\n    el.setAttribute('geometry', `primitive: circle; radius: ${data.radius};`);\n    el.setAttribute('material', `opacity:0.45; color:${data.color}; src:${data.copy};`);\n    el.setAttribute('rotation', '-90 0 0');\n    el.setAttribute('position', '0 0.1 0');\n    if(data.rayobj){\n      el.setAttribute('class', data.rayobj);\n    }\n\n    var ring = document.createElement(\"a-entity\");\n    ring.setAttribute('geometry', `primitive:ring; radiusInner:0.3; radiusOuter:0.4;`);\n    ring.setAttribute('material', `shader:flat; color:#fff; src:${data.texture};`);\n    ring.setAttribute('position', '0 0 0.05');\n    ring.setAttribute('animation__in', `property: geometry.radiusInner; to: 0.5; delay: 0; dur: 500; easing: easeInOutSine; startEvents: in; autoplay: false`),\n    ring.setAttribute('animation__in2', `property: geometry.radiusOuter; to: 0.55; delay: 0; dur: 500; easing: easeInOutSine; startEvents: in; autoplay: false`),\n    ring.setAttribute('animation__in3', `property: position; to: 0 0 0; delay: 0; dur: 500; easing: easeInOutSine; startEvents: in; autoplay: false`),\n    ring.setAttribute('animation__out', `property: geometry.radiusInner; to: 0.3; delay: 0; dur: 200; easing: easeInOutSine; startEvents: out; autoplay: false`),\n    ring.setAttribute('animation__out2', `property: geometry.radiusOuter; to: 0.4; delay: 0; dur: 200; easing: easeInOutSine; startEvents: out; autoplay: false`),\n    ring.setAttribute('animation__out3', `property: position; to: 0 0 0.05; delay: 0; dur: 200; easing: easeInOutSine; startEvents: out; autoplay: false`),\n    el.appendChild(ring);\n\n    el.addEventListener('mouseenter', function () {\n      ring.emit('in');\n    });\n\n    el.addEventListener('mouseleave', function () {\n      ring.emit('out');\n    });\n\n  },\n  play: function () {\n  },\n  update: function (oldData) {\n  },\n});\n\n/*\n  <a-animation begin=\"mouseenter\" attribute=\"geometry.radiusInner\" from=\"0.1\" to=\"0.3\" dur=\"500\"></a-animation>\n  <a-animation begin=\"mouseout\" attribute=\"geometry.radiusInner\" from=\"0.3\" to=\"0.1\" dur=\"200\"></a-animation>\n*/\n\n\n// WEBPACK FOOTER //\n// ./src/aframe/components/checkpointspot.js","if (typeof AFRAME === 'undefined') {\n  throw new Error('Component attempted to register before AFRAME was available.');\n}\n\nvar CURRENT_VIDEO;\nvar WATCHING_VIDEO = false;\n\n//SAVE CURRENT VIDEO SRC TO CURRENT_VIDEO ELEMENT\nAFRAME.registerComponent('video-controls', {\n  schema: {\n    videoSrcURL: {\n      type: 'string'\n    }\n  },\n  init: function () {\n    var videoSrcURL = this.data.videoSrcURL;\n    var videoElement = document.querySelector(videoSrcURL);\n\n    //Click Platform -> Hide Video -> Set video Src -> Position Video\n    this.el.addEventListener('click', function (event) {\n      CURRENT_VIDEO = document.querySelector(videoElement.attributes.src.value);\n      console.log('video-controls component CURRENT_VIDEO: ' + CURRENT_VIDEO, \"WATCHING_VIDEO:\", WATCHING_VIDEO);\n\n      vidplay();\n    });\n  }\n});\n\n\nfunction hideVideos() {\n  var videoElementArray = document.querySelectorAll(\"a-video\");\n\n  videoElementArray.forEach(function (vidElement) {\n\n    // Set visibility of video\n    vidElement.setAttribute('visible', false);\n  })\n  \n  //Reset timing of current video when hidden.\n  CURRENT_VIDEO.currentTime = 0;\n}\n\n\n//PLAY CURRENT_VIDEO (called at bottom of index.html when <body>.click())\nfunction vidplay() {\n  var video = CURRENT_VIDEO;\n  console.log('CURRENT_VIDEO: ' + CURRENT_VIDEO);\n\n  if (video.paused) {\n    var playPromise = video.play();\n\n    // In browsers that dont yet support this functionality,\n    // playPromise wont be defined.\n    if (playPromise !== undefined) {\n      playPromise.then(function () {\n        // Automatic playback started!\n      }).catch(function (error) {\n        // Automatic playback failed.\n        // Show a UI element to let the user manually start playback.\n        console.log(error)\n      });\n    }\n  } else {\n    video.pause();\n  }\n}\n\n// //\n// function setVideoVisibilityTrue(videoElement) {\n//   videoElement.setAttribute('visible', true);\n// }\n\n//WATCHING VIDEO COMPONENT\nAFRAME.registerComponent('watching-video', {\n  init: function () {\n\n    this.el.addEventListener('mouseenter', function (event) {\n      WATCHING_VIDEO = true;\n      console.log(\"WATCHING_VIDEO = true\");\n    });\n\n    this.el.addEventListener('mouseleave', function (event) {\n      WATCHING_VIDEO = false;\n      console.log(\"WATCHING_VIDEO = false\");\n    });\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/aframe/components/video-controls.js","if (typeof AFRAME === 'undefined') {\n  throw new Error('Component attempted to register before AFRAME was available.');\n}\n\nAFRAME.registerComponent('panel', {\n  schema: {\n    width: { type: 'number', default: 0.75 },\n    height: { type: 'number', default: 0.5 },\n    copy: { type: 'string', default: '#panel-chime' },\n  },\n\n  init: function() {\n    var data = this.data;\n    var el = this.el;\n\n    el.setAttribute('geometry', `primitive: plane; height: ${data.height}; width: ${data.width};`);\n    el.setAttribute('material', `transparent: true; opacity:1; color:#fff; src:${data.copy};`);\n\n  },\n  play: function () {\n  },\n  update: function (oldData) {\n  },\n});\n\n\n// WEBPACK FOOTER //\n// ./src/aframe/components/panel.js","var base_url = \"https://backend-vonagevrcpev2.herokuapp.com\"\n\nif (typeof AFRAME === 'undefined') {\n  throw new Error('Component attempted to register before AFRAME was available.');\n}\n\nAFRAME.registerComponent('panelbtn', {\n  schema: {\n    on: {\n      default: 'click'\n    },\n    width: {\n      type: 'number',\n      default: 0.75\n    },\n    height: {\n      type: 'number',\n      default: 0.125\n    },\n    toggle: {\n      type: 'boolean',\n      default: false\n    },\n    base: {\n      type: 'string',\n      default: '#bookmark-btn-label'\n    },\n    hover: {\n      type: 'string',\n      default: '#bookmark-btn-label-hover'\n    },\n    click: {\n      type: 'string',\n      default: '#bookmark-btn-label-click'\n    },\n    clickAction: {\n      type: 'string'\n    },\n    hoversnd: { type: 'string', default: 'panelhoversound' },\n    clicksnd: { type: 'string', default: 'panelclicksound' },        \n  },\n\n  init: function () {\n    var data = this.data;\n    var el = this.el;\n    var toggleState = this.toggleState = data.toggle;\n    var hoversound = this.opensound = document.getElementById(data.hoversnd);\n    var clicksound = this.coinsound = document.getElementById(data.clicksnd);\n    el.setAttribute('geometry', `primitive: plane; height: ${data.height}; width: ${data.width};`);\n    el.setAttribute('material', `transparent: true; opacity:1; color:#fff; src:${data.base};`);\n\n    el.addEventListener('mouseenter', function () {\n      if (!(data.toggle)) {\n        this.setAttribute('material', 'src', data.hover);\n      }\n      this.setAttribute('scale', '1.15 1.15 1.15');\n      hoversound.components.sound.stopSound(); hoversound.components.sound.playSound();\n    });\n\n    el.addEventListener('mouseleave', function () {\n      if (!(data.toggle)) {\n        this.setAttribute('material', 'src', data.base);\n      }\n      this.setAttribute('scale', '1 1 1');\n    });\n\n    el.addEventListener('mousedown', function () {\n      if (!(data.toggle)) {\n        this.setAttribute('material', 'src', data.click);\n      } else {\n        this.setAttribute('material', 'src', data.hover);\n      }\n    });\n    el.addEventListener('mouseup', function () {\n      if (!(data.toggle)) {\n        this.setAttribute('material', 'src', data.hover);\n      } else {\n        this.setAttribute('material', 'src', data.click);\n      }\n    });\n\n    el.addEventListener(data.on, function (evt) {\n\n      console.log('I was clicked at: ', evt.detail.intersection.point);\n\n      clicksound.components.sound.stopSound(); clicksound.components.sound.playSound();\n\n      var clickActionFunctionName = data.clickAction;\n      console.log(\"in button, clickActionFunctionName: \" + clickActionFunctionName);\n\n      //BOOKMARK SERVICE USER CLICKS\n      //Param: 'bookmarkvonagereach'\n      if (clickActionFunctionName.includes(\"bookmark\")) {\n        var user = JSON.parse(localStorage.getItem('active_user'));\n        user[\"bookmarkedService\"] = clickActionFunctionName.split(\"bookmark\")[1];\n\n        userBookmarkService(user);\n      }\n      // find object\n      var clickActionFunction = window[clickActionFunctionName];\n      //console.log(\"clickActionFunction: \"+clickActionFunction);\n      // is object a function?\n      if (typeof clickActionFunction === \"function\") clickActionFunction();\n    });\n\n  },\n  setClickAction: function (action) {\n    this.data.clickAction = action; //change function dynamically\n  },\n  play: function () {\n\n  },\n  update: function (oldData) {\n    console.log(\"In button update, toggle: \" + this.toggleState);\n  },\n  setActiveState: function (activeState) {\n    console.log(\"in setActiveState function\");\n    this.data.toggle = this.toggleState = activeState;\n    if (!activeState) {\n      this.setAttribute('material', 'src', this.data.base);\n    } else {\n\n    }\n  },\n});\n\nfunction userBookmarkService(user) {\n  console.log(\"Bookmarking: \", user.bookmarkedService, \" for \", user.email)\n\n  $.ajax({\n    url: base_url + '/user',\n    type: 'GET',\n    dataType: 'jsonp',\n    data: user,\n    success: function (data) {\n      return data\n    },\n    error: function (err) {\n      console.log('Failed!', err);\n      return err\n    }\n  });\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/aframe/components/panelbtn.js","if (typeof AFRAME === 'undefined') {\n  throw new Error('Component attempted to register before AFRAME was available.');\n}\n\nAFRAME.registerComponent('trunk', {\n  schema: {\n    on: { default: 'click' },\n    clue: { type: 'string', default: '#panel-trunk' },\n    opensnd: { type: 'string', default: 'trunkopensound' },\n    coinsnd: { type: 'string', default: 'trunkcoinsound' },    \n    clickAction: {type: 'string'},\n  },\n\n  init: function() {\n    var data = this.data;\n    var el = this.el;\n    var opensound = this.opensound = document.getElementById(data.opensnd);\n    var coinsound = this.coinsound = document.getElementById(data.coinsnd);\n    \n    el.setAttribute('geometry', `primitive:box; width:1; height:1;depth:1`);\n    el.setAttribute('material', `transparent: true; opacity:0; color:#fff;`);\n\n    var base = document.createElement(\"a-entity\");\n    base.setAttribute('obj-model', `obj: #trunk_base-obj; mtl: #trunk_base-mtl`);\n    base.setAttribute('scale', '0.5 0.5 0.5');\n    base.setAttribute('position', '0 0 0');\n    el.appendChild(base);\n\n      \n    var lid = document.createElement(\"a-entity\");\n    lid.setAttribute('obj-model', `obj: #trunk_top-obj; mtl: #trunk_top-mtl`);\n    lid.setAttribute('scale', '0.5 0.5 0.5');\n    lid.setAttribute('position', '0 0 0');\n    el.appendChild(lid);\n\n    var trunklidAni = document.createElement(\"a-animation\");\n    trunklidAni.setAttribute('attribute', 'rotation');\n    trunklidAni.setAttribute('begin', 'reveal');\n    trunklidAni.setAttribute('to', '-120 0 0' );   \n    trunklidAni.setAttribute('delay', '0');\n    trunklidAni.setAttribute('dur', '1500');\n    trunklidAni.setAttribute('fill', 'forwards');\n    lid.appendChild(trunklidAni);\n\n\n    var shadow = document.createElement(\"a-entity\");\n    shadow.setAttribute('geometry', `primitive:plane; width:1.2; height:0.7;`);\n    shadow.setAttribute('material', `color:#2d283d; opacity:0.5`);\n    shadow.setAttribute('rotation', '-90 0 0');\n    shadow.setAttribute('position', '0 -0.45 0.3');\n    el.appendChild(shadow);\n\n    var coin = document.createElement(\"a-entity\");\n    coin.setAttribute('geometry', 'primitive:cylinder; radius:0.175; height:0.05;');\n    coin.setAttribute('material', 'color:#fcc137; opacity:1;');\n    coin.setAttribute('scale', '0.5 0.5 0.5');\n    coin.setAttribute('rotation', '90 0 0');\n    coin.setAttribute('position', '0 -0.150 0.3');\n    el.appendChild(coin);\n\n    var coinAniPos = document.createElement(\"a-animation\");\n    coinAniPos.setAttribute('attribute', 'position');\n    coinAniPos.setAttribute('begin', 'reveal');\n    coinAniPos.setAttribute('from', '0 -0.150 0.3' );   \n    coinAniPos.setAttribute('to', '0 0.75 0.3' );   \n    coinAniPos.setAttribute('delay', '1800');\n    coinAniPos.setAttribute('dur', '500');\n    coinAniPos.setAttribute('fill', 'forwards');\n    coin.appendChild(coinAniPos);\n\n    var coinAniRot = document.createElement(\"a-animation\");\n    coinAniRot.setAttribute('attribute', 'rotation');\n    coinAniRot.setAttribute('begin', 'reveal');\n    coinAniRot.setAttribute('from', '90 0 0' );   \n    coinAniRot.setAttribute('to', '90 360 0' );   \n    coinAniRot.setAttribute('delay', '1800');\n    coinAniRot.setAttribute('dur', '750');\n    coinAniRot.setAttribute('fill', 'forwards');\n    coin.appendChild(coinAniRot);\n\n    var coinAniScale = document.createElement(\"a-animation\");\n    coinAniScale.setAttribute('attribute', 'scale');\n    coinAniScale.setAttribute('begin', 'reveal');\n    coinAniScale.setAttribute('from', '0.5 0.5 0.5' );   \n    coinAniScale.setAttribute('to', '1 1 1' );   \n    coinAniScale.setAttribute('delay', '1800');\n    coinAniScale.setAttribute('dur', '250');\n    coinAniScale.setAttribute('fill', 'forwards');\n    coin.appendChild(coinAniScale);\n\n    var coinAniAlpha = document.createElement(\"a-animation\");\n    coinAniAlpha.setAttribute('attribute', 'material.opacity');\n    coinAniAlpha.setAttribute('begin', 'reveal');\n    coinAniAlpha.setAttribute('from', '1' );   \n    coinAniAlpha.setAttribute('to', '0' );   \n    coinAniAlpha.setAttribute('delay', '2000');\n    coinAniAlpha.setAttribute('dur', '400');\n    coinAniAlpha.setAttribute('fill', 'forwards');\n    coin.appendChild(coinAniAlpha);\n\n\n    var trunkclue = document.createElement(\"a-entity\");\n    trunkclue.setAttribute('geometry', `primitive:plane; width:0.75; height:0.36;`);\n    trunkclue.setAttribute('material', `color:#fff; transparent:true; src:${data.clue}; side:double`);\n    trunkclue.setAttribute('rotation', '0 0 0');\n    trunkclue.setAttribute('position', '0 0.75 0.4');\n    trunkclue.setAttribute('scale', '0 0 0');     \n    el.appendChild(trunkclue);\n\n    var trunkclueAniScale = document.createElement(\"a-animation\");\n    trunkclueAniScale.setAttribute('attribute', 'scale');\n    trunkclueAniScale.setAttribute('begin', 'reveal');\n    trunkclueAniScale.setAttribute('to', '1 1 1' );   \n    trunkclueAniScale.setAttribute('delay', '2500');\n    trunkclueAniScale.setAttribute('dur', '500');\n    trunkclueAniScale.setAttribute('fill', 'forwards');\n    trunkclue.appendChild(trunkclueAniScale);\n\n    var shut = true;\n\n    el.addEventListener(data.on, function (evt) {            \n\n        console.log('Trunk was clicked at: ', evt.detail.intersection.point);\n\n        if (shut){        \n            lid.emit('reveal');\n            coin.emit('reveal');\n            trunkclue.emit('reveal');\n\n            opensound.components.sound.stopSound(); opensound.components.sound.playSound();\n            setTimeout(function(){ \n                coinsound.components.sound.stopSound(); coinsound.components.sound.playSound();\n            }, 2500);\n            \n            shut = false;\n        }\n\n        var clickActionFunctionName = data.clickAction;\n        console.log(\"in trunk, clickActionFunctionName: \"+clickActionFunctionName);\n        // find object\n        var clickActionFunction = window[clickActionFunctionName];\n        //console.log(\"clickActionFunction: \"+clickActionFunction);\n        // is object a function?\n        if (typeof clickActionFunction === \"function\") clickActionFunction();\n    });\n\n\n  },\n  setClickAction: function (action) {\n    this.data.clickAction = action; //change function dynamically\n  },\n  play: function () {\n  },\n  update: function (oldData) {\n  },\n});\n\n\n// WEBPACK FOOTER //\n// ./src/aframe/components/trunk.js","import './custom-shader'\n\n\n\n// WEBPACK FOOTER //\n// ./src/aframe/shaders/index.js","/* global AFRAME THREE */\n// A-FrameE\nAFRAME.registerShader('custom-shader', {\n  schema: {\n    dashSize: {default: 3},\n    lineWidth: {default: 1}\n  },\n  /**\n   * `init` used to initialize material. Called once.\n   */\n  init (data) {\n    this.material = new THREE.LineDashedMaterial(data)\n    // `update()` currently not called after `init`. (#1834)\n    this.update(data)\n  },\n  /**\n   * `update` used to update the material. Called on initialization and when data updates.\n   */\n  update (data) {\n    this.material.dashsize = data.dashsize\n    this.material.linewidth = data.linewidth\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/aframe/shaders/custom-shader.js","import './a-custom-box'\n\n\n\n// WEBPACK FOOTER //\n// ./src/aframe/primitives/index.js","  // A-Frame\nconst AFRAME = window.AFRAME\nlet extendDeep = AFRAME.utils.extendDeep\n// The mesh mixin provides common material properties for creating mesh-based primitives.\n// This makes the material component a default component and maps all the base material properties.\nlet meshMixin = AFRAME.primitives.getMeshMixin()\nAFRAME.registerPrimitive('a-custom-box', extendDeep({}, meshMixin, {\n  // Preset default components.\n  // These components and component\n  // properties will be attached to the entity out-of-the-box.\n  defaultComponents: {\n    geometry: {primitive: 'box'}\n  },\n  // Defined mappings from HTML attributes to component properties\n  // (using dots as delimiters). If we set `depth=\"5\"` in HTML,\n  // then the primitive will automatically set `geometry=\"depth: 5\"`.\n  mappings: {\n    depth: 'geometry.depth',\n    height: 'geometry.height',\n    width: 'geometry.width'\n  }\n}))\n\n\n\n// WEBPACK FOOTER //\n// ./src/aframe/primitives/a-custom-box.js"],"sourceRoot":""}