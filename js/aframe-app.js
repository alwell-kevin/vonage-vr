!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=40)}(Array(40).concat([function(t,e,i){"use strict";i(41),i(56),i(58),i(59)},function(t,e,i){"use strict";i(42),i(43),i(44),i(45),i(46),i(47),i(48),i(49),i(50),i(51),i(52),i(53),i(54),i(55)},function(t,e,i){"use strict";!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){function n(t){var e="line"===t.type?2:t.curveNumberPoints;return new u(e,t.curveLineWidth)}function r(t){var e,i,n;return i=document.createElement("a-entity"),i.className="hitEntity",n=document.createElement("a-entity"),n.setAttribute("geometry",{primitive:"torus",radius:t.hitCylinderRadius,radiusTubular:.01}),n.setAttribute("rotation",{x:90,y:0,z:0}),n.setAttribute("material",{shader:"flat",color:t.hitCylinderColor,side:"double",depthTest:!1}),i.appendChild(n),e=document.createElement("a-entity"),e.setAttribute("position",{x:0,y:t.hitCylinderHeight/2,z:0}),e.setAttribute("geometry",{primitive:"cylinder",segmentsHeight:1,radius:t.hitCylinderRadius,height:t.hitCylinderHeight,openEnded:!0}),e.setAttribute("material",{shader:"flat",color:t.hitCylinderColor,side:"double",src:a,transparent:!0,depthTest:!1}),i.appendChild(e),i}function o(t){var e,i;return e=new THREE.PlaneBufferGeometry(100,100),e.rotateX(-Math.PI/2),i=new THREE.MeshBasicMaterial({color:16776960}),new THREE.Mesh(e,i)}var a=i(1),s=i(2),u=i(3);if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),i=e.length;--i>=0&&e.item(i)!==this;);return i>-1}),AFRAME.registerComponent("teleport-controls",{schema:{type:{default:"parabolic",oneOf:["parabolic","line"]},button:{default:"trackpad",oneOf:["trackpad","trigger","grip","menu"]},startEvents:{type:"array"},endEvents:{type:"array"},collisionEntities:{default:""},hitEntity:{type:"selector"},cameraRig:{type:"selector"},teleportOrigin:{type:"selector"},hitCylinderColor:{type:"color",default:"#99ff99"},hitCylinderRadius:{default:.25,min:0},hitCylinderHeight:{default:.3,min:0},maxLength:{default:10,min:0,if:{type:["line"]}},curveNumberPoints:{default:30,min:2,if:{type:["parabolic"]}},curveLineWidth:{default:.025},curveHitColor:{type:"color",default:"#99ff99"},curveMissColor:{type:"color",default:"#ff0000"},curveShootingSpeed:{default:5,min:0,if:{type:["parabolic"]}},defaultPlaneSize:{default:100},landingNormal:{type:"vec3",default:{x:0,y:1,z:0}},landingMaxAngle:{default:"45",min:0,max:360}},init:function(){var t,e,i=this.data,n=this.el;if(this.active=!1,this.obj=n.object3D,this.hitPoint=new THREE.Vector3,this.rigWorldPosition=new THREE.Vector3,this.newRigWorldPosition=new THREE.Vector3,this.teleportEventDetail={oldPosition:this.rigWorldPosition,newPosition:this.newRigWorldPosition,hitPoint:this.hitPoint},this.hit=!1,this.prevHitHeight=0,this.referenceNormal=new THREE.Vector3,this.curveMissColor=new THREE.Color,this.curveHitColor=new THREE.Color,this.raycaster=new THREE.Raycaster,this.defaultPlane=o(this.data.defaultPlaneSize),t=this.teleportEntity=document.createElement("a-entity"),t.classList.add("teleportRay"),t.setAttribute("visible",!1),n.sceneEl.appendChild(this.teleportEntity),this.onButtonDown=this.onButtonDown.bind(this),this.onButtonUp=this.onButtonUp.bind(this),this.data.startEvents.length&&this.data.endEvents.length){for(e=0;e<this.data.startEvents.length;e++)n.addEventListener(this.data.startEvents[e],this.onButtonDown);for(e=0;e<this.data.endEvents.length;e++)n.addEventListener(this.data.endEvents[e],this.onButtonUp)}else n.addEventListener(i.button+"down",this.onButtonDown),n.addEventListener(i.button+"up",this.onButtonUp);this.queryCollisionEntities()},update:function(t){var e=this.data,i=AFRAME.utils.diff(e,t);this.referenceNormal.copy(e.landingNormal),this.curveMissColor.set(e.curveMissColor),this.curveHitColor.set(e.curveHitColor),(!this.line||"curveLineWidth"in i||"curveNumberPoints"in i||"type"in i)&&(this.line=n(e),this.teleportEntity.setObject3D("mesh",this.line.mesh)),e.hitEntity?this.hitEntity=e.hitEntity:(!this.hitEntity||"hitCylinderColor"in i||"hitCylinderHeight"in i||"hitCylinderRadius"in i)&&(this.hitEntity&&this.hitEntity.parentNode.removeChild(this.hitEntity),this.hitEntity=r(e),this.el.sceneEl.appendChild(this.hitEntity)),this.hitEntity.setAttribute("visible",!1),"collisionEntities"in i&&this.queryCollisionEntities()},remove:function(){var t=this.el,e=this.hitEntity,i=this.teleportEntity;e&&e.parentNode.removeChild(e),i&&i.parentNode.removeChild(i),t.sceneEl.removeEventListener("child-attached",this.childAttachHandler),t.sceneEl.removeEventListener("child-detached",this.childDetachHandler)},tick:function(){var t=new THREE.Vector3,e=new THREE.Vector3,i=new THREE.Vector3(0,-9.8,0),n=new THREE.Vector3,r=new THREE.Vector3,o=new THREE.Quaternion,a=new THREE.Vector3,u=new THREE.Vector3,l=new THREE.Vector3,c=new THREE.Vector3,d=new THREE.Vector3;return function(h,f){if(this.active){this.obj.matrixWorld.decompose(a,o,u);var p=l.set(0,0,-1).applyQuaternion(o).normalize();if(this.line.setDirection(d.copy(p)),this.obj.getWorldPosition(t),r.copy(t),this.teleportEntity.setAttribute("visible",!0),this.line.material.color.set(this.curveMissColor),this.hitEntity.setAttribute("visible",!1),this.hit=!1,"parabolic"===this.data.type){e.copy(p).multiplyScalar(this.data.curveShootingSpeed);for(var m=0;m<this.line.numPoints;m++){var y=m/(this.line.numPoints-1);s(t,e,i,y,n);var g=c.copy(n).sub(r).normalize();if(this.raycaster.far=g.length(),this.raycaster.set(r,g),this.checkMeshCollisions(m,n))break;r.copy(n)}}else"line"===this.data.type&&(n.copy(r).add(d.copy(p).multiplyScalar(this.data.maxLength)),this.raycaster.far=this.data.maxLength,this.raycaster.set(t,p),this.line.setPoint(0,t),this.checkMeshCollisions(1,n))}}}(),queryCollisionEntities:function(){var t,e=this.data,i=this.el;if(!e.collisionEntities)return void(this.collisionEntities=[]);t=[].slice.call(i.sceneEl.querySelectorAll(e.collisionEntities)),this.collisionEntities=t,this.childAttachHandler=function(i){i.detail.el.matches(e.collisionEntities)&&t.push(i.detail.el)},i.sceneEl.addEventListener("child-attached",this.childAttachHandler),this.childDetachHandler=function(i){var n;i.detail.el.matches(e.collisionEntities)&&-1!==(n=t.indexOf(i.detail.el))&&t.splice(n,1)},i.sceneEl.addEventListener("child-detached",this.childDetachHandler)},onButtonDown:function(){this.active=!0},onButtonUp:function(){var t=new THREE.Vector3,e=new THREE.Vector3,i=[new THREE.Vector3,new THREE.Vector3],n=new THREE.Vector3;return function(r){if(this.active&&(this.active=!1,this.hitEntity.setAttribute("visible",!1),this.teleportEntity.setAttribute("visible",!1),this.hit)){var o=this.data.cameraRig||this.el.sceneEl.camera.el;o.object3D.getWorldPosition(this.rigWorldPosition),this.newRigWorldPosition.copy(this.hitPoint);var a=this.data.teleportOrigin;if(a&&(a.object3D.getWorldPosition(t),this.newRigWorldPosition.sub(t).add(this.rigWorldPosition)),this.newRigWorldPosition.y=this.rigWorldPosition.y+this.hitPoint.y-this.prevHitHeight,this.prevHitHeight=this.hitPoint.y,e.copy(this.newRigWorldPosition),o.object3D.parent&&o.object3D.parent.worldToLocal(e),o.setAttribute("position",e),!this.data.cameraRig)for(var s=document.querySelectorAll("a-entity[tracked-controls]"),u=0;u<s.length;u++)s[u].object3D.getWorldPosition(n),i[u].copy(this.newRigWorldPosition).sub(this.rigWorldPosition).add(n),s[u].setAttribute("position",i[u]);this.el.emit("teleported",this.teleportEventDetail)}}}(),checkMeshCollisions:function(t,e){var i=this.collisionEntities.map(function(t){return t.getObject3D("mesh")}).filter(function(t){return t});i=i.length?i:[this.defaultPlane];var n=this.raycaster.intersectObjects(i,!0);if(n.length>0&&!this.hit&&this.isValidNormalsAngle(n[0].face.normal)){var r=n[0].point;this.line.material.color.set(this.curveHitColor),this.hitEntity.setAttribute("position",r),this.hitEntity.setAttribute("visible",!0),this.hit=!0,this.hitPoint.copy(n[0].point);for(var o=t;o<this.line.numPoints;o++)this.line.setPoint(o,this.hitPoint);return!0}return this.line.setPoint(t,e),!1},isValidNormalsAngle:function(t){var e=this.referenceNormal.angleTo(t);return THREE.Math.RAD2DEG*e<=this.data.landingMaxAngle}})},function(t,e){t.exports="url(data:image/png;base64,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)"},function(t,e){function i(t,e,i,n){return t+e*n+.5*i*n*n}function n(t,e,n,r,o){return o.x=i(t.x,e.x,n.x,r),o.y=i(t.y,e.y,n.y,r),o.z=i(t.z,e.z,n.z,r),o}t.exports=n},function(t,e){var i=function(t,e){this.geometry=new THREE.BufferGeometry,this.vertices=new Float32Array(3*t*2),this.uvs=new Float32Array(2*t*2),this.width=e,this.geometry.addAttribute("position",new THREE.BufferAttribute(this.vertices,3).setDynamic(!0)),this.material=new THREE.MeshBasicMaterial({side:THREE.DoubleSide,color:16711680}),this.mesh=new THREE.Mesh(this.geometry,this.material),this.mesh.drawMode=THREE.TriangleStripDrawMode,this.mesh.frustumCulled=!1,this.mesh.vertices=this.vertices,this.direction=new THREE.Vector3,this.numPoints=t};i.prototype={setDirection:function(t){var e=new THREE.Vector3(0,1,0);this.direction.copy(t).cross(e).normalize().multiplyScalar(this.width/2)},setWidth:function(t){this.width=t},setPoint:function(){var t=new THREE.Vector3,e=new THREE.Vector3;return function(i,n){t.copy(n).add(this.direction),e.copy(n).sub(this.direction);var r=6*i;this.vertices[r++]=t.x,this.vertices[r++]=t.y,this.vertices[r++]=t.z,this.vertices[r++]=e.x,this.vertices[r++]=e.y,this.vertices[r++]=e.z,this.geometry.attributes.position.needsUpdate=!0}}()},t.exports=i}])},function(t,e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e){var i=AFRAME.utils.debug,r=AFRAME.utils.coordinates,o=i("components:look-at:warn"),a=r.isCoordinates;delete AFRAME.components["look-at"],AFRAME.registerComponent("look-at",{schema:{default:"",parse:function(t){return a(t)||"object"==(void 0===t?"undefined":n(t))?r.parse(t):t},stringify:function(t){return"object"==(void 0===t?"undefined":n(t))?r.stringify(t):t}},init:function(){this.target3D=null,this.vector=new THREE.Vector3},update:function(){var t,e=this,i=e.data,r=e.el.object3D;return!i||"object"==(void 0===i?"undefined":n(i))&&!Object.keys(i).length?e.remove():"object"==(void 0===i?"undefined":n(i))?r.lookAt(new THREE.Vector3(i.x,i.y,i.z)):(t=e.el.sceneEl.querySelector(i),t?t.hasLoaded?e.beginTracking(t):t.addEventListener("loaded",function(){e.beginTracking(t)}):void o('"'+i+'" does not point to a valid entity to look-at'))},tick:function(t){var e=this.target3D;if(e)return this.el.object3D.lookAt(this.vector.setFromMatrixPosition(e.matrixWorld))},beginTracking:function(t){this.target3D=t.object3D}})}])},function(t,e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){function r(t,e){return{status:"error",src:e,message:t,timestamp:Date.now()}}var o="function"==typeof Symbol&&"symbol"==n(Symbol.iterator)?function(t){return void 0===t?"undefined":n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":void 0===t?"undefined":n(t)},a=i(1);if("undefined"==typeof AFRAME)throw"Component attempted to register before AFRAME was available.";var s=AFRAME.utils.srcLoader.parseUrl,u=AFRAME.utils.debug;u.enable("shader:gif:warn");var l=u("shader:gif:warn"),c=u("shader:gif:debug"),d={};AFRAME.registerShader("gif",{schema:{color:{type:"color"},fog:{default:!0},src:{default:null},autoplay:{default:!0}},init:function(t){return c("init",t),c(this.el.components),this.__cnv=document.createElement("canvas"),this.__cnv.width=2,this.__cnv.height=2,this.__ctx=this.__cnv.getContext("2d"),this.__texture=new THREE.Texture(this.__cnv),this.__material={},this.__reset(),this.material=new THREE.MeshBasicMaterial({map:this.__texture}),this.el.sceneEl.addBehavior(this),this.__addPublicFunctions(),this.material},update:function(t){return c("update",t),this.__updateMaterial(t),this.__updateTexture(t),this.material},tick:function(t){this.__frames&&!this.paused()&&Date.now()-this.__startTime>=this.__nextFrameTime&&this.nextFrame()},__updateMaterial:function(t){var e=this.material,i=this.__getMaterialData(t);Object.keys(i).forEach(function(t){e[t]=i[t]})},__getMaterialData:function(t){return{fog:t.fog,color:new THREE.Color(t.color)}},__setTexure:function(t){c("__setTexure",t),"error"===t.status?(l("Error: "+t.message+"\nsrc: "+t.src),this.__reset()):"success"===t.status&&t.src!==this.__textureSrc&&(this.__reset(),this.__ready(t))},__updateTexture:function(t){var e=t.src,i=t.autoplay;"boolean"==typeof i?this.__autoplay=i:void 0===i&&(this.__autoplay=!0),this.__autoplay&&this.__frames&&this.play(),e?this.__validateSrc(e,this.__setTexure.bind(this)):this.__reset()},__validateSrc:function(t,e){var i=s(t);if(i)return void this.__getImageSrc(i,e);var n=void 0,a=this.__validateAndGetQuerySelector(t);if(a&&"object"===(void 0===a?"undefined":o(a))){if(a.error)n=a.error;else{var u=a.tagName.toLowerCase();if("video"===u)t=a.src,n="For video, please use `aframe-video-shader`";else{if("img"===u)return void this.__getImageSrc(a.src,e);n="For <"+u+"> element, please use `aframe-html-shader`"}}n&&function(){var i=d[t],o=r(n,t);i&&i.callbacks?i.callbacks.forEach(function(t){return t(o)}):e(o),d[t]=o}()}},__getImageSrc:function(t,e){function i(e){var i=r(e,t);o.callbacks&&(o.callbacks.forEach(function(t){return t(i)}),d[t]=i)}var n=this;if(t!==this.__textureSrc){var o=d[t];if(o&&o.callbacks){if(o.src)return void e(o);if(o.callbacks)return void o.callbacks.push(e)}else o=d[t]={callbacks:[]},o.callbacks.push(e);var s=new Image;s.crossOrigin="Anonymous",s.addEventListener("load",function(e){n.__getUnit8Array(t,function(e){return e?void(0,a.parseGIF)(e,function(e,i,n){var r={status:"success",src:t,times:e,cnt:i,frames:n,timestamp:Date.now()};o.callbacks&&(o.callbacks.forEach(function(t){return t(r)}),d[t]=r)},function(t){return i(t)}):void i("This is not gif. Please use `shader:flat` instead")})}),s.addEventListener("error",function(t){return i("Could be the following issue\n - Not Image\n - Not Found\n - Server Error\n - Cross-Origin Issue")}),s.src=t}},__getUnit8Array:function(t,e){if("function"==typeof e){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="arraybuffer",i.addEventListener("load",function(t){for(var i=new Uint8Array(t.target.response),n=i.subarray(0,4),r="",o=0;o<n.length;o++)r+=n[o].toString(16);"47494638"===r?e(i):e()}),i.addEventListener("error",function(t){c(t),e()}),i.send()}},__validateAndGetQuerySelector:function(t){try{var e=document.querySelector(t);return e||{error:"No element was found matching the selector"}}catch(t){return{error:"no valid selector"}}},__addPublicFunctions:function(){this.el.gif={play:this.play.bind(this),pause:this.pause.bind(this),togglePlayback:this.togglePlayback.bind(this),paused:this.paused.bind(this),nextFrame:this.nextFrame.bind(this)}},pause:function(){c("pause"),this.__paused=!0},play:function(){c("play"),this.__paused=!1},togglePlayback:function(){this.paused()?this.play():this.pause()},paused:function(){return this.__paused},nextFrame:function(){for(this.__draw();Date.now()-this.__startTime>=this.__nextFrameTime;)this.__nextFrameTime+=this.__delayTimes[this.__frameIdx++],(this.__infinity||this.__loopCnt)&&this.__frameCnt<=this.__frameIdx&&(this.__frameIdx=0)},__clearCanvas:function(){this.__ctx.clearRect(0,0,this.__width,this.__height),this.__texture.needsUpdate=!0},__draw:function(){this.__ctx.drawImage(this.__frames[this.__frameIdx],0,0,this.__width,this.__height),this.__texture.needsUpdate=!0},__ready:function(t){var e=t.src,i=t.times,n=t.cnt,r=t.frames;c("__ready"),this.__textureSrc=e,this.__delayTimes=i,n?this.__loopCnt=n:this.__infinity=!0,this.__frames=r,this.__frameCnt=i.length,this.__startTime=Date.now(),this.__width=THREE.Math.nearestPowerOfTwo(r[0].width),this.__height=THREE.Math.nearestPowerOfTwo(r[0].height),this.__cnv.width=this.__width,this.__cnv.height=this.__height,this.__draw(),this.__autoplay?this.play():this.pause()},__reset:function(){this.pause(),this.__clearCanvas(),this.__startTime=0,this.__nextFrameTime=0,this.__frameIdx=0,this.__frameCnt=0,this.__delayTimes=null,this.__infinity=!1,this.__loopCnt=0,this.__frames=null,this.__textureSrc=null}})},function(t,e){e.parseGIF=function(t,e,i){var n=0,r=[],o=0,a=null,s=[],u=0;if(71===t[0]&&73===t[1]&&70===t[2]&&56===t[3]&&57===t[4]&&97===t[5]){n+=+!!(128&t[10])*Math.pow(2,1+(7&t[10]))*3+13;for(var l=t.subarray(0,n);t[n]&&59!==t[n];){var c=n,d=t[n];if(33===d){var h=t[++n];if(-1===[1,254,249,255].indexOf(h)){i&&i("parseGIF: unknown label");break}for(249===h&&r.push(10*(t[n+3]+(t[n+4]<<8))),255===h&&(u=t[n+15]+(t[n+16]<<8));t[++n];)n+=t[n];249===h&&(a=t.subarray(c,n+1))}else{if(44!==d){i&&i("parseGIF: unknown blockId");break}for(n+=9,n+=+!!(128&t[n])*(3*Math.pow(2,1+(7&t[n])))+1;t[++n];)n+=t[n];t.subarray(c,n+1),s.push(URL.createObjectURL(new Blob([l,a,null])))}n++}}else i&&i("parseGIF: no GIF89a");if(s.length){var f=document.createElement("canvas"),p=function t(i){var n=new Image;n.onload=function(i,n){o++,s[n]=this,o===s.length?(f=null,e&&e(r,u,s)):t(++n)}.bind(n),n.src=f.toDataURL("image/gif")};!function(){s.forEach(function(t,e){var i=new Image;i.onload=function(t,e){0===e&&(f.width=i.width,f.height=i.height),o++,s[e]=this,o===s.length&&(o=0,p(1))}.bind(i,null,e),i.src=t})}()}}}])},function(t,e,i){"use strict";!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){function n(t,e){var i,n,r,o;return r=e.split("."),n=r[0],o=r[1],i=t.components[n]||AFRAME.components[n],i?o&&!i.schema[o]?null:o?i.schema[o].type:i.schema.type:null}function r(t){t.x=THREE.Math.degToRad(t.x),t.y=THREE.Math.degToRad(t.y),t.z=THREE.Math.degToRad(t.z)}function o(t,e,i){var n;for(n=0;n<e.length;n++)t.addEventListener(e[n],i)}function a(t,e,i){var n;for(n=0;n<e.length;n++)t.removeEventListener(e[n],i)}function s(t,e){var i,n,r;for(n=l(e),r=t,i=0;i<n.length;i++)r=r[n[i]];return r}function u(t,e,i,n){var r,o,a,s;for(o=l(e),s=t,r=0;r<o.length-1;r++)s=s[o[r]];return a=o[o.length-1],n===v?void("r"in s[a]?(s[a].r=i.r,s[a].g=i.g,s[a].b=i.b):(s[a].x=i.r,s[a].y=i.g,s[a].z=i.b)):void(s[a]=i)}function l(t){return t in g?g[t]:(g[t]=t.split("."),g[t])}function c(t){return t.isRawProperty||t.property.startsWith(A)||t.property.startsWith(E)}var d=i(1);if(AFRAME.anime=d,"undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");var h=new THREE.Color,f=new THREE.Color,p=AFRAME.utils,m=p.entity.getComponentProperty,y=p.entity.setComponentProperty,g={},v="color",b="rotation",A="components",E="object3D";AFRAME.registerComponent("animation",{schema:{autoplay:{default:!0},delay:{default:0},dir:{default:""},dur:{default:1e3},easing:{default:"easeInQuad"},elasticity:{default:400},from:{default:""},loop:{default:0,parse:function(t){return!0===t||"true"===t||!1!==t&&"false"!==t&&parseInt(t,10)}},property:{default:""},startEvents:{type:"array"},pauseEvents:{type:"array"},resumeEvents:{type:"array"},to:{default:""},type:{default:""},isRawProperty:{default:!1}},multiple:!0,init:function(){var t=this;this.eventDetail={name:this.attrName},this.time=0,this.animation=null,this.animationIsPlaying=!1,this.onStartEvent=this.onStartEvent.bind(this),this.beginAnimation=this.beginAnimation.bind(this),this.pauseAnimation=this.pauseAnimation.bind(this),this.resumeAnimation=this.resumeAnimation.bind(this),this.fromColor={},this.toColor={},this.targets={},this.targetsArray=[],this.config={complete:function(){t.animationIsPlaying=!1,t.el.emit("animationcomplete",t.eventDetail)}}},update:function(){var t=this.config,e=this.data;this.animationIsPlaying=!1,e.property&&(t.autoplay=!1,t.direction=e.dir,t.duration=e.dur,t.easing=e.easing,t.elasticity=e.elasticity,t.loop=e.loop,this.createAndStartAnimation())},tick:function(t,e){this.animationIsPlaying&&(this.time+=e,this.animation.tick(this.time))},remove:function(){this.pauseAnimation(),this.removeEventListeners()},pause:function(){this.paused=!0,this.pausedWasPlaying=!0,this.pauseAnimation(),this.removeEventListeners()},play:function(){this.paused&&(this.paused=!1,this.addEventListeners(),this.pausedWasPlaying&&(this.resumeAnimation(),this.pausedWasPlaying=!1))},createAndStartAnimation:function(){var t=this.data;if(this.updateConfig(),this.animationIsPlaying=!1,this.animation=d(this.config),this.removeEventListeners(),this.addEventListeners(),!(!t.autoplay||t.startEvents&&t.startEvents.length))return t.delay?void setTimeout(this.beginAnimation,t.delay):void this.beginAnimation()},beginAnimation:function(){this.updateConfig(),this.time=0,this.animation.seek(0),this.animationIsPlaying=!0,this.stopRelatedAnimations(),this.el.emit("animationbegin",this.eventDetail)},pauseAnimation:function(){this.animationIsPlaying=!1},resumeAnimation:function(){this.animationIsPlaying=!0},onStartEvent:function(){return this.data.delay?void setTimeout(this.beginAnimation,this.data.delay):void this.beginAnimation()},updateConfigForRawColor:function(){var t,e,i,n=this.config,r=this.data,o=this.el;t=r.from||s(o,r.property),i=r.to,this.setColorConfig(t,i),t=this.fromColor,i=this.toColor,this.targetsArray.length=0,this.targetsArray.push(t),n.targets=this.targetsArray;for(e in i)n[e]=i[e];n.update=function(){var e={};return e.r=t.r,e.g=t.g,e.b=t.b,function(t){var i;i=t.animatables[0].target,i.r===e.r&&i.g===e.g&&i.b===e.b||u(o,r.property,i,r.type)}}()},updateConfigForDefault:function(){var t,e,i,n,r=this.config,o=this.data,a=this.el;t=o.from||(c(o)?s(a,o.property):m(a,o.property)),n=o.to,i=!isNaN(t||n),i?(t=parseFloat(t),n=parseFloat(n)):(t=t?t.toString():t,n=n?n.toString():n),e="true"===n||"false"===n,e&&(t="true"===o.from?1:0,n="true"===o.to?1:0),this.targets.aframeProperty=t,r.targets=this.targets,r.aframeProperty=n,r.update=function(){var i=t;return function(t){var n;(n=t.animatables[0].target.aframeProperty)!==i&&(i=n,e&&(n=n>=1),c(o)?u(a,o.property,n,o.type):y(a,o.property,n))}}()},updateConfigForVector:function(){var t,e,i,n=this.config,o=this.data,a=this.el;e=o.from?AFRAME.utils.coordinates.parse(o.from):m(a,o.property),i=AFRAME.utils.coordinates.parse(o.to),o.property===b&&(r(e),r(i)),this.targetsArray.length=0,this.targetsArray.push(e),n.targets=this.targetsArray;for(t in i)n[t]=i[t];return"position"===o.property||o.property===b||"scale"===o.property?void(n.update=function(){var t={};return t.x=e.x,t.y=e.y,t.z=e.z,function(e){var i=e.animatables[0].target;i.x===t.x&&i.y===t.y&&i.z===t.z||(t.x=i.x,t.y=i.y,t.z=i.z,a.object3D[o.property].set(i.x,i.y,i.z))}}()):void(n.update=function(){var t={};return t.x=e.x,t.y=e.y,t.z=e.z,function(e){var i=e.animations[0].target;i.x===t.x&&i.y===t.y&&i.z===t.z||(t.x=i.x,t.y=i.y,t.z=i.z,y(a,o.property,i))}}())},updateConfig:function(){var t;t=n(this.el,this.data.property),c(this.data)&&this.data.type===v?this.updateConfigForRawColor():"vec2"===t||"vec3"===t||"vec4"===t?this.updateConfigForVector():this.updateConfigForDefault()},stopRelatedAnimations:function(){var t,e;for(e in this.el.components)t=this.el.components[e],e!==this.attrName&&"animation"===t.name&&t.data.property===this.data.property&&(t.animationIsPlaying=!1)},addEventListeners:function(){var t=this.data,e=this.el;o(e,t.startEvents,this.onStartEvent),o(e,t.pauseEvents,this.pauseAnimation),o(e,t.resumeEvents,this.resumeAnimation)},removeEventListeners:function(){var t=this.data,e=this.el;a(e,t.startEvents,this.onStartEvent),a(e,t.pauseEvents,this.pauseAnimation),a(e,t.resumeEvents,this.resumeAnimation)},setColorConfig:function(t,e){h.set(t),f.set(e),t=this.fromColor,e=this.toColor,t.r=h.r,t.g=h.g,t.b=h.b,e.r=f.r,e.g=f.g,e.b=f.b}})},function(t,e,i){var n,r,o;(function(i){var a={scope:{}};a.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,i){if(i.get||i.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=i.value)},a.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:void 0!==i&&null!=i?i:t},a.global=a.getGlobal(this),a.SYMBOL_PREFIX="jscomp_symbol_",a.initSymbol=function(){a.initSymbol=function(){},a.global.Symbol||(a.global.Symbol=a.Symbol)},a.symbolCounter_=0,a.Symbol=function(t){return a.SYMBOL_PREFIX+(t||"")+a.symbolCounter_++},a.initSymbolIterator=function(){a.initSymbol();var t=a.global.Symbol.iterator;t||(t=a.global.Symbol.iterator=a.global.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&a.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return a.arrayIterator(this)}}),a.initSymbolIterator=function(){}},a.arrayIterator=function(t){var e=0;return a.iteratorPrototype(function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}})},a.iteratorPrototype=function(t){return a.initSymbolIterator(),t={next:t},t[a.global.Symbol.iterator]=function(){return this},t},a.array=a.array||{},a.iteratorFromArray=function(t,e){a.initSymbolIterator(),t instanceof String&&(t+="");var i=0,n={next:function(){if(i<t.length){var r=i++;return{value:e(r,t[r]),done:!1}}return n.next=function(){return{done:!0,value:void 0}},n.next()}};return n[Symbol.iterator]=function(){return n},n},a.polyfill=function(t,e,i,n){if(e){for(i=a.global,t=t.split("."),n=0;n<t.length-1;n++){var r=t[n];r in i||(i[r]={}),i=i[r]}t=t[t.length-1],n=i[t],(e=e(n))!=n&&null!=e&&a.defineProperty(i,t,{configurable:!0,writable:!0,value:e})}},a.polyfill("Array.prototype.keys",function(t){return t||function(){return a.iteratorFromArray(this,function(t){return t})}},"es6-impl","es3");var s=this;!function(i,a){r=[],n=a,void 0!==(o="function"==typeof n?n.apply(e,r):n)&&(t.exports=o)}(0,function(){function t(t){if(!N.col(t))try{return document.querySelectorAll(t)}catch(t){}}function e(t,e){for(var i=t.length,n=2<=arguments.length?arguments[1]:void 0,r=[],o=0;o<i;o++)if(o in t){var a=t[o];e.call(n,a,o,t)&&r.push(a)}return r}function i(t){return t.reduce(function(t,e){return t.concat(N.arr(e)?i(e):e)},[])}function n(e){return N.arr(e)?e:(N.str(e)&&(e=t(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function r(t,e){return t.some(function(t){return t===e})}function o(t){var e,i={};for(e in t)i[e]=t[e];return i}function a(t,e){var i,n=o(t);for(i in t)n[i]=e.hasOwnProperty(i)?e[i]:t[i];return n}function u(t,e){var i,n=o(t);for(i in e)n[i]=N.und(t[i])?e[i]:t[i];return n}function l(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,n){return e+e+i+i+n+n});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);t=parseInt(e[1],16);var i=parseInt(e[2],16),e=parseInt(e[3],16);return"rgba("+t+","+i+","+e+",1)"}function c(t){function e(t,e,i){return 0>i&&(i+=1),1<i&&--i,i<1/6?t+6*(e-t)*i:.5>i?e:i<2/3?t+(e-t)*(2/3-i)*6:t}var i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t);t=parseInt(i[1])/360;var n=parseInt(i[2])/100,r=parseInt(i[3])/100,i=i[4]||1;if(0==n)r=n=t=r;else{var o=.5>r?r*(1+n):r+n-r*n,a=2*r-o,r=e(a,o,t+1/3),n=e(a,o,t);t=e(a,o,t-1/3)}return"rgba("+255*r+","+255*n+","+255*t+","+i+")"}function d(t){if(t=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t))return t[2]}function h(t){return-1<t.indexOf("translate")||"perspective"===t?"px":-1<t.indexOf("rotate")||-1<t.indexOf("skew")?"deg":void 0}function f(t,e){return N.fnc(t)?t(e.target,e.id,e.total):t}function p(t,e){if(e in t.style)return getComputedStyle(t).getPropertyValue(e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function m(t,e){return N.dom(t)&&r(D,e)?"transform":N.dom(t)&&(t.getAttribute(e)||N.svg(t)&&t[e])?"attribute":N.dom(t)&&"transform"!==e&&p(t,e)?"css":null!=t[e]?"object":void 0}function y(t,i){var n=h(i),n=-1<i.indexOf("scale")?1:0+n;if(!(t=t.style.transform))return n;for(var r=[],o=[],a=[],s=/(\w+)\((.+?)\)/g;r=s.exec(t);)o.push(r[1]),a.push(r[2]);return t=e(a,function(t,e){return o[e]===i}),t.length?t[0]:n}function g(t,e){switch(m(t,e)){case"transform":return y(t,e);case"css":return p(t,e);case"attribute":return t.getAttribute(e)}return t[e]||0}function v(t,e){var i=/^(\*=|\+=|-=)/.exec(t);if(!i)return t;var n=d(t)||0;switch(e=parseFloat(e),t=parseFloat(t.replace(i[0],"")),i[0][0]){case"+":return e+t+n;case"-":return e-t+n;case"*":return e*t+n}}function b(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function A(t){t=t.points;for(var e,i=0,n=0;n<t.numberOfItems;n++){var r=t.getItem(n);0<n&&(i+=b(e,r)),e=r}return i}function E(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return 2*Math.PI*t.getAttribute("r");case"rect":return 2*t.getAttribute("width")+2*t.getAttribute("height");case"line":return b({x:t.getAttribute("x1"),y:t.getAttribute("y1")},{x:t.getAttribute("x2"),y:t.getAttribute("y2")});case"polyline":return A(t);case"polygon":var e=t.points;return A(t)+b(e.getItem(e.numberOfItems-1),e.getItem(0))}}function w(t,e){function i(i){return i=void 0===i?0:i,t.el.getPointAtLength(1<=e+i?e+i:0)}var n=i(),r=i(-1),o=i(1);switch(t.property){case"x":return n.x;case"y":return n.y;case"angle":return 180*Math.atan2(o.y-r.y,o.x-r.x)/Math.PI}}function _(t,e){var i,n=/-?\d*\.?\d+/g;if(i=N.pth(t)?t.totalLength:t,N.col(i))if(N.rgb(i)){var r=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(i);i=r?"rgba("+r[1]+",1)":i}else i=N.hex(i)?l(i):N.hsl(i)?c(i):void 0;else r=(r=d(i))?i.substr(0,i.length-r.length):i,i=e&&!/\s/g.test(i)?r+e:r;return i+="",{original:i,numbers:i.match(n)?i.match(n).map(Number):[0],strings:N.str(t)||e?i.split(n):[]}}function x(t){return t=t?i(N.arr(t)?t.map(n):n(t)):[],e(t,function(t,e,i){return i.indexOf(t)===e})}function C(t){var e=x(t);return e.map(function(t,i){return{target:t,id:i,total:e.length}})}function R(t,e){var i=o(e);if(N.arr(t)){var r=t.length;2!==r||N.obj(t[0])?N.fnc(e.duration)||(i.duration=e.duration/r):t={value:t}}return n(t).map(function(t,i){return i=i?0:e.delay,t=N.obj(t)&&!N.pth(t)?t:{value:t},N.und(t.delay)&&(t.delay=i),t}).map(function(t){return u(t,i)})}function T(t,e){var i,n={};for(i in t){var r=f(t[i],e);N.arr(r)&&(r=r.map(function(t){return f(t,e)}),1===r.length&&(r=r[0])),n[i]=r}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}function S(t){return N.arr(t)?V.apply(this,t):j[t]}function M(t,e){var i;return t.tweens.map(function(n){n=T(n,e);var r=n.value,o=g(e.target,t.name),a=i?i.to.original:o,a=N.arr(r)?r[0]:a,s=v(N.arr(r)?r[1]:r,a),o=d(s)||d(a)||d(o);return n.from=_(a,o),n.to=_(s,o),n.start=i?i.end:t.offset,n.end=n.start+n.delay+n.duration,n.easing=S(n.easing),n.elasticity=(1e3-Math.min(Math.max(n.elasticity,1),999))/1e3,n.isPath=N.pth(r),n.isColor=N.col(n.from.original),n.isColor&&(n.round=1),i=n})}function I(t,n){return e(i(t.map(function(t){return n.map(function(e){var i=m(t.target,e.name);if(i){var n=M(e,t);e={type:i,property:e.name,animatable:t,tweens:n,duration:n[n.length-1].end,delay:n[0].delay}}else e=void 0;return e})})),function(t){return!N.und(t)})}function k(t,e,i,n){var r="delay"===t;return e.length?(r?Math.min:Math.max).apply(Math,e.map(function(e){return e[t]})):r?n.delay:i.offset+n.delay+n.duration}function P(t){var e,i=a(H,t),n=a(O,t),r=C(t.targets),o=[],s=u(i,n);for(e in t)s.hasOwnProperty(e)||"targets"===e||o.push({name:e,offset:s.offset,tweens:R(t[e],n)});return t=I(r,o),u(i,{children:[],animatables:r,animations:t,duration:k("duration",t,i,n),delay:k("delay",t,i,n)})}function F(t){function i(){return window.Promise&&new Promise(function(t){return d=t})}function n(t){return f.reversed?f.duration-t:t}function r(t){for(var i=0,n={},r=f.animations,o=r.length;i<o;){var a=r[i],s=a.animatable,u=a.tweens,l=u.length-1,c=u[l];l&&(c=e(u,function(e){return t<e.end})[0]||c);for(var u=Math.min(Math.max(t-c.start-c.delay,0),c.duration)/c.duration,d=isNaN(u)?1:c.easing(u,c.elasticity),u=c.to.strings,h=c.round,l=[],m=void 0,m=c.to.numbers.length,y=0;y<m;y++){var g=void 0,g=c.to.numbers[y],v=c.from.numbers[y],g=c.isPath?w(c.value,d*g):v+d*(g-v);h&&(c.isColor&&2<y||(g=Math.round(g*h)/h)),l.push(g)}if(c=u.length)for(m=u[0],d=0;d<c;d++)h=u[d+1],y=l[d],isNaN(y)||(m=h?m+(y+h):m+(y+" "));else m=l[0];z[a.type](s.target,a.property,m,n,s.id),a.currentValue=m,i++}if(i=Object.keys(n).length)for(r=0;r<i;r++)L||(L=p(document.body,"transform")?"transform":"-webkit-transform"),f.animatables[r].target.style[L]=n[r].join(" ");f.currentTime=t,f.progress=t/f.duration*100}function o(t){f[t]&&f[t](f)}function a(){f.remaining&&!0!==f.remaining&&f.remaining--}function s(t){var e=f.duration,s=f.offset,p=s+f.delay,m=f.currentTime,y=f.reversed,g=n(t);if(f.children.length){var v=f.children,b=v.length;if(g>=f.currentTime)for(var A=0;A<b;A++)v[A].seek(g);else for(;b--;)v[b].seek(g)}(g>=p||!e)&&(f.began||(f.began=!0,o("begin")),o("run")),g>s&&g<e?r(g):(g<=s&&0!==m&&(r(0),y&&a()),(g>=e&&m!==e||!e)&&(r(e),y||a())),o("update"),t>=e&&(f.remaining?(l=u,"alternate"===f.direction&&(f.reversed=!f.reversed)):(f.pause(),f.completed||(f.completed=!0,o("complete"),"Promise"in window&&(d(),h=i()))),c=0)}t=void 0===t?{}:t;var u,l,c=0,d=null,h=i(),f=P(t);return f.reset=function(){var t=f.direction,e=f.loop;for(f.currentTime=0,f.progress=0,f.paused=!0,f.began=!1,f.completed=!1,f.reversed="reverse"===t,f.remaining="alternate"===t&&1===e?2:e,r(0),t=f.children.length;t--;)f.children[t].reset()},f.tick=function(t){u=t,l||(l=u),s((c+u-l)*F.speed)},f.seek=function(t){s(n(t))},f.pause=function(){var t=B.indexOf(f);-1<t&&B.splice(t,1),f.paused=!0},f.play=function(){f.paused&&(f.paused=!1,l=0,c=n(f.currentTime),B.push(f),W||G())},f.reverse=function(){f.reversed=!f.reversed,l=0,c=n(f.currentTime)},f.restart=function(){f.pause(),f.reset(),f.play()},f.finished=h,f.reset(),f.autoplay&&f.play(),f}var L,H={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},O={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},D="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),N={arr:function(t){return Array.isArray(t)},obj:function(t){return-1<Object.prototype.toString.call(t).indexOf("Object")},pth:function(t){return N.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},dom:function(t){return t.nodeType||N.svg(t)},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return N.hex(t)||N.rgb(t)||N.hsl(t)}},V=function(){function t(t,e,i){return(((1-3*i+3*e)*t+(3*i-6*e))*t+3*e)*t}return function(e,i,n,r){if(0<=e&&1>=e&&0<=n&&1>=n){var o=new Float32Array(11);if(e!==i||n!==r)for(var a=0;11>a;++a)o[a]=t(.1*a,e,n);return function(a){if(e===i&&n===r)return a;if(0===a)return 0;if(1===a)return 1;for(var s=0,u=1;10!==u&&o[u]<=a;++u)s+=.1;--u;var u=s+(a-o[u])/(o[u+1]-o[u])*.1,l=3*(1-3*n+3*e)*u*u+2*(3*n-6*e)*u+3*e;if(.001<=l){for(s=0;4>s&&0!==(l=3*(1-3*n+3*e)*u*u+2*(3*n-6*e)*u+3*e);++s)var c=t(u,e,n)-a,u=u-c/l;a=u}else if(0===l)a=u;else{var u=s,s=s+.1,d=0;do{c=u+(s-u)/2,l=t(c,e,n)-a,0<l?s=c:u=c}while(1e-7<Math.abs(l)&&10>++d);a=c}return t(a,i,r)}}}}(),j=function(){function t(t,e){return 0===t||1===t?t:-Math.pow(2,10*(t-1))*Math.sin(2*(t-1-e/(2*Math.PI)*Math.asin(1))*Math.PI/e)}var e,i="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),n={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],t],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(e,i){return 1-t(1-e,i)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(e,i){return.5>e?t(2*e,i)/2:1-t(-2*e+2,i)/2}]},r={linear:V(.25,.25,.75,.75)},o={};for(e in n)o.type=e,n[o.type].forEach(function(t){return function(e,n){r["ease"+t.type+i[n]]=N.fnc(e)?e:V.apply(s,e)}}(o)),o={type:o.type};return r}(),z={css:function(t,e,i){return t.style[e]=i},attribute:function(t,e,i){return t.setAttribute(e,i)},object:function(t,e,i){return t[e]=i},transform:function(t,e,i,n,r){n[r]||(n[r]=[]),n[r].push(e+"("+i+")")}},B=[],W=0,G=function(){function t(){W=requestAnimationFrame(e)}function e(e){var i=B.length;if(i){for(var n=0;n<i;)B[n]&&B[n].tick(e),n++;t()}else cancelAnimationFrame(W),W=0}return t}();return F.version="2.2.0",F.speed=1,F.running=B,F.remove=function(t){t=x(t);for(var e=B.length;e--;)for(var i=B[e],n=i.animations,o=n.length;o--;)r(t,n[o].animatable.target)&&(n.splice(o,1),n.length||i.pause())},F.getValue=g,F.path=function(e,i){var n=N.str(e)?t(e)[0]:e,r=i||100;return function(t){return{el:n,property:t,totalLength:E(n)*(r/100)}}},F.setDashoffset=function(t){var e=E(t);return t.setAttribute("stroke-dasharray",e),e},F.bezier=V,F.easings=j,F.timeline=function(t){var e=F(t);return e.pause(),e.duration=0,e.add=function(i){return e.children.forEach(function(t){t.began=!0,t.completed=!0}),n(i).forEach(function(i){var n=u(i,a(O,t||{}));n.targets=n.targets||t.targets,i=e.duration;var r=n.offset;n.autoplay=!1,n.direction=e.direction,n.offset=N.und(r)?i:v(r,i),e.began=!0,e.completed=!0,e.seek(n.offset),n=F(n),n.began=!0,n.completed=!0,n.duration>i&&(e.duration=n.duration),e.children.push(n)}),e.seek(0),e.reset(),e.autoplay&&e.restart(),e},e},F.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},F})}).call(e,function(){return this}())}])},function(t,e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};e.m=t,e.c=i,e.p="",e(0)}([function(t,e){function i(t){var e,i={};for(e in t)"function"==typeof t[e]?i[e]=t[e]:"object"==n(t[e])?i[e]=AFRAME.utils.clone(t[e]):i[e]=t[e];return i}document.registerElement("a-timeline"),document.registerElement("a-timeline-group"),document.registerElement("a-timeline-animation"),AFRAME.registerComponent("animation-timeline",{schema:{direction:{type:"string",default:"normal"},loop:{default:0,parse:function(t){return"true"===t||"false"!==t&&parseInt(t,10)}},startEvents:{type:"array"},timeline:{type:"string"}},multiple:!0,init:function(){var t,e=this.data;for(this.animationIsPlaying=!1,this.beginAnimation=this.beginAnimation.bind(this),this.eventDetail={name:this.id},this.time=0,this.timeline=null,t=0;t<e.startEvents.length;t++)this.el.addEventListener(e.startEvents[t],this.beginAnimation)},play:function(){this.data.startEvents.length||this.beginAnimation()},tick:function(t,e){this.animationIsPlaying&&this.timeline&&(this.time+=e,this.timeline.tick(this.time))},beginAnimation:function(){var t,e,i,n,r,o,a,s=this;if(o=document.querySelector(this.data.timeline),"A-TIMELINE"!==o.tagName)throw new Error("[animation-timeline] timeline must be a selector to <a-timeline> element.");for(this.animationIsPlaying=!0,this.time=0,this.timeline=AFRAME.anime.timeline({autoplay:!1,complete:function(){s.el.emit("animationtimelinecomplete",s.eventDetail)},direction:this.data.direction,loop:this.data.loop}),r=0,t=0;t<o.children.length;t++)if("A-TIMELINE-GROUP"!==o.children[t].tagName)"A-TIMELINE-ANIMATION"===o.children[t].tagName&&(r+=this.addAnimationToTimeline(o.children[t],r));else{for(a=o.children[t],n=0,e=0;e<a.children.length;e++)(i=this.addAnimationToTimeline(a.children[e],r))>n&&(n=i);r+=n}},addAnimationToTimeline:function(t,e){var n,r,o,a,s,u,l;if(r="animation__"+t.getAttribute("name"),l=t.getAttribute("select"),s=this.el.sceneEl.querySelectorAll(l),!s.length)return console.warn('[animation-timeline] No entities found for select="'+l+'"'),0;for(n=parseFloat(t.getAttribute("offset")||0,10),u=0;u<s.length;u++){if(!(o=s[u].components[r]))throw new Error("Could not find animation `"+r+"` for `"+t.getAttribute("select")+"`.");o.updateConfig(),a=i(o.config),a.offset=e+n,this.timeline.add(a)}return(a.duration||0)+(a.delay||0)+n}})}])},function(t,e,i){"use strict";if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("teleport-extras",{schema:{cursor:{type:"selector",default:"[cursor]"}},active:!0,init:function(){document.querySelector("a-scene").addEventListener("touchstart",this.startTouch.bind(this)),document.querySelector("a-scene").addEventListener("mousedown",this.startTouch.bind(this)),document.body.addEventListener("keydown",function(t){32==t.keyCode&&this.startTouch()}.bind(this)),document.querySelector("a-scene").addEventListener("touchend",this.endTouch.bind(this)),document.querySelector("a-scene").addEventListener("mouseup",this.endTouch.bind(this)),document.body.addEventListener("keyup",function(t){32==t.keyCode&&this.endTouch()}.bind(this)),this.el.addEventListener("raycaster-intersection",this.onStartIntersection.bind(this)),this.el.addEventListener("raycaster-intersection-cleared",this.onEndIntersection.bind(this))},startTouch:function(){this.active&&this.el.emit("starttouch")},endTouch:function(){this.active&&this.el.emit("endtouch")},onStartIntersection:function(){this.active=!1;var t=this.el.components["teleport-controls"];t.active=!1,t.hitEntity.setAttribute("visible",!1),t.teleportEntity.setAttribute("visible",!1)},onEndIntersection:function(){this.active=!0}})},function(t,e,i){"use strict";if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("toggle-on-event",{schema:{hideOn:{type:"string",default:"raycaster-intersection-cleared"},showOn:{type:"string",default:"raycaster-intersection"},raycasterObject:{type:"selector"}},noIntersections:0,init:function(){this.data.raycasterObject||(this.data.raycasterObject=this.el),this.data.raycasterObject.addEventListener(this.data.showOn,function(){this.noIntersections++,this.toggle()}.bind(this)),this.data.raycasterObject.addEventListener(this.data.hideOn,function(){this.noIntersections--,this.toggle()}.bind(this))},toggle:function(){this.noIntersections=Math.max(this.noIntersections,0),this.el.setAttribute("visible",this.noIntersections>0)}})},function(t,e,i){"use strict";if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("lookatlabel",{init:function(){this.vector=new THREE.Vector3},tick:function(t){var e=this,i=e.el.sceneEl.camera,n=e.el.object3D;if(i)return i.updateMatrixWorld(),this.vector.setFromMatrixPosition(i.matrixWorld),n.parent&&(n.parent.updateMatrixWorld(),n.parent.worldToLocal(this.vector)),n.lookAt(new THREE.Vector3(this.vector.x,n.position.y,this.vector.z))}})},function(t,e,i){"use strict";if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("ui-console",{schema:{product:{type:"string",default:""},rig:{type:"string",default:"#cameraRig"},radius:{type:"number",default:.75},triggered:{type:"boolean",default:!1}},init:function(){var t=this.data,e=this.el,i=document.querySelector(t.rig);this.uiEl=e.object3D.parent,this.rigEl=i.object3D},tick:function(t,e){if(this.data.triggered);else{this.calcDistance(this.uiEl.position.x,this.uiEl.position.z,this.rigEl.position.x,this.rigEl.position.z)<this.data.radius?!1===this.el.getAttribute("visible")&&this.show():!0===this.el.getAttribute("visible")&&this.hide()}},calcDistance:function(t,e,i,n){return Math.sqrt(Math.pow(i-t,2)+Math.pow(n-e,2))},show:function(){this.el.setAttribute("visible","true")},hide:function(){this.el.setAttribute("visible","false")},update:function(t){}})},function(t,e,i){"use strict";if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("checkpointspot",{schema:{radius:{type:"number",default:.45},color:{type:"string",default:"#2d283d"},texture:{type:"string",default:"#centertexture"},rayobj:{type:"string",default:""}},init:function(){var t=this.data,e=this.el;e.setAttribute("geometry","primitive: circle; radius: "+t.radius+";"),e.setAttribute("material","opacity:0.45; color:"+t.color+"; src:"+t.copy+";"),e.setAttribute("rotation","-90 0 0"),e.setAttribute("position","0 0.1 0"),t.rayobj&&e.setAttribute("class",t.rayobj);var i=document.createElement("a-entity");i.setAttribute("geometry","primitive:ring; radiusInner:0.3; radiusOuter:0.4;"),i.setAttribute("material","shader:flat; color:#fff; src:"+t.texture+";"),i.setAttribute("position","0 0 0.05"),i.setAttribute("animation__in","property: geometry.radiusInner; to: 0.5; delay: 0; dur: 500; easing: easeInOutSine; startEvents: in; autoplay: false"),i.setAttribute("animation__in2","property: geometry.radiusOuter; to: 0.55; delay: 0; dur: 500; easing: easeInOutSine; startEvents: in; autoplay: false"),i.setAttribute("animation__in3","property: position; to: 0 0 0; delay: 0; dur: 500; easing: easeInOutSine; startEvents: in; autoplay: false"),i.setAttribute("animation__out","property: geometry.radiusInner; to: 0.3; delay: 0; dur: 200; easing: easeInOutSine; startEvents: out; autoplay: false"),i.setAttribute("animation__out2","property: geometry.radiusOuter; to: 0.4; delay: 0; dur: 200; easing: easeInOutSine; startEvents: out; autoplay: false"),i.setAttribute("animation__out3","property: position; to: 0 0 0.05; delay: 0; dur: 200; easing: easeInOutSine; startEvents: out; autoplay: false"),e.appendChild(i),e.addEventListener("mouseenter",function(){i.emit("in")}),e.addEventListener("mouseleave",function(){i.emit("out")})},play:function(){},update:function(t){}})},function(t,e,i){"use strict";function n(){var t=r;if(console.log("CURRENT_VIDEO: "+r),t.paused){var e=t.play();void 0!==e&&e.then(function(){}).catch(function(t){console.log(t)})}else t.pause()}if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");var r,o=!1;AFRAME.registerComponent("video-controls",{schema:{videoSrcURL:{type:"string"}},init:function(){var t=this.data.videoSrcURL,e=document.querySelector(t);this.el.addEventListener("click",function(t){r=document.querySelector(e.attributes.src.value),console.log("video-controls component CURRENT_VIDEO: "+r,"WATCHING_VIDEO:",o),n()})}}),AFRAME.registerComponent("watching-video",{init:function(){this.el.addEventListener("mouseenter",function(t){o=!0,console.log("WATCHING_VIDEO = true")}),this.el.addEventListener("mouseleave",function(t){o=!1,console.log("WATCHING_VIDEO = false")})}})},function(t,e,i){"use strict";if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("panel",{schema:{width:{type:"number",default:.75},height:{type:"number",default:.5},copy:{type:"string",default:"#panel-chime"}},init:function(){var t=this.data,e=this.el;e.setAttribute("geometry","primitive: plane; height: "+t.height+"; width: "+t.width+";"),e.setAttribute("material","transparent: true; opacity:1; color:#fff; src:"+t.copy+";")},play:function(){},update:function(t){}})},function(t,e,i){"use strict";function n(t){console.log("Bookmarking: ",t.bookmarkedService," for ",t.email),$.ajax({url:r+"/user",type:"GET",dataType:"jsonp",data:t,success:function(t){return t},error:function(t){return console.log("Failed!",t),t}})}var r="https://backend-vonagevrcpev2.herokuapp.com";if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("panelbtn",{schema:{on:{default:"click"},width:{type:"number",default:.75},height:{type:"number",default:.125},toggle:{type:"boolean",default:!1},base:{type:"string",default:"#panel-btn-init"},hover:{type:"string",default:"#panel-btn-hover"},click:{type:"string",default:"#panel-btn-click"},label:{type:"string",default:""},clickAction:{type:"string"},hoversnd:{type:"string",default:"panelhoversound"},clicksnd:{type:"string",default:"panelclicksound"}},init:function(){var t=this.data,e=this.el,i=(this.toggleState=t.toggle,this.opensound=document.getElementById(t.hoversnd)),r=this.coinsound=document.getElementById(t.clicksnd);e.setAttribute("geometry","primitive: box; height: "+t.height+"; width: "+t.width+"; depth:0.01;"),e.setAttribute("material","transparent: true; opacity:0; color:#fff;");var o=document.createElement("a-entity");o.setAttribute("geometry","primitive: plane; height: "+t.height+"; width: "+t.width+";"),o.setAttribute("material","transparent: true; opacity:1; color:#fff; src:"+t.base+";"),o.setAttribute("position","0 0 0.02"),e.appendChild(o);var a=document.createElement("a-entity");a.setAttribute("geometry","primitive: plane; height: "+t.height+"; width: "+t.width+";"),a.setAttribute("material","transparent: true; opacity:1; color:#fff; src:"+t.label+";"),a.setAttribute("position","0 0 0.03"),e.appendChild(a),e.addEventListener("mouseenter",function(){t.toggle||o.setAttribute("material","src",t.hover),o.setAttribute("scale","1.15 1.15 1.15"),a.setAttribute("scale","1.15 1.15 1.15"),i.components.sound.stopSound(),i.components.sound.playSound()}),e.addEventListener("mouseleave",function(){t.toggle||o.setAttribute("material","src",t.base),o.setAttribute("scale","1 1 1"),a.setAttribute("scale","1 1 1")}),e.addEventListener("mousedown",function(){t.toggle?o.setAttribute("material","src",t.hover):o.setAttribute("material","src",t.click)}),e.addEventListener("mouseup",function(){t.toggle?o.setAttribute("material","src",t.click):o.setAttribute("material","src",t.hover)}),e.addEventListener(t.on,function(e){console.log("I was clicked at: ",e.detail.intersection.point),r.components.sound.stopSound(),r.components.sound.playSound();var i=t.clickAction;if(console.log("in button, clickActionFunctionName: "+i),i.includes("bookmark")){var o=JSON.parse(localStorage.getItem("active_user"));o.bookmarkedService=i.split("bookmark")[1],n(o)}var a=window[i];"function"==typeof a&&a()})},setClickAction:function(t){this.data.clickAction=t},play:function(){},update:function(t){console.log("In button update, toggle: "+this.toggleState)},setActiveState:function(t){console.log("in setActiveState function"),this.data.toggle=this.toggleState=t,t||button.setAttribute("material","src",this.data.base)}})},function(t,e,i){"use strict";if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("trunk",{schema:{on:{default:"click"},clue:{type:"string",default:"#panel-trunk"},opensnd:{type:"string",default:"trunkopensound"},coinsnd:{type:"string",default:"trunkcoinsound"},clickAction:{type:"string"}},init:function(){var t=this.data,e=this.el,i=this.opensound=document.getElementById(t.opensnd),n=this.coinsound=document.getElementById(t.coinsnd);e.setAttribute("geometry","primitive:box; width:1; height:1;depth:1"),e.setAttribute("material","transparent: true; opacity:0; color:#fff;");var r=document.createElement("a-entity");r.setAttribute("obj-model","obj: #trunk_base-obj; mtl: #trunk_base-mtl"),r.setAttribute("scale","0.5 0.5 0.5"),r.setAttribute("position","0 0 0"),e.appendChild(r);var o=document.createElement("a-entity");o.setAttribute("obj-model","obj: #trunk_top-obj; mtl: #trunk_top-mtl"),o.setAttribute("scale","0.5 0.5 0.5"),o.setAttribute("position","0 0 0"),e.appendChild(o);var a=document.createElement("a-animation");a.setAttribute("attribute","rotation"),a.setAttribute("begin","reveal"),a.setAttribute("to","-120 0 0"),a.setAttribute("delay","0"),a.setAttribute("dur","1500"),a.setAttribute("fill","forwards"),o.appendChild(a);var s=document.createElement("a-entity");s.setAttribute("geometry","primitive:plane; width:1.2; height:0.7;"),s.setAttribute("material","color:#2d283d; opacity:0.5"),s.setAttribute("rotation","-90 0 0"),s.setAttribute("position","0 -0.45 0.3"),e.appendChild(s);var u=document.createElement("a-entity");u.setAttribute("geometry","primitive:cylinder; radius:0.175; height:0.05;"),u.setAttribute("material","color:#fcc137; opacity:1;"),u.setAttribute("scale","0.5 0.5 0.5"),u.setAttribute("rotation","90 0 0"),u.setAttribute("position","0 -0.150 0.3"),e.appendChild(u);var l=document.createElement("a-animation");l.setAttribute("attribute","position"),l.setAttribute("begin","reveal"),l.setAttribute("from","0 -0.150 0.3"),l.setAttribute("to","0 0.75 0.3"),l.setAttribute("delay","1800"),l.setAttribute("dur","500"),l.setAttribute("fill","forwards"),u.appendChild(l);var c=document.createElement("a-animation");c.setAttribute("attribute","rotation"),c.setAttribute("begin","reveal"),c.setAttribute("from","90 0 0"),c.setAttribute("to","90 360 0"),c.setAttribute("delay","1800"),c.setAttribute("dur","750"),c.setAttribute("fill","forwards"),u.appendChild(c);var d=document.createElement("a-animation");d.setAttribute("attribute","scale"),d.setAttribute("begin","reveal"),d.setAttribute("from","0.5 0.5 0.5"),d.setAttribute("to","1 1 1"),d.setAttribute("delay","1800"),d.setAttribute("dur","250"),d.setAttribute("fill","forwards"),u.appendChild(d);var h=document.createElement("a-animation");h.setAttribute("attribute","material.opacity"),h.setAttribute("begin","reveal"),h.setAttribute("from","1"),h.setAttribute("to","0"),h.setAttribute("delay","2000"),h.setAttribute("dur","400"),h.setAttribute("fill","forwards"),u.appendChild(h);var f=document.createElement("a-entity");f.setAttribute("geometry","primitive:plane; width:0.75; height:0.36;"),f.setAttribute("material","color:#fff; transparent:true; src:"+t.clue+"; side:double"),f.setAttribute("rotation","0 0 0"),f.setAttribute("position","0 0.75 0.4"),f.setAttribute("scale","0 0 0"),e.appendChild(f);var p=document.createElement("a-animation");p.setAttribute("attribute","scale"),p.setAttribute("begin","reveal"),p.setAttribute("to","1 1 1"),p.setAttribute("delay","2500"),p.setAttribute("dur","500"),p.setAttribute("fill","forwards"),f.appendChild(p),e.addEventListener(t.on,function(e){console.log("Trunk was clicked at: ",e.detail.intersection.point),o.emit("reveal"),u.emit("reveal"),f.emit("reveal"),i.components.sound.stopSound(),i.components.sound.playSound(),setTimeout(function(){n.components.sound.stopSound(),n.components.sound.playSound()},2500);var r=t.clickAction;console.log("in trunk, clickActionFunctionName: "+r);var a=window[r];"function"==typeof a&&a()})},setClickAction:function(t){this.data.clickAction=t},play:function(){},update:function(t){}})},function(t,e,i){"use strict";i(57)},function(t,e,i){"use strict";AFRAME.registerShader("custom-shader",{schema:{dashSize:{default:3},lineWidth:{default:1}},init:function(t){this.material=new THREE.LineDashedMaterial(t),this.update(t)},update:function(t){this.material.dashsize=t.dashsize,this.material.linewidth=t.linewidth}})},function(t,e,i){"use strict"},function(t,e,i){"use strict";i(60)},function(t,e,i){"use strict";var n=window.AFRAME,r=n.utils.extendDeep,o=n.primitives.getMeshMixin();n.registerPrimitive("a-custom-box",r({},o,{defaultComponents:{geometry:{primitive:"box"}},mappings:{depth:"geometry.depth",height:"geometry.height",width:"geometry.width"}}))}]));
//# sourceMappingURL=aframe-app.js.map